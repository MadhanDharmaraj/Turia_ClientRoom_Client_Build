{"version":3,"sources":["views/apps/dsc-license/list/Table.js","views/apps/dsc-license/list/index.js"],"names":["Licenses","useState","data","setData","statusArr","statusColArr","dateFormat","value","undefined","length","moment","format","unix","useEffect","axios","post","licenseType","then","res","digitalsignatures","catch","err","console","log","className","tag","responsive","map","item","index","name","licenseno","issueddate","expirydate","files","file","k","color","target","href","driveid","originalfilename","split","substr","extension","status","ServiceList","Table"],"mappings":"sOA4GeA,EAzFE,SAAH,GAAc,eAG1B,MAAwBC,mBAAS,IAAG,mBAA7BC,EAAI,KAAEC,EAAO,KAEdC,EAAY,CAAC,GAAI,SAAU,GAAI,WAC/BC,EAAe,CAAC,GAAI,gBAAiB,GAAI,gBAQzCC,EAAa,SAACC,GAClB,OAAc,OAAVA,QAA4BC,IAAVD,EACb,GAEY,KAAjBA,EAAME,OACDC,IAAOH,EAAO,KAAKI,OAAO,gBAE1BD,IAAOE,KAAKL,GAAOI,OAAO,eAErC,EAQA,OANAE,qBAAU,WAhBRC,IAAMC,KAAK,kCAAmC,CAAEC,aAAa,IAC1DC,MAAK,SAACC,GAAUf,EAAQe,EAAIhB,KAAKiB,kBAAmB,IACpDC,OAAM,SAACC,GAAUC,QAAQC,IAAIF,EAAK,GAkBvC,GAAG,IAGD,eAAC,IAAI,WACH,cAAC,IAAQ,UACP,eAAC,IAAS,CAACG,UAAU,iEAAiEC,IAAI,KAAI,UAAC,WAE7F,qBAAKD,UAAU,gBAInB,eAAC,KAAK,CAACA,UAAU,wCAAwCE,YAAU,YACjE,gCACE,+BACE,oBAAIF,UAAU,aAAY,SAAC,SAC3B,6BAAI,WACJ,6BAAI,eACJ,6BAAI,gBACJ,6BAAI,UACJ,6BAAI,gBAGR,gCACGtB,EAAKyB,KAAI,SAACC,EAAMC,GAAW,IAAD,EACzB,OACE,+BACE,oBAAIL,UAAU,aAAY,SAAEI,EAAKE,OACjC,6BACGF,EAAKG,YAER,kCACuBvB,IAApBoB,EAAKI,WAA2B1B,EAAWsB,EAAKI,YAAc,KAEjE,6BACGJ,EAAKK,WAAa,EAAI3B,EAAWsB,EAAKK,YAAc,KAEvD,oBAAIT,UAAU,aAAY,SAEZ,QAFY,EAEtBI,EAAKM,aAAK,aAAV,EAAYP,KAAI,SAACQ,EAAMC,GACrB,OACE,cAAC,IAAK,CAASZ,UAAU,QAAQa,MAAM,UAAS,SAC9C,mBAAGC,OAAO,SAASd,UAAU,mCAAmCe,KAAI,6CAAwCJ,EAAKK,QAAO,gEAA+D,SAAEL,EAAKM,iBAAiBC,MAAM,KAAK,GAAGjC,OAAS,EAAC,UAAM0B,EAAKM,iBAAiBC,MAAM,KAAK,GAAGC,OAAO,EAAG,IAAG,YAAIR,EAAKS,WAAcT,EAAKM,oBADhTL,EAIhB,MAGJ,6BACE,eAAC,IAAK,CAACC,MAAOhC,EAAauB,EAAKiB,QAAQ,UAAC,IAAEzC,EAAUwB,EAAKiB,eAvBrDhB,EA2Bb,WAMV,E,OC7FeiB,UARK,WAClB,OACE,qBAAKtB,UAAU,gBAAe,SAC5B,cAACuB,EAAK,KAGZ,C","file":"static/js/86.7b54c7e9.chunk.js","sourcesContent":["\nimport { useEffect, useState } from 'react'\n// ** Reactstrap Imports\nimport {\n  Row,\n  Col,\n  Card,\n  CardBody,  \n  Table,\n  CardTitle,\n  Badge\n} from 'reactstrap'\n\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\n\nimport axios from '@src/configs/axios/axiosConfig'\n\nimport moment from 'moment'\n\nconst Licenses = ({  }) => {\n\n  \n  const [data, setData] = useState([])\n\n  const statusArr = ['', 'Active', '', 'Expired']\n  const statusColArr = ['', 'light-primary', '', 'light-danger']\n \n  const getLicenses = () => {\n    axios.post('/digitalsignatures/listbyclient', { licenseType: false })\n      .then((res) => { setData(res.data.digitalsignatures) })\n      .catch((err) => { console.log(err) })\n  }\n\n  const dateFormat = (value) => {\n    if (value === null || value === undefined) {\n      return ''\n    }\n    if (value.length === 13) {\n      return moment(value, 'x').format('MMM DD, YYYY')\n    } else {\n      return moment.unix(value).format('MMM DD, YYYY')\n    }\n  }\n\n  useEffect(() => {\n    \n      getLicenses()\n    \n  }, [])\n\n  return (\n    <Card>\n      <CardBody >\n        <CardTitle className='align-items-end card-title d-flex justify-content-between mb-0' tag='h5'>\n          Licenses\n          <div className='d-flex'>            \n          </div>\n        </CardTitle>\n      </CardBody>\n      <Table className='text-nowrap text-center border-bottom' responsive>\n        <thead>\n          <tr>\n            <th className='text-start'>Name</th>\n            <th>Number</th>\n            <th>Start Date</th>\n            <th>Expiry Date</th>\n            <th>Files</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((item, index) => {\n            return (\n              <tr key={index}>\n                <td className='text-start'>{item.name}</td>\n                <td>\n                  {item.licenseno}\n                </td>\n                <td>\n                  {item.issueddate !== undefined ? dateFormat(item.issueddate) : ''}\n                </td>\n                <td>\n                  {item.expirydate > 0 ? dateFormat(item.expirydate) : ''}\n                </td>\n                <td className='text-start'>\n                  {\n                    item.files?.map((file, k) => {\n                      return (\n                        <Badge key={k} className='ms-25' color='primary' >\n                          <a target='_blank' className='file-name text-overflow-ellipsis' href={`http://docs.google.com/fileview?id=${file.driveid}&hl=en&pid=explorer&efh=false&a=v&chrome=false&embedded=true`}>{file.originalfilename.split('.')[0].length > 1 ? `${file.originalfilename.split('.')[0].substr(0, 10)}.${file.extension}` : file.originalfilename}</a>\n                        </Badge>\n                      )\n                    })\n                  }\n                </td>\n                <td>\n                  <Badge color={statusColArr[item.status]}> {statusArr[item.status]}</Badge>\n                </td>                \n              </tr>\n            )\n          })}\n        </tbody>\n      </Table>      \n   \n    </Card>\n  )\n}\n\nexport default Licenses\n","// ** User List Component\nimport Table from './Table'\n// ** Styles\nimport '@styles/react/apps/app-users.scss'\n\nconst ServiceList = () => {\n  return (\n    <div className='app-user-list'>\n      <Table />\n    </div>\n  )\n}\n\nexport default ServiceList\n"],"sourceRoot":""}
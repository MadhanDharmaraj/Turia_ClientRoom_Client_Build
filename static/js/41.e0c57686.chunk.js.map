{"version":3,"sources":["views/pages/account-settings/EmailTemplates/MailCard.js","views/pages/account-settings/EmailTemplates/ComposePopup.js","views/pages/account-settings/EmailTemplates/MailDetails.js","views/pages/account-settings/EmailTemplates/Mails.js","views/pages/account-settings/EmailTemplates/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","../node_modules/draftjs-to-html/lib/draftjs-to-html.js"],"names":["MailCard","props","mail","handleMailClick","handleMailReadUpdate","onClick","id","className","classnames","isRead","color","icon","size","name","dangerouslySetInnerHTML","__html","description","replace","userId","orgUserId","ComposePopup","composeOpen","toggleCompose","useState","data","setData","setDescription","block","setBlock","Loader","setStateData","temp","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","useEffect","getMailTemplates","axios","post","then","res","emailtemplates","toast","success","position","catch","err","console","log","togglePopUp","e","preventDefault","updateDescription","obj","updatedBy","scrollable","fade","keyboard","backdrop","container","isOpen","contentClassName","toggle","modalClassName","blocking","loader","href","onSubmit","for","type","disabled","placeholder","defaultValue","toolbarClassName","wrapperClassName","editorState","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","editorClassName","toolbar","options","inline","inDropdown","outline","MailDetails","openMail","setOpenMail","setComposeOpen","show","undefined","isStarred","wheelPropagation","sm","Mails","query","store","setQuery","dispatch","selectMail","updateMails","paginateMail","selectAllMail","updateMailLabel","resetSelectedMail","divClassName","selectedMails","labelColors","personal","company","important","private","mails","setEmails","currentMail","setCurrentMail","length","find","arr","bool","emailIds","dataToUpdate","value","onChange","target","map","index","formatDateToMonthShort","renderMails","handleMailToTrash","ids","folder","handleFolderUpdate","handleLabelsUpdate","label","EmailApp","useDispatch","useSelector","state","email","params","useParams","getMails","q","selectCurrentMail","UILoader","children","tag","overlayColor","Tag","style","backgroundColor","defaultProps","ComponentSpinner","module","exports","forEach","callback","key","hasOwnProperty","call","isEmptyString","str","trim","blockTypesMapping","unstyled","blockquote","code","getBlockTag","getBlockStyle","styles","concat","getHashtagRanges","blockText","hashtagConfig","sections","counter","startIndex","text","trigger","separator","substr","indexOf","endIndex","hashtag","push","offset","getSections","lastOffset","sectionRanges","entityRanges","range","sort","s1","s2","r","start","end","entityKey","isAtomicEntityBlock","getStyleArrayForBlock","inlineStyleRanges","inlineStyles","BOLD","Array","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT","COLOR","BGCOLOR","FONTSIZE","FONTFAMILY","i","substring","getStylesAtOffset","sameStyleAsPrevious","sameStyled","addInlineStyleMarkup","content","getSectionText","ch","join","addStylePropertyMarkup","styleString","test","getEntityMarkup","entityMap","customEntityTransform","entity","html","url","targetOption","alignment","src","alt","height","width","getInlineStyleSections","styleSections","from","section","trimLeadingZeros","sectionText","replacedText","trimTrailingZeros","getStyleTagSectionMarkup","styleSection","getInlineStyleSectionMarkup","styleTagSections","styleSectionText","stylePropertySection","getSectionMarkup","entityInlineMarkup","getBlockInnerMarkup","blockMarkup","getBlockMarkup","directional","blockHtml","blockTag","blockStyle","isList","blockType","getListMarkup","listBlocks","previousBlock","listHtml","nestedListBlock","nestedBlock","depth","editorContent","blocks","factory"],"mappings":"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","file":"static/js/41.e0c57686.chunk.js","sourcesContent":["// ** Custom Components & Plugins\nimport classnames from 'classnames'\n\n// ** Custom Component Import\nimport Avatar from '@components/avatar'\nimport { Inbox, Mail } from 'react-feather'\n\nconst MailCard = props => {\n  // ** Props\n  const {\n    mail,\n    handleMailClick,\n    handleMailReadUpdate\n  } = props\n\n  // ** Function to handle read & mail click\n  const onMailClick = () => {\n    handleMailClick(mail.id)\n    handleMailReadUpdate([mail.id], true)\n  }\n\n  return (\n    <li onClick={() => onMailClick(mail.id)} className={classnames('d-flex user-mail ', { 'mail-read': mail.isRead })}>\n      <div className='mail-left pe-50'>\n        <Avatar \n          color={'light-primary'}\n          icon={<Mail size={22}  className='text-success ms-50 mt-50'/>}  />\n        <div className='user-action'>\n        </div>\n      </div>\n      <div className='mail-body'>\n        <div className='mail-details'>\n          <div className='mail-items'>\n            <h5 className='mb-25'>{mail.name}</h5>\n          </div>\n        </div>\n        <div className='mail-message'>\n          <div className='mail-message text-truncate' dangerouslySetInnerHTML={{ __html: mail.description.replace(/(<([^>]+)>)/ig, '') }}></div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default MailCard\n","// ** React Imports\nimport { useEffect, useState, Fragment } from 'react'\nimport { Editor } from 'react-draft-wysiwyg'\nimport { EditorState, ContentState, convertFromHTML, convertToRaw } from 'draft-js'\nimport { Minus, X, Maximize2 } from 'react-feather'\n\n// ** Reactstrap Imports\nimport {\n  Form,\n  Label,\n  Input,\n  Modal,\n  ModalBody,\n  Button,\n  Col\n} from 'reactstrap'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** User Avatars\nimport '@styles/react/libs/editor/editor.scss'\nimport '@styles/react/libs/react-select/_react-select.scss'\nimport draftToHtml from 'draftjs-to-html'\nimport { orgUserId } from '@src/helper/sassHelper'\nimport toast from 'react-hot-toast'\nconst userId = orgUserId()\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\nconst ComposePopup = props => {\n  // ** Props & Custom Hooks\n  const { composeOpen, toggleCompose, mail } = props\n  // ** States\n  const [data, setData] = useState('')\n  const [description, setDescription] = useState('')\n  const [block, setBlock] = useState(false)\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n  const setStateData = (data) => {\n    const temp = EditorState.createWithContent(\n      ContentState.createFromBlockArray(\n        convertFromHTML(data)\n      )\n    )\n    setData(temp)\n    setDescription(data)\n  }\n\n  useEffect(() => {\n    if (mail !== null) {\n      setStateData(mail.description)\n    }\n  }, [mail])\n\n  const handleChange = (editorState) => {\n    setData(editorState)\n    setDescription(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n  const getMailTemplates = async () => {\n    await axios.post('/emailtemplates/get', { id: mail.id })\n      .then((res) => { setStateData(res.data.emailtemplates.description); toggleCompose(); toast.success('Template Update Successfully', { position: 'bottom-right' }) })\n      .catch((err) => { console.log(err) })\n  }\n\n  // ** Toggles Compose POPUP\n  const togglePopUp = e => {\n    e?.preventDefault()\n    getMailTemplates()\n  }\n\n  const updateDescription = async () => {\n\n    const obj = {\n      updatedBy: userId,\n      description,\n      id: mail.id\n    }\n    setBlock(true)\n    await axios.post('/emailtemplates/update', obj)\n      .then(async () => {\n        await getMailTemplates()\n        setBlock(false)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  return (\n    <Modal\n      scrollable\n      fade={false}\n      keyboard={false}\n      backdrop={false}\n      id='compose-mail'\n      container='.content-body'\n      className='modal-lg'\n      isOpen={composeOpen}\n      contentClassName='p-0'\n      toggle={toggleCompose}\n      modalClassName='modal-sticky'\n    >\n      <UILoader blocking={block} loader={<Loader />}>\n        <div className='modal-header'>\n          <h5 className='modal-title'>Email Format</h5>\n          <div className='modal-actions'>\n            <a href='/' className='text-body me-75' onClick={togglePopUp}>\n              <Minus size={14} />\n            </a>\n            <a href='/' className='text-body me-75' onClick={e => e.preventDefault()}>\n              <Maximize2 size={14} />\n            </a>\n            <a href='/' className='text-body' onClick={togglePopUp}>\n              <X size={14} />\n            </a>\n          </div>\n        </div>\n        <ModalBody className='flex-grow-1 p-0'>\n\n          <Form className='compose-form' onSubmit={e => e.preventDefault()}>\n            <div className='compose-mail-form-field'>\n              <Label for='email-to' className='form-label'>\n                To:\n              </Label>\n              <div className='flex-grow-1'>\n                <Input type='text' disabled />\n              </div>\n            </div>\n            <div className='compose-mail-form-field'>\n              <Label for='email-subject' className='form-label'>\n                Subject:\n              </Label>\n              <Input id='email-subject' placeholder='Subject' defaultValue={mail.name} />\n            </div>\n            <div id='message-editor'>\n              <Editor\n                placeholder='Message'\n                toolbarClassName='rounded-0'\n                wrapperClassName='toolbar-bottom'\n                editorState={data}\n                onEditorStateChange={handleChange}\n                editorClassName='rounded-0 border-0'\n                toolbar={{\n                  options: ['inline', 'textAlign'],\n                  inline: {\n                    inDropdown: false,\n                    options: ['bold', 'italic', 'underline', 'strikethrough']\n                  }\n                }}\n              />\n            </div>\n\n            <Col className='px-1 py-50'>\n              <Button outline color='primary' onClick={() => { updateDescription() }}>Save</Button>\n            </Col>\n          </Form>\n        </ModalBody>\n      </UILoader>\n    </Modal>\n  )\n}\n\nexport default ComposePopup\n","// ** React Imports\nimport { Fragment, useState } from 'react'\n\n// ** Third Party Components\nimport classnames from 'classnames'\nimport ComposePopUp from './ComposePopup'\nimport {\n  ChevronLeft, Edit\n} from 'react-feather'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\n// ** Reactstrap Imports\nimport {\n  Row,\n  Col,\n  Badge,\n  Card,\n  CardBody\n} from 'reactstrap'\n\nconst MailDetails = props => {\n  // ** Props\n  const {\n    mail,\n    openMail,\n    setOpenMail\n  } = props\n\n  const handleGoBack = () => {\n    setOpenMail(false)\n  }\n\n  const [composeOpen, setComposeOpen] = useState(false)\n\n  // ** Toggle Compose Function\n  const toggleCompose = () => setComposeOpen(!composeOpen)\n\n  const renderMessage = obj => {\n    return (\n      <Card>\n        <CardBody className='mail-message-wrapper pt-2'>\n          <div className='mail-message' dangerouslySetInnerHTML={{ __html: obj.description }}></div>\n        </CardBody>\n      </Card>\n    )\n  }\n\n  return (\n    <div\n      className={classnames('email-app-details w-100', {\n        show: openMail\n      })}\n    >\n      {mail !== null && mail !== undefined ? (\n        <Fragment>\n          <div className='email-detail-header'>\n            <div className='email-header-left d-flex align-items-center'>\n              <span className='go-back me-1' onClick={handleGoBack}>\n                <ChevronLeft size={20} />\n              </span>\n              <h4 className='email-subject mb-0'>{mail.name}</h4>\n            </div>\n            <div className='email-header-right ms-2 ps-1'>\n              <ul className='list-inline m-0'>\n                <li className='list-inline-item me-1'>\n                  <span\n                    className='action-icon favorite'\n                    onClick={() => {\n                      setComposeOpen(!composeOpen)\n                    }}\n                  >\n                    <Edit\n                      size={18}\n                      className={classnames({\n                        'text-warning fill-current': mail.isStarred\n                      })}\n                    />\n                  </span>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <PerfectScrollbar className='email-scroll-area' options={{ wheelPropagation: false }}>\n            <Row>\n              <Col sm='12'>\n                <div className='email-label'>{renderMessage(mail)}</div>\n              </Col>\n            </Row>\n          </PerfectScrollbar>\n        </Fragment>\n      ) : null}\n      {(mail !== null && composeOpen) &&\n        <ComposePopUp composeOpen={composeOpen} toggleCompose={toggleCompose} mail={mail} />\n      }\n    </div>\n  )\n}\n\nexport default MailDetails\n","// ** React Imports\nimport { Fragment, useEffect, useState } from 'react'\n\n// ** Mail Components Imports\nimport MailCard from './MailCard'\nimport MailDetails from './MailDetails'\n\n// ** Utils\nimport { formatDateToMonthShort } from '@utils'\n\n// ** Third Party Components\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { Search } from 'react-feather'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Input,\n  InputGroup,\n  InputGroupText,\n  Card\n} from 'reactstrap'\n\nconst Mails = props => {\n  // ** Props\n  const {\n    query,\n    store,\n    openMail,\n    setQuery,\n    dispatch,\n    selectMail,\n    updateMails,\n    setOpenMail,\n    paginateMail,\n    selectAllMail,\n    updateMailLabel,\n    resetSelectedMail,\n    divClassName\n  } = props\n\n  const { selectedMails } = store\n\n  // ** States\n\n  // ** Variables\n  const labelColors = {\n    personal: 'success',\n    company: 'primary',\n    important: 'warning',\n    private: 'danger'\n  }\n  const [mails, setEmails] = useState([])\n  const [currentMail, setCurrentMail] = useState(null)\n\n  const cloneTemplates = () => {\n    axios.post('/emailtemplates/clone')\n      .then(async (res) => {\n        setEmails(res.data.emailtemplates)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const getList = () => {\n    axios.post('/emailtemplates/list')\n      .then(async (res) => {\n        setEmails(res.data.emailtemplates)\n        if (res.data.emailtemplates.length === 0) {\n          await cloneTemplates()\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  useEffect(async () => {\n\n    getList()\n  \n\n  }, [])\n\n  // ** Handles Update Functions\n  const handleMailClick = id => {\n    const mail = mails.find((obj) => obj.id === id)\n    setCurrentMail(mail)\n    setOpenMail(true)\n  }\n\n  // ** Handles Folder Update\n  const handleFolderUpdate = (e, folder, ids = selectedMails) => {\n    e.preventDefault()\n    dispatch(updateMails({ emailIds: ids, dataToUpdate: { folder } }))\n    dispatch(resetSelectedMail())\n  }\n\n  // ** Handles Label Update\n  const handleLabelsUpdate = (e, label, ids = selectedMails) => {\n    e.preventDefault()\n    dispatch(updateMailLabel({ emailIds: ids, label }))\n    dispatch(resetSelectedMail())\n  }\n\n  // ** Handles Mail Read Update\n  const handleMailReadUpdate = (arr, bool) => {\n    dispatch(updateMails({ emailIds: arr, dataToUpdate: { isRead: bool } })).then(() => dispatch(resetSelectedMail()))\n    dispatch(selectAllMail(false))\n  }\n\n  // ** Handles Move to Trash\n  const handleMailToTrash = ids => {\n    dispatch(updateMails({ emailIds: ids, dataToUpdate: { folder: 'trash' } }))\n    dispatch(resetSelectedMail())\n  }\n  /*eslint-enable */\n\n  // ** Renders Mail\n  const renderMails = () => {\n    if (mails.length) {\n      return mails.map((mail, index) => {\n        return (\n          <MailCard\n            mail={mail}\n            key={index}\n            dispatch={dispatch}\n            selectMail={selectMail}\n            updateMails={updateMails}\n            labelColors={labelColors}\n            selectedMails={selectedMails}\n            handleMailClick={handleMailClick}\n            handleMailReadUpdate={handleMailReadUpdate}\n            formatDateToMonthShort={formatDateToMonthShort}\n          />\n        )\n      })\n    }\n  }\n\n  return (\n    <Fragment>\n      <Card>\n        <div className='email-app-list'>\n          <h5 className='my-1 ms-2'>Email Templates</h5>\n          <div className='app-fixed-search d-flex align-items-center'>\n            <div className='d-flex align-content-center justify-content-between w-100'>\n              <InputGroup className='input-group-merge mx-2'>\n                <InputGroupText>\n                  <Search className='text-muted' size={14} />\n                </InputGroupText>\n                <Input\n                  id='email-search'\n                  placeholder='Search email'\n                  value={query}\n                  onChange={e => setQuery(e.target.value)}\n                />\n              </InputGroup>\n            </div>\n          </div>\n          <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: false }}>\n            {mails.length ? (\n              <ul className='email-media-list'>{renderMails()}</ul>\n            ) : (\n              <div className='no-results d-block'>\n                <h5>No Items Found</h5>\n              </div>\n            )}\n          </PerfectScrollbar>\n        </div>\n        <MailDetails\n          divClassName={divClassName}\n          openMail={openMail}\n          dispatch={dispatch}\n          mail={currentMail}\n          labelColors={labelColors}\n          setOpenMail={setOpenMail}\n          updateMails={updateMails}\n          paginateMail={paginateMail}\n          updateMailLabel={updateMailLabel}\n          handleMailToTrash={handleMailToTrash}\n          handleFolderUpdate={handleFolderUpdate}\n          handleLabelsUpdate={handleLabelsUpdate}\n          handleMailReadUpdate={handleMailReadUpdate}\n          formatDateToMonthShort={formatDateToMonthShort}\n        />\n      </Card>\n    </Fragment>\n  )\n}\n\nexport default Mails\n","// ** React Imports\nimport { useParams } from 'react-router-dom'\nimport { Fragment, useEffect, useState } from 'react'\n\n// ** Email App Component Imports\nimport Mails from './Mails'\n\n// ** Store & Actions\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  getMails,\n  selectMail,\n  updateMails,\n  paginateMail,\n  selectAllMail,\n  updateMailLabel,\n  resetSelectedMail,\n  selectCurrentMail\n} from '@src/views/apps/email/store'\n\n// ** Styles\nimport '@styles/react/apps/app-email.scss'\n\nconst EmailApp = () => {\n  // ** States\n  const [query, setQuery] = useState('')\n  const [openMail, setOpenMail] = useState(false)\n  const [composeOpen, setComposeOpen] = useState(false)\n\n  // ** Toggle Compose Function\n  const toggleCompose = () => setComposeOpen(!composeOpen)\n\n  // ** Store Variables\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.email)\n\n  // ** Vars\n  const params = useParams()\n\n  // ** UseEffect: GET initial data on Mount\n  useEffect(() => {\n    dispatch(getMails({ q: query || '', folder: params.folder || 'inbox', label: params.label || '' }))\n  }, [query, params.folder, params.label])\n\n  return (\n    <div className='email-application'>\n      <div className='content-area-wrapper'>\n        <Fragment>\n          <div className='col-md-12'>\n            <div className='content-body'>\n              <Mails\n                store={store}\n                query={query}\n                setQuery={setQuery}\n                dispatch={dispatch}\n                getMails={getMails}\n                divClassName={'col-md-12'}\n                openMail={openMail}\n                selectMail={selectMail}\n                setOpenMail={setOpenMail}\n                updateMails={updateMails}\n                composeOpen={composeOpen}\n                paginateMail={paginateMail}\n                selectAllMail={selectAllMail}\n                toggleCompose={toggleCompose}\n                updateMailLabel={updateMailLabel}\n                selectCurrentMail={selectCurrentMail}\n                resetSelectedMail={resetSelectedMail}\n              />\n            </div>\n          </div>\n        </Fragment>\n      </div>\n    </div>\n  )\n}\n\nexport default EmailApp\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.draftjsToHtml = factory());\n}(this, (function () { 'use strict';\n\n  /**\n  * Utility function to execute callback for eack key->value pair.\n  */\n  function forEach(obj, callback) {\n    if (obj) {\n      for (var key in obj) {\n        // eslint-disable-line no-restricted-syntax\n        if ({}.hasOwnProperty.call(obj, key)) {\n          callback(key, obj[key]);\n        }\n      }\n    }\n  }\n  /**\n  * The function returns true if the string passed to it has no content.\n  */\n\n  function isEmptyString(str) {\n    if (str === undefined || str === null || str.length === 0 || str.trim().length === 0) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n  * Mapping block-type to corresponding html tag.\n  */\n\n  var blockTypesMapping = {\n    unstyled: 'p',\n    'header-one': 'h1',\n    'header-two': 'h2',\n    'header-three': 'h3',\n    'header-four': 'h4',\n    'header-five': 'h5',\n    'header-six': 'h6',\n    'unordered-list-item': 'ul',\n    'ordered-list-item': 'ol',\n    blockquote: 'blockquote',\n    code: 'pre'\n  };\n  /**\n  * Function will return HTML tag for a block.\n  */\n\n  function getBlockTag(type) {\n    return type && blockTypesMapping[type];\n  }\n  /**\n  * Function will return style string for a block.\n  */\n\n  function getBlockStyle(data) {\n    var styles = '';\n    forEach(data, function (key, value) {\n      if (value) {\n        styles += \"\".concat(key, \":\").concat(value, \";\");\n      }\n    });\n    return styles;\n  }\n  /**\n  * The function returns an array of hashtag-sections in blocks.\n  * These will be areas in block which have hashtags applicable to them.\n  */\n\n  function getHashtagRanges(blockText, hashtagConfig) {\n    var sections = [];\n\n    if (hashtagConfig) {\n      var counter = 0;\n      var startIndex = 0;\n      var text = blockText;\n      var trigger = hashtagConfig.trigger || '#';\n      var separator = hashtagConfig.separator || ' ';\n\n      for (; text.length > 0 && startIndex >= 0;) {\n        if (text[0] === trigger) {\n          startIndex = 0;\n          counter = 0;\n          text = text.substr(trigger.length);\n        } else {\n          startIndex = text.indexOf(separator + trigger);\n\n          if (startIndex >= 0) {\n            text = text.substr(startIndex + (separator + trigger).length);\n            counter += startIndex + separator.length;\n          }\n        }\n\n        if (startIndex >= 0) {\n          var endIndex = text.indexOf(separator) >= 0 ? text.indexOf(separator) : text.length;\n          var hashtag = text.substr(0, endIndex);\n\n          if (hashtag && hashtag.length > 0) {\n            sections.push({\n              offset: counter,\n              length: hashtag.length + trigger.length,\n              type: 'HASHTAG'\n            });\n          }\n\n          counter += trigger.length;\n        }\n      }\n    }\n\n    return sections;\n  }\n  /**\n  * The function returns an array of entity-sections in blocks.\n  * These will be areas in block which have same entity or no entity applicable to them.\n  */\n\n\n  function getSections(block, hashtagConfig) {\n    var sections = [];\n    var lastOffset = 0;\n    var sectionRanges = block.entityRanges.map(function (range) {\n      var offset = range.offset,\n          length = range.length,\n          key = range.key;\n      return {\n        offset: offset,\n        length: length,\n        key: key,\n        type: 'ENTITY'\n      };\n    });\n    sectionRanges = sectionRanges.concat(getHashtagRanges(block.text, hashtagConfig));\n    sectionRanges = sectionRanges.sort(function (s1, s2) {\n      return s1.offset - s2.offset;\n    });\n    sectionRanges.forEach(function (r) {\n      if (r.offset > lastOffset) {\n        sections.push({\n          start: lastOffset,\n          end: r.offset\n        });\n      }\n\n      sections.push({\n        start: r.offset,\n        end: r.offset + r.length,\n        entityKey: r.key,\n        type: r.type\n      });\n      lastOffset = r.offset + r.length;\n    });\n\n    if (lastOffset < block.text.length) {\n      sections.push({\n        start: lastOffset,\n        end: block.text.length\n      });\n    }\n\n    return sections;\n  }\n  /**\n  * Function to check if the block is an atomic entity block.\n  */\n\n\n  function isAtomicEntityBlock(block) {\n    if (block.entityRanges.length > 0 && (isEmptyString(block.text) || block.type === 'atomic')) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n  * The function will return array of inline styles applicable to the block.\n  */\n\n\n  function getStyleArrayForBlock(block) {\n    var text = block.text,\n        inlineStyleRanges = block.inlineStyleRanges;\n    var inlineStyles = {\n      BOLD: new Array(text.length),\n      ITALIC: new Array(text.length),\n      UNDERLINE: new Array(text.length),\n      STRIKETHROUGH: new Array(text.length),\n      CODE: new Array(text.length),\n      SUPERSCRIPT: new Array(text.length),\n      SUBSCRIPT: new Array(text.length),\n      COLOR: new Array(text.length),\n      BGCOLOR: new Array(text.length),\n      FONTSIZE: new Array(text.length),\n      FONTFAMILY: new Array(text.length),\n      length: text.length\n    };\n\n    if (inlineStyleRanges && inlineStyleRanges.length > 0) {\n      inlineStyleRanges.forEach(function (range) {\n        var offset = range.offset;\n        var length = offset + range.length;\n\n        for (var i = offset; i < length; i += 1) {\n          if (range.style.indexOf('color-') === 0) {\n            inlineStyles.COLOR[i] = range.style.substring(6);\n          } else if (range.style.indexOf('bgcolor-') === 0) {\n            inlineStyles.BGCOLOR[i] = range.style.substring(8);\n          } else if (range.style.indexOf('fontsize-') === 0) {\n            inlineStyles.FONTSIZE[i] = range.style.substring(9);\n          } else if (range.style.indexOf('fontfamily-') === 0) {\n            inlineStyles.FONTFAMILY[i] = range.style.substring(11);\n          } else if (inlineStyles[range.style]) {\n            inlineStyles[range.style][i] = true;\n          }\n        }\n      });\n    }\n\n    return inlineStyles;\n  }\n  /**\n  * The function will return inline style applicable at some offset within a block.\n  */\n\n\n  function getStylesAtOffset(inlineStyles, offset) {\n    var styles = {};\n\n    if (inlineStyles.COLOR[offset]) {\n      styles.COLOR = inlineStyles.COLOR[offset];\n    }\n\n    if (inlineStyles.BGCOLOR[offset]) {\n      styles.BGCOLOR = inlineStyles.BGCOLOR[offset];\n    }\n\n    if (inlineStyles.FONTSIZE[offset]) {\n      styles.FONTSIZE = inlineStyles.FONTSIZE[offset];\n    }\n\n    if (inlineStyles.FONTFAMILY[offset]) {\n      styles.FONTFAMILY = inlineStyles.FONTFAMILY[offset];\n    }\n\n    if (inlineStyles.UNDERLINE[offset]) {\n      styles.UNDERLINE = true;\n    }\n\n    if (inlineStyles.ITALIC[offset]) {\n      styles.ITALIC = true;\n    }\n\n    if (inlineStyles.BOLD[offset]) {\n      styles.BOLD = true;\n    }\n\n    if (inlineStyles.STRIKETHROUGH[offset]) {\n      styles.STRIKETHROUGH = true;\n    }\n\n    if (inlineStyles.CODE[offset]) {\n      styles.CODE = true;\n    }\n\n    if (inlineStyles.SUBSCRIPT[offset]) {\n      styles.SUBSCRIPT = true;\n    }\n\n    if (inlineStyles.SUPERSCRIPT[offset]) {\n      styles.SUPERSCRIPT = true;\n    }\n\n    return styles;\n  }\n  /**\n  * Function returns true for a set of styles if the value of these styles at an offset\n  * are same as that on the previous offset.\n  */\n\n  function sameStyleAsPrevious(inlineStyles, styles, index) {\n    var sameStyled = true;\n\n    if (index > 0 && index < inlineStyles.length) {\n      styles.forEach(function (style) {\n        sameStyled = sameStyled && inlineStyles[style][index] === inlineStyles[style][index - 1];\n      });\n    } else {\n      sameStyled = false;\n    }\n\n    return sameStyled;\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n  function addInlineStyleMarkup(style, content) {\n    if (style === 'BOLD') {\n      return \"<strong>\".concat(content, \"</strong>\");\n    }\n\n    if (style === 'ITALIC') {\n      return \"<em>\".concat(content, \"</em>\");\n    }\n\n    if (style === 'UNDERLINE') {\n      return \"<ins>\".concat(content, \"</ins>\");\n    }\n\n    if (style === 'STRIKETHROUGH') {\n      return \"<del>\".concat(content, \"</del>\");\n    }\n\n    if (style === 'CODE') {\n      return \"<code>\".concat(content, \"</code>\");\n    }\n\n    if (style === 'SUPERSCRIPT') {\n      return \"<sup>\".concat(content, \"</sup>\");\n    }\n\n    if (style === 'SUBSCRIPT') {\n      return \"<sub>\".concat(content, \"</sub>\");\n    }\n\n    return content;\n  }\n  /**\n  * The function returns text for given section of block after doing required character replacements.\n  */\n\n  function getSectionText(text) {\n    if (text && text.length > 0) {\n      var chars = text.map(function (ch) {\n        switch (ch) {\n          case '\\n':\n            return '<br>';\n\n          case '&':\n            return '&amp;';\n\n          case '<':\n            return '&lt;';\n\n          case '>':\n            return '&gt;';\n\n          default:\n            return ch;\n        }\n      });\n      return chars.join('');\n    }\n\n    return '';\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n\n  function addStylePropertyMarkup(styles, text) {\n    if (styles && (styles.COLOR || styles.BGCOLOR || styles.FONTSIZE || styles.FONTFAMILY)) {\n      var styleString = 'style=\"';\n\n      if (styles.COLOR) {\n        styleString += \"color: \".concat(styles.COLOR, \";\");\n      }\n\n      if (styles.BGCOLOR) {\n        styleString += \"background-color: \".concat(styles.BGCOLOR, \";\");\n      }\n\n      if (styles.FONTSIZE) {\n        styleString += \"font-size: \".concat(styles.FONTSIZE).concat(/^\\d+$/.test(styles.FONTSIZE) ? 'px' : '', \";\");\n      }\n\n      if (styles.FONTFAMILY) {\n        styleString += \"font-family: \".concat(styles.FONTFAMILY, \";\");\n      }\n\n      styleString += '\"';\n      return \"<span \".concat(styleString, \">\").concat(text, \"</span>\");\n    }\n\n    return text;\n  }\n  /**\n  * Function will return markup for Entity.\n  */\n\n  function getEntityMarkup(entityMap, entityKey, text, customEntityTransform) {\n    var entity = entityMap[entityKey];\n\n    if (typeof customEntityTransform === 'function') {\n      var html = customEntityTransform(entity, text);\n\n      if (html) {\n        return html;\n      }\n    }\n\n    if (entity.type === 'MENTION') {\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" class=\\\"wysiwyg-mention\\\" data-mention data-value=\\\"\").concat(entity.data.value, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'LINK') {\n      var targetOption = entity.data.targetOption || '_self';\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" target=\\\"\").concat(targetOption, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'IMAGE') {\n      var alignment = entity.data.alignment;\n\n      if (alignment && alignment.length) {\n        return \"<div style=\\\"text-align:\".concat(alignment, \";\\\"><img src=\\\"\").concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/></div>\");\n      }\n\n      return \"<img src=\\\"\".concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/>\");\n    }\n\n    if (entity.type === 'EMBEDDED_LINK') {\n      return \"<iframe width=\\\"\".concat(entity.data.width, \"\\\" height=\\\"\").concat(entity.data.height, \"\\\" src=\\\"\").concat(entity.data.src, \"\\\" frameBorder=\\\"0\\\"></iframe>\");\n    }\n\n    return text;\n  }\n  /**\n  * For a given section in a block the function will return a further list of sections,\n  * with similar inline styles applicable to them.\n  */\n\n\n  function getInlineStyleSections(block, styles, start, end) {\n    var styleSections = [];\n    var text = Array.from(block.text);\n\n    if (text.length > 0) {\n      var inlineStyles = getStyleArrayForBlock(block);\n      var section;\n\n      for (var i = start; i < end; i += 1) {\n        if (i !== start && sameStyleAsPrevious(inlineStyles, styles, i)) {\n          section.text.push(text[i]);\n          section.end = i + 1;\n        } else {\n          section = {\n            styles: getStylesAtOffset(inlineStyles, i),\n            text: [text[i]],\n            start: i,\n            end: i + 1\n          };\n          styleSections.push(section);\n        }\n      }\n    }\n\n    return styleSections;\n  }\n  /**\n  * Replace leading blank spaces by &nbsp;\n  */\n\n\n  function trimLeadingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = 0; i < replacedText.length; i += 1) {\n        if (sectionText[i] === ' ') {\n          replacedText = replacedText.replace(' ', '&nbsp;');\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * Replace trailing blank spaces by &nbsp;\n  */\n\n  function trimTrailingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = replacedText.length - 1; i >= 0; i -= 1) {\n        if (replacedText[i] === ' ') {\n          replacedText = \"\".concat(replacedText.substring(0, i), \"&nbsp;\").concat(replacedText.substring(i + 1));\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  * like BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE, SUPERSCRIPT, SUBSCRIPT are applicable.\n  */\n\n  function getStyleTagSectionMarkup(styleSection) {\n    var styles = styleSection.styles,\n        text = styleSection.text;\n    var content = getSectionText(text);\n    forEach(styles, function (style, value) {\n      content = addInlineStyleMarkup(style, content);\n    });\n    return content;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  like color, background-color, font-size are applicable.\n  */\n\n\n  function getInlineStyleSectionMarkup(block, styleSection) {\n    var styleTagSections = getInlineStyleSections(block, ['BOLD', 'ITALIC', 'UNDERLINE', 'STRIKETHROUGH', 'CODE', 'SUPERSCRIPT', 'SUBSCRIPT'], styleSection.start, styleSection.end);\n    var styleSectionText = '';\n    styleTagSections.forEach(function (stylePropertySection) {\n      styleSectionText += getStyleTagSectionMarkup(stylePropertySection);\n    });\n    styleSectionText = addStylePropertyMarkup(styleSection.styles, styleSectionText);\n    return styleSectionText;\n  }\n  /*\n  * The method returns markup for an entity section.\n  * An entity section is a continuous section in a block\n  * to which same entity or no entity is applicable.\n  */\n\n\n  function getSectionMarkup(block, entityMap, section, customEntityTransform) {\n    var entityInlineMarkup = [];\n    var inlineStyleSections = getInlineStyleSections(block, ['COLOR', 'BGCOLOR', 'FONTSIZE', 'FONTFAMILY'], section.start, section.end);\n    inlineStyleSections.forEach(function (styleSection) {\n      entityInlineMarkup.push(getInlineStyleSectionMarkup(block, styleSection));\n    });\n    var sectionText = entityInlineMarkup.join('');\n\n    if (section.type === 'ENTITY') {\n      if (section.entityKey !== undefined && section.entityKey !== null) {\n        sectionText = getEntityMarkup(entityMap, section.entityKey, sectionText, customEntityTransform); // eslint-disable-line max-len\n      }\n    } else if (section.type === 'HASHTAG') {\n      sectionText = \"<a href=\\\"\".concat(sectionText, \"\\\" class=\\\"wysiwyg-hashtag\\\">\").concat(sectionText, \"</a>\");\n    }\n\n    return sectionText;\n  }\n  /**\n  * Function will return the markup for block preserving the inline styles and\n  * special characters like newlines or blank spaces.\n  */\n\n\n  function getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform) {\n    var blockMarkup = [];\n    var sections = getSections(block, hashtagConfig);\n    sections.forEach(function (section, index) {\n      var sectionText = getSectionMarkup(block, entityMap, section, customEntityTransform);\n\n      if (index === 0) {\n        sectionText = trimLeadingZeros(sectionText);\n      }\n\n      if (index === sections.length - 1) {\n        sectionText = trimTrailingZeros(sectionText);\n      }\n\n      blockMarkup.push(sectionText);\n    });\n    return blockMarkup.join('');\n  }\n  /**\n  * Function will return html for the block.\n  */\n\n  function getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var blockHtml = [];\n\n    if (isAtomicEntityBlock(block)) {\n      blockHtml.push(getEntityMarkup(entityMap, block.entityRanges[0].key, undefined, customEntityTransform));\n    } else {\n      var blockTag = getBlockTag(block.type);\n\n      if (blockTag) {\n        blockHtml.push(\"<\".concat(blockTag));\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          blockHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          blockHtml.push(' dir = \"auto\"');\n        }\n\n        blockHtml.push('>');\n        blockHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        blockHtml.push(\"</\".concat(blockTag, \">\"));\n      }\n    }\n\n    blockHtml.push('\\n');\n    return blockHtml.join('');\n  }\n\n  /**\n  * Function to check if a block is of type list.\n  */\n\n  function isList(blockType) {\n    return blockType === 'unordered-list-item' || blockType === 'ordered-list-item';\n  }\n  /**\n  * Function will return html markup for a list block.\n  */\n\n  function getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var listHtml = [];\n    var nestedListBlock = [];\n    var previousBlock;\n    listBlocks.forEach(function (block) {\n      var nestedBlock = false;\n\n      if (!previousBlock) {\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.type !== block.type) {\n        listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.depth === block.depth) {\n        if (nestedListBlock && nestedListBlock.length > 0) {\n          listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n          nestedListBlock = [];\n        }\n      } else {\n        nestedBlock = true;\n        nestedListBlock.push(block);\n      }\n\n      if (!nestedBlock) {\n        listHtml.push('<li');\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          listHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          listHtml.push(' dir = \"auto\"');\n        }\n\n        listHtml.push('>');\n        listHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        listHtml.push('</li>\\n');\n        previousBlock = block;\n      }\n    });\n\n    if (nestedListBlock && nestedListBlock.length > 0) {\n      listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n    }\n\n    listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n    return listHtml.join('');\n  }\n\n  /**\n  * The function will generate html markup for given draftjs editorContent.\n  */\n\n  function draftToHtml(editorContent, hashtagConfig, directional, customEntityTransform) {\n    var html = [];\n\n    if (editorContent) {\n      var blocks = editorContent.blocks,\n          entityMap = editorContent.entityMap;\n\n      if (blocks && blocks.length > 0) {\n        var listBlocks = [];\n        blocks.forEach(function (block) {\n          if (isList(block.type)) {\n            listBlocks.push(block);\n          } else {\n            if (listBlocks.length > 0) {\n              var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, customEntityTransform); // eslint-disable-line max-len\n\n              html.push(listHtml);\n              listBlocks = [];\n            }\n\n            var blockHtml = getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform);\n            html.push(blockHtml);\n          }\n        });\n\n        if (listBlocks.length > 0) {\n          var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform); // eslint-disable-line max-len\n\n          html.push(listHtml);\n          listBlocks = [];\n        }\n      }\n    }\n\n    return html.join('');\n  }\n\n  return draftToHtml;\n\n})));\n"],"sourceRoot":""}
{"version":3,"sources":["views/ui-elements/cards/advance/CardAttendance.js","views/ui-elements/cards/statistics/StatsCard.js","views/ui-elements/cards/advance/CardMeetup.js","views/ui-elements/cards/analytics/RevenueReport.js","views/ui-elements/cards/advance/MyTaskTodays.js","views/ui-elements/cards/advance/MyTaskDueTodays.js","views/ui-elements/cards/advance/MyOverdueTasks.js","views/ui-elements/cards/advance/CardEmployeesOpenTask.js","views/ui-elements/cards/analytics/RevenueReportTable.js","views/dashboard/ecommerce/index.js"],"names":["activeOrgId","activeOrganizationid","userId","orgUserId","userData","loggedInUser","CardAttendance","margin","padding","welcomeflag","dispatch","useDispatch","navigate","useNavigate","dayName","moment","format","store","useSelector","state","dashboard","orgstore","organization","notstore","notifications","useState","loggedIn","setLoggedIn","data","setData","businessHours","setBusinessHours","graceTime","setGraceTime","punchInTime","setPunchInTime","punchInTimeWithDate","setPunchInTimeWithDate","clockRunningTime","setClockRunningTime","punchOutTime","setPunchoutTime","hourlyRate","setHourlyRate","locationName","setLocationname","formModal","setFormModal","breakName","setBreakName","breakCon","setBreakCon","item_login","color","icon","size","item_logout","sendNotification","axios","post","useEffect","message","userid","locationname","updateLocation","location","punchoutLoc","id","punchoutlocation","then","getLocation","latitude","longitude","flg","request","XMLHttpRequest","url","open","onreadystatechange","readyState","status","JSON","parse","responseText","address","results","formatted_address","send","punchInfn","businessHour","find","obj","day","Dayhours","currentTime","temptime","start","split","join","Number","parseFloat","toFixed","organizationId","punchIn","utc","valueOf","createdBy","attendancelatitude","geoCordinate","attendancelangtitude","actualDate","startOf","res","Object","keys","length","payload","msToTime","ms","seconds","hours","parseInt","minutes","stopTaskTimer","temp","end","starttime","toDate","end_timestamp","duration","diff","asHours","amount","updatedBy","taskId","taskid","totalhours","endTime","endTimer","localStorage","removeItem","punchoutfn","toast","error","position","now","datatemp","punchOut","totalHours","tasktimer","getItem","navigator","geolocation","getCurrentPosition","coords","geoLocation","console","undefined","punchout","punchin","tempdate","setInterval","clockcounter","setItem","stringify","getAttendance","organizationprefernces","officetime","punchingrace","catch","organizationusers","hourlyrate","err","log","breakStorage","runningtime","setRunningTime","breakRunningTime","className","md","sm","name","onClick","I","a","isOpen","toggle","type","placeholder","onChange","e","target","value","outline","startTime","timesheet","submitBreak","endtime","manualname","endBreak","href","lg","activeOrg","activeOrganization","title","subtitle","StatsCard","cols","dataArr","updateParam","sts","updateStatusParams","date","userType","organizationusersusertypeid","forEach","key","ind","tasks","findIndex","o","taskstatus","count","getStats","tag","map","item","index","classnames","MySwal","withReactContent","Swal","CardMeetup","schema","yup","shape","default","required","description","useForm","resolver","yupResolver","defaultValues","cast","handleSubmit","errors","formState","control","setValue","getNotices","noticeevents","selItem","setSelItem","deleteItem","activeIndex","setActiveIndex","animating","setAnimating","onExiting","onExited","getRow","fieldLabel","fieldName","reqflag","for","render","field","invalid","closeModal","slides","rolelevel","replace","fire","text","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","src","illustration","height","next","nextIndex","previous","items","onClickHandler","newIndex","Form","onSubmit","xs","RevenueReport","currentMonth","monthlist","chartData","setChartData","add","currentYear","setCurrentYear","filter","setFilter","indianFormattedPrice","val","String","removedValue","finalVal","includes","slice","indexOf","toString","lastThree","substring","otherNumbers","getData","params","startdate","set","subtract","enddate","endOf","dataSamp","labels","datasets","label","backgroundColor","borderColor","i","total_data","total","received_data","received","options","scales","x","grid","display","y","ticks","autoSkip","maxTicksLimit","plugins","datalabels","legend","width","caret","k","year","applyFilter","total_invoice","total_received","MyTaskTodays","endDate","Link","to","servicename","clientname","unix","MyTaskDueTodays","MyOverdueTasks","dueDays","due","CardEmployeesOpenTask","employeesTasks","setEmployeeTasks","users","task","initials","content","username","charAt","toUpperCase","RevenueReportTable","output","responsive","style","fontSize","sales","receipts","EcommerceDashboard","context","useContext","ThemeColors","settingFlags","setSettingFlags","settingFlagFn","dashboardFlag","xl","success","colors","main","primary"],"mappings":"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","file":"static/js/85.2ee3fd61.chunk.js","sourcesContent":["// ** Reactstrap Imports\nimport { Card, CardBody, CardText, Button, Row, Col, Badge, Modal, ModalHeader, ModalBody, ModalFooter, Input } from 'reactstrap'\n// ** Images\n//import medal from '@src/assets/images/illustration/badge.svg'\nimport { LogIn, LogOut, MapPin } from 'react-feather'\nimport { endTimer } from '@src/views/apps/task/store/index.js'\n// ** Custom Components\nimport { activeOrganizationid, orgUserId, loggedInUser } from '@src/helper/sassHelper'\nimport Avatar from '@components/avatar'\nimport { punchIn, punchOut, getAttendance } from '../../../dashboard/ecommerce/store'\nimport { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport moment from 'moment'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { geoLocation } from '@src/views/pages/account-settings/store/index.js'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { Can } from '@src/utility/context/Can.js'\nimport toast from 'react-hot-toast'\nconst activeOrgId = activeOrganizationid()\nconst userId = orgUserId()\nconst userData = loggedInUser()\nconst CardAttendance = ({ margin, padding, welcomeflag }) => {\n\n  const attStatus = ['', 'Early', 'Regular', 'Late']\n  const atttatusColor = ['', 'light-primary', 'light-success', 'light-danger']\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const dayName = moment().format('dddd')\n  const store = useSelector(state => state.dashboard)\n  const orgstore = useSelector(state => state.organization)\n  const notstore = useSelector(state => state.notifications)\n\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [data, setData] = useState(null)\n  const [businessHours, setBusinessHours] = useState([])\n  const [graceTime, setGraceTime] = useState(0.00)\n  const [punchInTime, setPunchInTime] = useState(null)\n  const [punchInTimeWithDate, setPunchInTimeWithDate] = useState(null)\n  const [clockRunningTime, setClockRunningTime] = useState(null)\n  const [punchOutTime, setPunchoutTime] = useState(null)\n  const [hourlyRate, setHourlyRate] = useState(0)\n  const [locationName, setLocationname] = useState('')\n\n  const [formModal, setFormModal] = useState(false)\n  const [breakName, setBreakName] = useState('')\n  const [breakCon, setBreakCon] = useState(null)\n\n  const item_login = {\n    color: 'light-success',\n    icon: <LogIn size={24} />\n  }\n\n  const item_logout = {\n    color: 'light-danger',\n    icon: <LogOut size={24} />\n  }\n\n  const getusinessHours = () => {\n    axios.post('/organizationprefernces/getbusinesshours')\n      .then((res) => {\n        setBusinessHours(res.data.organizationprefernces.officetime)\n        const temp = parseFloat(res.data.organizationprefernces.punchingrace) < 10 ? parseFloat(res.data.organizationprefernces.punchingrace / 10).toFixed(2) : parseFloat(res.data.organizationprefernces.punchingrace / 100).toFixed(2)\n        setGraceTime(temp)\n      })\n      .catch(() => { })\n  }\n\n\n  const getEmployeeDet = () => {\n    axios.post('/organizationusers/getjobinfo', { id: userId })\n      .then((res) => {\n        setHourlyRate(res.data.organizationusers.hourlyrate || 0)\n      }).catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const sendNotification = (data) => {\n\n    axios.post('/notifications/sendnotifications', { data })\n\n  }\n\n  useEffect(() => {\n\n    if (userId === notstore?.message?.userid) {\n      setData(notstore.message)\n      setLocationname(notstore.message.locationname)\n    }\n\n  }, [notstore.message])\n\n  const updateLocation = (location, punchoutLoc, id) => {\n\n    axios.post('/employeeattendances/updatelocation', { id, punchoutlocation: punchoutLoc, location })\n      .then(async () => {\n      })\n  }\n\n  const getLocation = async (latitude, longitude, flg = true, id) => {\n    const request = new XMLHttpRequest()\n\n    const method = 'GET'\n    const url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&sensor=false&key=AIzaSyB1Mx2YS1sVJqU-K6jaFFX2epPPB4djnSU`\n    const async = true\n    let location = ''\n    await request.open(method, url, async)\n    request.onreadystatechange = async () => {\n      if (request.readyState === 4 && request.status === 200) {\n        const data = JSON.parse(request.responseText)\n        const address = data.results[0]\n        location = address.formatted_address\n        if (flg) {\n          setLocationname(location)\n          updateLocation(location, '', id)\n        } else {\n          updateLocation('', location, id)\n        }\n      }\n    }\n    await request.send()\n\n  }\n\n  const punchInfn = async () => {\n    const businessHour = businessHours.find((obj) => {\n      return JSON.parse(obj).day === dayName\n    })\n    const Dayhours = JSON.parse(businessHour)\n    let status = 2\n    const currentTime = moment().format('H.mm')\n    const temptime = (Dayhours.start.split(':')).join('.')\n    if ((Number(temptime) + Number(parseFloat(graceTime).toFixed(2))) < Number(currentTime)) {\n      status = 3\n    } else if ((Number(temptime) - Number(parseFloat(graceTime).toFixed(2))) > Number(currentTime)) {\n      status = 1\n    }\n\n    const data = {\n      organizationId: activeOrgId,\n      punchIn: moment().utc().valueOf(),\n      userId,\n      status,\n      createdBy: userId,\n      attendancelatitude: orgstore?.geoCordinate?.latitude,\n      attendancelangtitude: orgstore?.geoCordinate?.longitude,\n      locationName,\n      actualDate: moment().startOf('day').utc().format('x')\n    }\n    const res = await dispatch(punchIn(data))\n\n    if (Object.keys(orgstore).length > 0) {\n      await getLocation(orgstore?.geoCordinate?.latitude, orgstore?.geoCordinate?.longitude, true, res.payload?.id)\n    }\n\n    await sendNotification(res.payload)\n  }\n\n  const msToTime = (ms) => {\n\n    let seconds = ms / 1000\n    const hours = parseInt(seconds / 3600)\n    seconds = seconds % 3600\n    const minutes = parseInt(seconds / 60)\n    seconds = seconds % 60\n    return `${hours} : ${minutes}: ${parseInt(seconds)}`\n  }\n\n  const clockcounter = () => {\n    if (punchInTimeWithDate !== undefined && punchInTimeWithDate !== null) {\n      const now = moment()\n      const ms = moment.utc(moment(now, \"DD/MM/YYYY HH:mm:ss\").diff(moment(punchInTimeWithDate, \"DD/MM/YYYY HH:mm:ss\")))\n      setClockRunningTime(msToTime(ms))\n    }\n  }\n\n  const stopTaskTimer = async (temp) => {\n    const end = moment()\n    const start = moment(temp.starttime, 'x').toDate()\n    const end_timestamp = moment().valueOf()\n    const duration = moment.duration(end.diff(start))\n    const hours = duration.asHours()\n    const amount = hourlyRate * hours\n    const data = {\n      updatedBy: userId,\n      id: temp.id,\n      taskId: temp.taskid,\n      totalhours: hours,\n      amount,\n      hourlyRate,\n      userId,\n      endTime: end_timestamp\n    }\n    await dispatch(endTimer(data))\n    await localStorage.removeItem('currentTask')\n  }\n\n  const punchoutfn = async () => {\n\n    if (breakCon) {\n      toast.error('Please Stop Break Time', { position: 'bottom-right' })\n      return false\n    }\n\n    const now = moment()\n    const ms = moment(now, \"DD/MM/YYYY HH:mm:ss\").diff(moment(punchInTimeWithDate, \"DD/MM/YYYY HH:mm:ss\"))\n\n    const datatemp = {\n      organizationId: activeOrgId,\n      punchOut: moment().valueOf(),\n      userId,\n      id: data.id,\n      updatedBy: userId,\n      totalHours: ms\n    }\n    await dispatch(punchOut(datatemp))\n\n    const tasktimer = JSON.parse(localStorage.getItem('currentTask') || null)\n    if (tasktimer !== null) {\n      stopTaskTimer(tasktimer)\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords\n\n        dispatch(geoLocation({ latitude, longitude }))\n        await getLocation(latitude, longitude, false, data?.id)\n      },\n      (error) => {\n        // display an error if we cant get the users position\n        console.error('Error getting user location:', error)\n      }\n    )\n\n  }\n\n  useEffect(() => {\n    if (punchInTimeWithDate !== undefined && punchInTimeWithDate !== null) {\n      const now = moment()\n      const ms = moment.utc(moment(now, \"DD/MM/YYYY HH:mm:ss\").diff(moment(punchInTimeWithDate, \"DD/MM/YYYY HH:mm:ss\")))\n      setClockRunningTime(msToTime(ms))\n    }\n  }, [punchInTimeWithDate])\n\n  useEffect(() => {\n    const temp = JSON.parse(localStorage.getItem('loggedIn'))\n    if (temp === null) {\n      setLoggedIn(false)\n    } else {\n      setLoggedIn(true)\n      setPunchoutTime(temp.punchout)\n      setData(temp)\n      setLocationname(temp.locationname)\n      setPunchInTime(moment(temp.punchin, 'x').format('h:m a'))\n      const tempdate = moment(temp.punchin, 'x').format('DD/MM/YYYY HH:mm:ss')\n      setPunchInTimeWithDate(tempdate)\n      if (temp.punchout) {\n        setLoggedIn(false)\n        setPunchoutTime(moment(temp.punchout, 'x').format('h:m a'))\n      }\n\n    }\n\n  }, [])\n\n  if (data) {\n    setInterval(() => {\n      clockcounter()\n    }, 1000)\n  }\n\n  useEffect(() => {\n    if (!!store && !!store.data && Object.keys(store.data).length > 0) {\n      setLoggedIn(true)\n      const temp = store.data\n      setData(temp)\n      setLocationname(temp.locationname)\n      localStorage.setItem('loggedIn', JSON.stringify(temp))\n      setPunchInTime(moment(temp.punchin, 'x').format('h:m a'))\n      setPunchInTimeWithDate(moment(temp.punchin, 'x').format('DD/MM/YYYY HH:mm:ss'))\n      if (temp.punchout) {\n        setLoggedIn(false)\n        setPunchoutTime(moment(temp.punchout, 'x').format('h:m a'))\n      }\n\n    } else {\n      localStorage.removeItem('loggedIn')\n      setData(null)\n      setLoggedIn(false)\n      setPunchoutTime(null)\n      setPunchInTime(null)\n      setPunchInTimeWithDate(null)\n    }\n  }, [store.data])\n\n  useEffect(async () => {\n    await dispatch(getAttendance({ userId, actualDate: moment().startOf('day').utc().format('x') }))\n    getusinessHours()\n    getEmployeeDet()\n  }, [])\n\n\n  useEffect(() => {\n    const breakStorage = JSON.parse(localStorage.getItem('breakLogin'))\n    if (breakStorage) {\n      setBreakCon(breakStorage)\n    }\n  }, [])\n\n  const [runningtime, setRunningTime] = useState(0)\n\n  const breakRunningTime = () => {\n    const now = moment().valueOf()\n    const ms = moment.utc(moment(now, \"x\").diff(moment(breakCon.starttime, \"x\")))\n    setRunningTime(msToTime(ms))\n  }\n\n  useEffect(() => {\n    if (breakCon) {\n      setInterval(() => {\n        breakRunningTime()\n      }, [1000])\n    }\n  }, [breakCon])\n\n  const submitBreak = () => {\n    const startTime = moment().valueOf()\n    axios.post('/tasktimesheets/breakentry', {\n      userId, createdBy: userId, starttime: startTime, name: breakName\n    })\n      .then((res) => {\n        localStorage.setItem('breakLogin', JSON.stringify(res.data.timesheet))\n        setBreakCon(res.data.timesheet)\n        setFormModal(false)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const endBreak = () => {\n    const endTime = moment().valueOf()\n    axios.post('/tasktimesheets/breakentry', {\n      userId, createdBy: userId, starttime: breakCon?.starttime, id: breakCon?.id, endtime: endTime, name: breakCon.manualname\n    })\n      .then(() => {\n        localStorage.removeItem('breakLogin')\n        setBreakCon(null)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  return (\n    <Card className={`card-congratulations-medal ${margin !== undefined ? margin[0] : ''}`}>\n      <CardBody className={`flex ${padding}`}>\n        <Row className='d-flex justify-content-between'>\n          <Col className='col' md={6} sm={6}>\n\n            {!welcomeflag && <h5>Welcome ðŸŽ‰ {userData.name}!</h5>}\n            <Col className='d-flex'>\n              {\n                businessHours !== null && businessHours.length > 0 && (\n                  !loggedIn ? (<Button color='success' onClick={() => punchInfn()}>Punch In</Button>) : (<Button color='danger' onClick={() => punchoutfn()}>Punch Out</Button>)\n                )\n              }\n            </Col>\n            {\n              (businessHours === null || businessHours.length === 0) && (\n                <Can I={'read'} a={'setting'}>\n                  <p className='cursor-pointer text-primary' onClick={() => navigate('/account-settings')}>Click here to set Business Hours</p>\n                </Can>\n              )\n            }\n\n            <Modal isOpen={formModal} toggle={() => setFormModal(!formModal)} className='modal-dialog-centered modal-sm'>\n              <ModalHeader toggle={() => setFormModal(!formModal)}>\n                Break\n              </ModalHeader>\n              <ModalBody>\n                <Input type='text' placeholder='Break Name' onChange={(e) => setBreakName(e.target.value)} />\n              </ModalBody>\n              <ModalFooter>\n                <Button color='warning' onClick={() => setFormModal(formModal)} outline>\n                  Cancel\n                </Button>\n                <Button color='primary' outline onClick={() => { submitBreak() }}>\n                  Submit\n                </Button>\n              </ModalFooter>\n            </Modal>\n          </Col>\n          {\n            businessHours !== null && businessHours.length > 0 && (\n              <Col className='col text-end' md='6' sm={6}>\n                {data !== null &&\n                  <div>\n                    <Badge color={atttatusColor[data.status]}>{attStatus[data.status]}</Badge>\n                  </div>\n                }\n\n                {(loggedIn && !breakCon) &&\n                  <Button color='primary' onClick={() => setFormModal(true)} className='mt-50' outline>Take a Break</Button>\n                }\n                {(loggedIn && breakCon) &&\n                  <Button color='success' onClick={() => endBreak()} className='mt-50' outline>End Break</Button>\n                }\n              </Col>\n            )\n          }\n\n        </Row>\n        <Row>\n          {locationName !== '' &&\n            <a className='d-flex mt-50' href={`https://www.google.com/maps/search/${locationName}`} target='_blank'>\n              <div className='text-truncate text-primary font-small-3 width-200'>{locationName}</div>\n              <MapPin size={16} className='text-primary' />\n            </a>\n          }\n          {breakCon &&\n            <h6 className='text-danger mt-50'>Break Running time : {runningtime} </h6>\n          }\n        </Row>\n        <Row className={`pt-1`}>\n          <Col className='d-flex align-items-center col' sm={6} lg={6}>\n            <Avatar color={item_login.color} icon={item_login.icon} className='me-2 p-1' />\n            <Col>\n              <h6 className='fw-bolder mb-0'>Punch In</h6>\n              <CardText className='font-small-3 mb-0'>{punchInTime === null ? '00:00:00' : punchInTime}</CardText>\n            </Col>\n          </Col>\n          <Col className='d-flex align-items-center col' sm={6} lg={6}>\n            <Avatar color={item_logout.color} icon={item_logout.icon} className='me-2 p-1' />\n            <Col>\n              <h6 className='fw-bolder mb-0'>Punch Out</h6>\n              <CardText className='font-small-3 mb-0'>{punchOutTime === null ? clockRunningTime : punchOutTime}</CardText>\n            </Col>\n          </Col>\n        </Row>\n      </CardBody>\n    </Card >\n  )\n}\n\nexport default CardAttendance\n","// ** Third Party Components\nimport classnames from 'classnames'\nimport { AlertOctagon, AlertTriangle, CheckCircle, CheckSquare, Circle, RefreshCcw, RefreshCw } from 'react-feather'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Card, CardHeader, CardTitle, CardBody, CardText, Row, Col } from 'reactstrap'\nimport { useEffect, useState } from 'react'\nimport { activeOrganization, orgUserId } from '@src/helper/sassHelper'\nimport moment from 'moment'\nimport { updateStatusParams } from '@src/views/apps/task/store/index.js'\nimport { useDispatch } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nconst userId = orgUserId()\nconst activeOrg = activeOrganization()\nconst data = [\n  {\n    status: 1,\n    title: '0',\n    subtitle: 'Pending',\n    color: 'light-primary',\n    icon: <Circle size={20} />\n  },\n  {\n    status: 2,\n    title: '0',\n    subtitle: 'In Progress',\n    color: 'light-warning',\n    icon: <CheckSquare size={20} />\n  },\n  {\n    status: 3,\n    title: '0',\n    subtitle: 'Completed',\n    color: 'light-success',\n    icon: <CheckCircle size={20} />\n  },\n  {\n    status: 6,\n    title: '0',\n    subtitle: 'Pending Review',\n    color: 'light-ocean',\n    icon: <AlertOctagon size={20} />\n  },\n  {\n    status: 7,\n    title: '0',\n    subtitle: 'Request Changes',\n    color: 'light-info',\n    icon: <RefreshCcw size={20} />\n  },\n  {\n    status: 9,\n    title: '0',\n    subtitle: 'Overdue',\n    color: 'light-danger',\n    icon: <AlertTriangle size={20} />\n  }\n]\n\nconst StatsCard = ({ cols }) => {\n\n\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const [dataArr, setData] = useState([])\n\n  const getStats = () => {\n\n    const obj = { date: moment().startOf('day').utc().format('x'), userId, userType: activeOrg.organizationusersusertypeid }\n    axios.post('tasks/taskcountbystatus', obj)\n      .then((res) => {\n        data.forEach((obj, key) => {\n          const ind = res.data.tasks.findIndex((o) => parseInt(o.taskstatus) === obj.status)\n          if (ind > -1) {\n            data[key].title = res.data.tasks[ind].count\n          }\n        })\n        setData(data)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const updateParam = async (sts) => {\n    const obj = {\n      status: sts\n    }\n    await dispatch(updateStatusParams(obj))\n    navigate('/task/list')\n  }\n\n\n  useEffect(() => {\n    if (activeOrg !== null) {\n      getStats()\n    }\n  }, [])\n\n  const renderData = () => {\n    return dataArr.map((item, index) => {\n\n      return (\n        <Col\n          key={index}\n          {...cols}\n          className={classnames({\n            [`mb-2`]: index !== data.length - 1\n          }, [`col flex-50`])}\n        >\n          <div className='d-flex align-items-center cursor-pointer' onClick={() => { updateParam([item.status]) }}>\n            <Avatar color={item.color} icon={item.icon} className='me-2' />\n            <div className='my-auto'>\n              <h6 className='fw-bolder mb-0'>{item.title}</h6>\n              <CardText className='font-small-3 mb-0'>{item.subtitle}</CardText>\n            </div>\n          </div>\n        </Col>\n      )\n    })\n  }\n\n  return (\n    <Card className='card-statistics'>\n      <CardHeader>\n        <CardTitle tag='h4'>Task Stats</CardTitle>\n        {/* <CardText className='card-text font-small-2 me-25 mb-0'>Updated 1 month ago</CardText> */}\n      </CardHeader>\n      <CardBody className='py-0'>\n        <Row>{renderData()}</Row>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default StatsCard\n","// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Icons Imports\nimport { Calendar, Edit, PlusCircle, Trash2 } from 'react-feather'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport {\n  Card, CardTitle, CardBody, Modal, ModalBody, ModalHeader, Row, Col, Button, Label, Input, FormFeedback, Form, Carousel,\n  CarouselItem,\n  CarouselControl,\n  CarouselIndicators\n} from 'reactstrap'\nimport illustration from '@src/assets/images/illustration/email.svg'\nimport moment from 'moment'\nimport { Fragment, useState } from 'react'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { activeOrganization } from '@src/helper/sassHelper'\n// const activeOrgId = activeOrganizationid()\nconst activeOrg = activeOrganization()\n// const userId = orgUserId()\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nconst MySwal = withReactContent(Swal)\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nconst CardMeetup = () => {\n\n  const schema = yup.object().shape({\n    createdBy: yup.string().default(''),\n    id: yup.string().default(''),\n    organizationId: yup.string().default(''),\n    name: yup.string().default('').required('Please Enter Name'),\n    description: yup.string().default('').required('Please Enter Description')\n  })\n\n  const { handleSubmit, formState: { errors }, control, setValue } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const [formModal, setFormModal] = useState(false)\n  const [data, setData] = useState([])\n  const addpopup = () => {\n    setFormModal(true)\n  }\n\n  const getNotices = () => {\n    axios.post('/noticeevents/list')\n      .then((res) => {\n        setData(res.data.noticeevents)\n      })\n  }\n\n  const [selItem, setSelItem] = useState(null)\n\n  const onSubmit = (obj) => {\n\n    axios.post(`/noticeevents/${selItem ? 'update' : 'create'}`, obj)\n      .then(() => {\n        setFormModal(false)\n        setValue('name', '')\n        setValue('description', '')\n        getNotices()\n      })\n  }\n\n  const deleteItem = (id) => {\n    axios.post(`/noticeevents/delete`, { id })\n      .then(() => {\n        getNotices()\n      })\n  }\n  const deletefun = (id) => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await deleteItem(id)\n        MySwal.fire({\n          icon: 'success',\n          title: 'Deleted!',\n          text: 'Notice has been deleted.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n      }\n    })\n  }\n\n\n  const editModal = (obj) => {\n    setFormModal(true)\n    setSelItem(obj)\n    setValue('name', obj.name)\n    setValue('id', obj.id)\n    setValue('description', obj.description.replace(/(\\\\n)/g, \"\\n\"))\n  }\n\n  const [activeIndex, setActiveIndex] = useState(0)\n  const [animating, setAnimating] = useState(0)\n\n  const onExiting = () => {\n    setAnimating(true)\n  }\n\n  const onExited = () => {\n    setAnimating(false)\n  }\n\n  const next = () => {\n    if (animating) return\n    const nextIndex = activeIndex === data.length - 1 ? 0 : activeIndex + 1\n    setActiveIndex(nextIndex)\n  }\n\n  const previous = () => {\n    if (animating) return\n    const nextIndex = activeIndex === 0 ? data.length - 1 : activeIndex - 1\n    setActiveIndex(nextIndex)\n  }\n\n  const goToIndex = newIndex => {\n    if (animating) return\n    setActiveIndex(newIndex)\n  }\n\n  useState(() => {\n    getNotices()\n  })\n\n  const getRow = (fieldLabel, fieldName, reqflag = true, type) => {\n    return (\n      <Col md={12}>\n        <Label sm='12' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input type={type} invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Col>\n    )\n  }\n\n  const closeModal = () => {\n    setFormModal(false)\n    setSelItem(null)\n    setValue('id', '')\n    setValue('name', '')\n    setValue('description', '')\n  }\n\n  const slides = data.map(item => {\n    return (\n      <CarouselItem onExiting={onExiting} onExited={onExited} key={item.id} className='carousal-window scroll-example border-0'>\n        <h5>{item.name}</h5>\n        <p className='text-body white-space-wrap'>{item.description}</p>\n        {(parseInt(activeOrg?.rolelevel) === 1 || parseInt(activeOrg?.rolelevel) === 2) &&\n          <div className='carousal-action'>\n            <Edit size={16} onClick={() => editModal(item)} className='text-primary me-1 cursor-pointer' />\n            <Trash2 size={16} onClick={() => deletefun(item.id)} className='text-danger cursor-pointer' />\n          </div>\n        }\n      </CarouselItem>\n    )\n  })\n\n  return (\n    <Card className='card-developer-meetup'>\n      <div className='meetup-img-wrapper rounded-top text-center'>\n        <img src={illustration} height='170' />\n      </div>\n      <CardBody>\n        <div className='meetup-header d-flex align-items-center mb-1'>\n          <div className='meetup-day'>\n            <h6 className='mb-0'>{moment().format('ddd')}</h6>\n            <h3 className='mb-0'>{moment().format('D')}</h3>\n          </div>\n          <div className='my-auto w-100'>\n            <CardTitle className='mb-25 d-flex justify-content-between'>\n              <h5>Notice Board</h5  >\n              {(parseInt(activeOrg?.rolelevel) === 1 || parseInt(activeOrg?.rolelevel) === 2) &&\n                <PlusCircle size={18} className='cursor-pointer' onClick={() => { addpopup() }} />\n              }\n            </CardTitle>\n          </div>\n        </div>\n        <div className='mb-1 p-25 bg-light-primary'>\n          <Carousel activeIndex={activeIndex} next={next} previous={previous}>\n            <CarouselIndicators\n              items={data}\n              className='m-0'\n              activeIndex={activeIndex}\n              onClickHandler={goToIndex}\n            />\n            {slides}\n          </Carousel>\n        </div>\n        < Modal isOpen={formModal} toggle={() => setFormModal(!formModal)} className='modal-dialog-centered'>\n          <ModalHeader toggle={() => closeModal()}>Notice Board</ModalHeader>\n          <ModalBody>\n            <Row className='gx-2 gy-1' tag={Form} onSubmit={handleSubmit(onSubmit)}>\n\n              {getRow('Title', 'name', true, 'text')}\n              {getRow('Message', 'description', true, 'textarea')}\n\n              <Col className='mt-2 pt-1' xs={12}>\n                <Button type='submit' className='me-1' color='primary'>\n                  Submit\n                </Button>\n                <Button className='me-1' color='warning' onClick={() => closeModal()}>\n                  Cancel\n                </Button>\n              </Col>\n\n            </Row>\n          </ModalBody>\n        </Modal>\n\n      </CardBody>\n    </Card >\n  )\n}\n\nexport default CardMeetup\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Bar } from \"react-chartjs-2\"\n\n// ** Reactstrap Imports\nimport {\n  Row,\n  Col,\n  Card,\n  CardTitle,\n  DropdownToggle,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownItem\n} from 'reactstrap'\nimport moment from 'moment'\n\nconst RevenueReport = () => {\n  // ** State\n  const currentMonth = moment().format('M')\n  const monthlist = ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar']\n  const [data, setData] = useState(null)\n  const [chartData, setChartData] = useState(null)\n  const [currentYear, setCurrentYear] = useState(parseInt(currentMonth) > 3 ? moment().add(1, 'y').format('YYYY') : moment().format('YYYY'))\n  const [filter, setFilter] = useState({ id: 2, name: 'This Year' })\n  const dateList = [{ id: 1, name: 'Last year' }, { id: 2, name: 'This Year' }]\n\n  const indianFormattedPrice = (val) => {\n\n    const value = String(val)\n\n    let removedValue = ''\n    let finalVal = ''\n    if (value.includes('.')) {\n      removedValue = value.slice(value.indexOf('.'))\n      finalVal = value.replace(removedValue, '')\n      finalVal = finalVal.toString()\n    } else {\n      finalVal = value.toString()\n    }\n    let lastThree = finalVal.substring(finalVal.length - 3)\n    const otherNumbers = finalVal.substring(0, finalVal.length - 3)\n    if (otherNumbers !== '') lastThree = `,${lastThree}`\n    const res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree\n    return res + (removedValue === '' ? '.00' : removedValue)\n  }\n\n  const options = {\n    scales: {\n      x: {\n        grid: {\n          display: false\n        }\n      },\n      y: {\n        ticks: {\n          autoSkip: true,\n          maxTicksLimit: 8\n        },\n        grid: {\n          display: false\n        }\n      }\n    },\n    plugins: {\n      datalabels: {\n        display: true\n      },\n      legend: {\n        display: false\n      },\n      title: {\n        display: false\n      }\n    }\n  }\n\n  const getData = (currentYear) => {\n\n    const params = {\n      startdate: moment().set('year', currentYear).subtract(1, 'y').set('month', 3).startOf('month').startOf('d').valueOf(),\n      enddate: moment().set('year', (parseInt(currentYear) + 1)).set('month', 2).endOf('month').endOf('d').valueOf()\n    }\n\n    axios.post('/taskinvoices/revenuereport', params)\n      .then(res => {\n        const dataSamp = {\n          labels: monthlist,\n          datasets: [\n            {\n              label: \"Total\",\n              backgroundColor: \"#7367f0\",\n              borderColor: \"#7367f0\",\n              data: []\n            },\n            {\n              label: \"Received\",\n              backgroundColor: \"#28c76f\",\n              borderColor: \"#28c76f\",\n              data: []\n            }\n          ]\n        }\n\n        monthlist.forEach((name, i) => {\n          const total_data = res.data.result.total.find((obj) => {\n            const mname = moment(obj.date).format('MMM')\n            return (mname === name)\n          })\n          const received_data = res.data.result.received.find((obj) => {\n            const mname = moment(obj.date).format('MMM')\n            return (mname === name)\n          })\n\n          dataSamp.datasets[0]['data'][i] = total_data?.amount || 0\n          dataSamp.datasets[1]['data'][i] = received_data?.amount || 0\n        })\n\n        setChartData(dataSamp)\n        setData(res.data.result)\n      })\n    return () => setData(null)\n  }\n\n  useEffect(() => {\n\n    getData(currentYear)\n\n  }, [])\n\n  const applyFilter = (item) => {\n    setFilter(item)\n    let year\n    if (item.id === 2) {\n      year = moment().add(1, 'y').format('YYYY')\n    } else {\n      year = moment().format('YYYY')\n    }\n    setCurrentYear(year)\n    getData(year)\n  }\n\n\n  return data !== null ? (\n    <Card className='card-revenue-budget'>\n      <Row className='mx-0'>\n        <Col className='revenue-report-wrapper p-50 p-lg-2' md='9' xs='12'>\n          <div className='d-sm-flex justify-content-between align-items-center mb-1'>\n            <CardTitle className='mb-50 mb-sm-0'>Revenue Report</CardTitle>\n          </div>\n          {chartData &&\n            <Bar data={chartData} options={options} width={600} height={235} />\n          }\n        </Col>\n        <Col className='budget-wrapper' md='3' xs='12'>\n          <UncontrolledButtonDropdown>\n            <DropdownToggle className='budget-dropdown' outline color='primary' size='sm' caret>\n              {filter?.name}\n            </DropdownToggle>\n            <DropdownMenu>\n              {dateList.map((item, k) => (\n                <DropdownItem className='w-100' key={k} onClick={() => applyFilter(item)}>\n                  {item.name}\n                </DropdownItem>\n              ))}\n            </DropdownMenu>\n          </UncontrolledButtonDropdown>\n          <Row>\n            <span className='text-primary'>Total sale</span>\n            <h6 className='mb-25'>{indianFormattedPrice(data.total_invoice)}</h6>\n          </Row>\n          <Row>\n            <span className='text-success'>Total Receipts</span>\n            <h6 className='mb-25'>{indianFormattedPrice(data.total_received)}</h6>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  ) : null\n}\n\nexport default RevenueReport\n","// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Icons Imports\nimport { Check, File, MoreVertical } from 'react-feather'\nimport { Link } from 'react-router-dom'\n// ** Reactstrap Imports\nimport { Card, CardHeader, CardTitle, CardBody, Row, Col } from 'reactstrap'\nimport { useEffect, useState } from 'react'\nimport axios from '@src/configs/axios/axiosConfig'\nimport moment from 'moment'\nimport { activeOrganization, orgUserId } from '@src/helper/sassHelper'\nconst userId = orgUserId()\nconst activeOrg = activeOrganization()\nconst MyTaskTodays = () => {\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const [data, setData] = useState([])\n  const endDate = moment().startOf('day').valueOf()\n  const getTasks = () => {\n    axios.post('/tasks/dashboardmytasklist', { userId, endDate, userType: activeOrg.organizationusersusertypeid })\n      .then((res) => {\n        setData(res.data.tasks)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  useEffect(() => {\n    if (activeOrg !== null) {\n      getTasks()\n    }\n  }, [])\n\n  const renderTransactions = () => {\n    return data.map((item, k) => {\n      if (k < 5) {\n        return (\n          <div key={item.id} className='transaction-item'>\n            <div className='d-flex'>\n              <Avatar className='rounded' size={'sm'} color={'light-primary'} icon={<Check size={12} />} />\n              <Col tag={Link} to={`/task/view/${item.id}`}>\n                <h6 className='transaction-title'>{item.servicename}</h6>\n                <small>{item.clientname}</small>\n              </Col>\n            </div>\n            <div className={`fw-bolder text-success`}>{dateFormat(item.enddate)}</div>\n          </div>\n        )\n      }\n    })\n  }\n\n  return (\n    <Card className='card-transaction'>\n      <CardHeader>\n        <CardTitle tag='h4'>\n          <MoreVertical size={18} />\n          Upcoming Tasks</CardTitle>\n      </CardHeader>\n      <CardBody>\n        {data.length > 0 &&\n          renderTransactions()\n        }\n        {\n          data.length === 0 &&\n          <Row >\n            <File />\n            <p className='text-center mt-2'>You Dont have any tasks Today</p>\n          </Row>\n        }\n        {\n          data.length > 4 &&\n          (<Col tag={Link} to={`/task/list`} className='cursor-pointer text-primary'>View More...</Col>)\n        }\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MyTaskTodays\n","// ** Custom Components\nimport Avatar from '@components/avatar'\nimport { Link } from 'react-router-dom'\n// ** Icons Imports\nimport { Check, File, MoreVertical } from 'react-feather'\n// ** Reactstrap Imports\nimport { Card, CardHeader, CardTitle, CardBody, Row, Col } from 'reactstrap'\nimport { useEffect, useState } from 'react'\nimport axios from '@src/configs/axios/axiosConfig'\nimport moment from 'moment'\nimport { activeOrganization, orgUserId } from '@src/helper/sassHelper'\nconst userId = orgUserId()\nconst activeOrg = activeOrganization()\n\nconst MyTaskDueTodays = () => {\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n\n  const endDate = moment().startOf('day').valueOf()\n\n  const [data, setData] = useState([])\n  const getTasks = () => {\n    axios.post('/tasks/dashboardmytasklisttoday', { userId, endDate, userType: activeOrg.organizationusersusertypeid })\n      .then((res) => {\n        setData(res.data.tasks)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  useEffect(() => {\n    if (activeOrg !== null) {\n      getTasks()\n    }\n  }, [])\n\n  const renderTransactions = () => {\n    return data.map((item, k) => {\n      if (k < 5) {\n        return (\n          <div key={item.id} className='transaction-item'>\n            <div className='d-flex'>\n              <Avatar className='rounded' size={'sm'} color={'light-primary'} icon={<Check size={12} />} />\n              <Col tag={Link} to={`/task/view/${item.id}`}>\n                <h6 className='transaction-title'>{item.servicename}</h6>\n                <small>{item.clientname}</small>\n              </Col>\n            </div>\n            <div className={`fw-bolder text-success`}>{dateFormat(item.enddate)}</div>\n          </div>\n        )\n      }\n    })\n  }\n\n  return (\n    <Card className='card-transaction'>\n      <CardHeader>\n        <CardTitle tag='h4'>\n          <MoreVertical size={18} />\n          My Task Dues Today </CardTitle>\n      </CardHeader>\n      <CardBody>\n        {data.length > 0 &&\n          renderTransactions()\n        }\n        {\n          data.length === 0 &&\n          <Row>\n            <File />\n            <p className='text-center mt-2'>You Dont have any tasks dues Today</p>\n          </Row>\n        }\n        {\n          data.length > 4 &&\n          (<Col tag={Link} to={`/task/list`} className='cursor-pointer text-primary'>View More...</Col>)\n        }\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MyTaskDueTodays\n","// ** Custom Components\nimport Avatar from '@components/avatar'\n// ** Icons Imports\nimport { Check, File, MoreVertical } from 'react-feather'\n// ** Reactstrap Imports\nimport { Card, CardHeader, CardTitle, CardBody, Row, Col } from 'reactstrap'\nimport { useEffect, useState } from 'react'\nimport axios from '@src/configs/axios/axiosConfig'\n\nimport moment from 'moment'\nimport { activeOrganization, orgUserId } from '@src/helper/sassHelper'\nimport { Link, useNavigate } from 'react-router-dom'\nconst userId = orgUserId()\nconst activeOrg = activeOrganization()\nimport { updateStatusParams } from '@src/views/apps/task/store/index.js'\nimport { useDispatch } from 'react-redux'\nconst MyOverdueTasks = () => {\n\n  const endDate = moment().startOf('day').utc().valueOf()\n  const dispatch = useDispatch()\n  const dueDays = (val) => {\n    const date = moment()\n    let due = ''\n    if (val.length === 13) {\n      due = moment(val, 'x')\n    } else {\n      due = moment.unix(val)\n    }\n    return date.diff(due, 'days')\n  }\n  const navigate = useNavigate()\n  const [data, setData] = useState([])\n  const getTasks = () => {\n    axios.post('/tasks/dashboardmytaskoverdues', { userId, endDate, userType: activeOrg.organizationusersusertypeid })\n      .then((res) => {\n        setData(res.data.tasks)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  useEffect(() => {\n    if (activeOrg !== null) {\n      getTasks()\n    }\n  }, [])\n\n  const updateParam = async (sts) => {\n    const obj = {\n      status: sts\n    }\n    await dispatch(updateStatusParams(obj))\n    navigate('/task/list')\n  }\n\n\n  const renderTransactions = () => {\n    return data.map((item, k) => {\n      if (k < 5) {\n        return (\n          <div key={item.id} className='transaction-item'>\n            <div className='d-flex'>\n              <Avatar className='rounded' size={'sm'} color={'light-primary'} icon={<Check size={12} />} />\n              <Col tag={Link} to={`/task/view/${item.id}`}>\n                <h6 className='transaction-title'>{item.servicename}</h6>\n                <small>{item.clientname}</small>\n              </Col>\n            </div>\n            <div className={`fw-bolder text-danger`}>{dueDays(item.enddate)} Day's</div>\n          </div>\n        )\n      }\n    })\n  }\n\n  return (\n    <Card className='card-transaction'>\n      <CardHeader>\n        <CardTitle tag='h4'>\n          <MoreVertical size={18} />\n          My OverDue Tasks</CardTitle>\n      </CardHeader>\n      <CardBody>\n        {data.length > 0 &&\n          renderTransactions()\n        }\n        {\n          data.length === 0 &&\n          <Row>\n            <File />\n            <p className='text-center mt-2'>You Dont have any Overdue tasks.</p>\n          </Row>\n        }\n        {\n          data.length > 4 &&\n          (<Col onClick={() => { updateParam([8]) }} className='cursor-pointer text-primary'>View More...</Col>)\n        }\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MyOverdueTasks\n","// ** Custom Components\nimport Avatar from '@components/avatar'\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Chart from 'react-apexcharts'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Card, CardHeader, CardTitle, CardBody, Row } from 'reactstrap'\nimport moment from 'moment'\nimport { Link } from 'react-router-dom'\n\nconst CardEmployeesOpenTask = () => {\n  const [employeesTasks, setEmployeeTasks] = useState([])\n  const taskTime = (val) => {\n    if (val === null) {\n      return '-'\n    }\n    return moment(val, 'x').format('MMM DD hh:mm A')\n  }\n  const renderTasks = () => {\n    return employeesTasks.map((task, k) => {\n      return (\n        <div key={k} className='employee-task d-flex justify-content-between align-items-center'>\n          <div className='d-flex'>\n            <Avatar initials color={'light-primary'} className='me-75' content={task.username?.charAt(0).toUpperCase()} />\n            <div className='my-auto'>\n              <h6 className='mb-0'>{task.username}</h6>\n              {task.taskid !== null && (\n                <small>\n                  <Link to={`/task/view/${task.taskid}`}>{task.servicename}</Link></small>\n              )\n              }\n            </div>\n          </div>\n          <div className='d-flex align-items-center'>\n            <small className='me-75 user_name text-truncate text-sm'>{taskTime(task.starttime)}</small>\n          </div>\n        </div>\n      )\n    })\n  }\n\n  const getCurrentTask = () => {\n\n    axios.post('/tasks/getcurrenttasks')\n      .then((res) => {\n        setEmployeeTasks(res.data.users)\n      }).catch((err) => {\n        console.log(err)\n      })\n\n  }\n\n  useEffect(() => {\n    getCurrentTask()\n  }, [])\n\n  return (\n    <Card className='card-employee-task'>\n      <CardHeader>\n        <CardTitle tag='h4'>Open Tasks</CardTitle>\n      </CardHeader>\n      <CardBody className='height-300 overflow-auto'>\n        {renderTasks()}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default CardEmployeesOpenTask\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Row,\n  Card,\n  Table\n} from 'reactstrap'\n\n\nconst RevenueReportTable = () => {\n  // ** State\n  const [data, setData] = useState([])\n\n  const getData = () => {\n    axios.post('/taskinvoices/revenuetable')\n      .then(res => {\n        setData(res.data.output || [])\n      })\n    return () => setData([])\n  }\n\n  const indianFormattedPrice = (val) => {\n\n\n    const value = String(val)\n\n    let removedValue = ''\n    let finalVal = ''\n    if (value.includes('.')) {\n      removedValue = value.slice(value.indexOf('.'))\n      finalVal = value.replace(removedValue, '')\n      finalVal = finalVal.toString()\n    } else {\n      finalVal = value.toString()\n    }\n    let lastThree = finalVal.substring(finalVal.length - 3)\n    const otherNumbers = finalVal.substring(0, finalVal.length - 3)\n    if (otherNumbers !== '') {\n      lastThree = `,${lastThree}`\n    }\n    const res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree\n    return res\n  }\n\n  useEffect(() => {\n\n    getData()\n\n  }, [])\n\n  return (\n    <Card className='card-revenue-budget'>\n      <Row className='mx-0'>\n        <Table className='table' responsive>\n          <thead>\n            <tr>\n              <th></th>\n              <th>Sales</th>\n              <th>Receipts</th>\n              <th>Due</th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              data.map((obj, k) => {\n                return (\n                  <tr key={k}>\n                    <td style={{ padding: '12px 10px', fontSize: '13px' }}>{obj.date}</td>\n                    <td style={{ padding: '12px 10px', fontSize: '13px' }} >{indianFormattedPrice(obj.sales)}</td>\n                    <td style={{ padding: '12px 10px', fontSize: '13px' }}>{indianFormattedPrice(obj.receipts)}</td>\n                    <td style={{ padding: '12px 10px', fontSize: '13px' }}>{indianFormattedPrice(obj.due)}</td>\n                  </tr>\n                )\n              })\n            }\n          </tbody>\n        </Table>\n      </Row>\n    </Card>\n  )\n}\n\nexport default RevenueReportTable\n","// ** Reactstrap Imports\nimport { Row, Col, Card, CardBody, CardHeader, Button } from 'reactstrap'\n// ** Context\n//import { ThemeColors } from '@src/utility/context/ThemeColors'\n\n// ** Demo Components\nimport CardAttendance from '../../ui-elements/cards/advance/CardAttendance'\nimport StatsCard from '@src/views/ui-elements/cards/statistics/StatsCard'\nimport MyTaskTodays from '@src/views/ui-elements/cards/advance/MyTaskTodays'\nimport MyTaskDueTodays from '@src/views/ui-elements/cards/advance/MyTaskDueTodays'\nimport MyOverdueTasks from '@src/views/ui-elements/cards/advance/MyOverdueTasks'\nimport CardMeetup from '@src/views/ui-elements/cards/advance/CardMeetup'\nimport CardEmployeesOpenTask from '../../ui-elements/cards/advance/CardEmployeesOpenTask'\nimport RevenueReport from '../../ui-elements/cards/analytics/RevenueReport'\nimport RevenueReportTable from '../../ui-elements/cards/analytics/RevenueReportTable'\n\nimport { ThemeColors } from '@src/utility/context/ThemeColors'\n// ** Styles\nimport axios from '@src/configs/axios/axiosConfig'\nimport '@styles/react/libs/charts/apex-charts.scss'\nimport '@styles/base/pages/dashboard-ecommerce.scss'\nimport { Fragment, useContext, useEffect, useState } from 'react'\nimport { activeOrganization } from '@src/helper/sassHelper'\nimport { CheckCircle } from 'react-feather'\nimport { Link } from 'react-router-dom'\n\nconst activeOrg = activeOrganization()\n\nconst EcommerceDashboard = () => {\n\n  const context = useContext(ThemeColors)\n  const [settingFlags, setSettingFlags] = useState(null)\n\n  const getSettingFlag = () => {\n    axios.post('/organizationprefernces/getsettingsflag')\n      .then((res) => {\n        setSettingFlags(res.data.result)\n      }).catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const settingFlagFn = () => {\n    if (settingFlags !== null) {\n      return (settingFlags['drive_flag'] || settingFlags['gmail_flag'] || settingFlags['attendance_flag'] || settingFlags['leave_flag'] || settingFlags['invoicesetting_flag'])\n    } else {\n      return false\n    }\n  }\n  const dashboardFlag = () => {\n    return (parseInt(activeOrg?.rolelevel) === 1 || parseInt(activeOrg?.rolelevel) === 2)\n  }\n  useEffect(async () => {\n    await getSettingFlag()\n  }, [])\n\n  return (\n    <div id='dashboard-ecommerce'>\n      <Row className='match-height'>\n        {dashboardFlag() &&\n          <Col xl={dashboardFlag() ? '4' : '6'} md={dashboardFlag() ? '4' : '6'} xs='12' className='d-flex'>\n            <Row>\n              <Col md={12}>\n                <CardAttendance margin='mt-2' padding='' />\n              </Col>\n              <Col md={12}>\n                {!settingFlagFn() &&\n                  <StatsCard className='py-0' cols={{ xl: dashboardFlag() ? '6' : '6', sm: '6' }} />\n                }\n                {(settingFlagFn()) &&\n\n                  <Card>\n                    <CardHeader>Settings</CardHeader>\n                    <CardBody>\n                      <Col className='py-50'>\n                        <CheckCircle size={15} className={settingFlags['drive_flag'] ? 'text-danger' : 'text-success'} />\n                        <Col className='ms-75' tag={Link} to={`/settings/integrations`}>Link Google Drive</Col>\n                      </Col>\n                      <Col className='py-50'> <CheckCircle size={15} className={settingFlags['gmail_flag'] ? 'text-danger' : 'text-success'} />\n                        <Col className='ms-75' tag={Link} to={`/settings/integrations`}>Link GMail</Col></Col>\n                      <Col className='py-50'>\n                        <CheckCircle size={15} className={settingFlags['invoicesetting_flag'] ? 'text-danger' : 'text-success'} />\n                        <Col className='ms-75' tag={Link} to={`/invoicesetting/invoiceaccount`}>Invoice Setting</Col>\n                      </Col>\n                      <Col className='py-50'><CheckCircle size={15} className={settingFlags['attendance_flag'] ? 'text-danger' : 'text-success'} />\n                        <Col className='ms-75' tag={Link} to={`/attendancesetting/attendancescore`}>Attendance Setting</Col>\n                      </Col>\n                      <Col className='py-50'>\n                        <CheckCircle size={15} className={settingFlags['leave_flag'] ? 'text-danger' : 'text-success'} />\n                        <Col className='ms-75' tag={Link} to={`/attendancesetting/leavesetting`}>Leave Setting</Col>\n                      </Col>\n                    </CardBody>\n                  </Card>\n\n                }\n              </Col>\n            </Row>\n          </Col>\n        }\n        {\n          !dashboardFlag() &&\n          <Col xl={12} md={12} xs='12' className='d-flex'>\n            <Row className='d-flex match-height'>\n              <Col md={6}>\n                <CardAttendance margin='mt-4' />\n                <StatsCard className='py-0' cols={{ xl: '6', sm: '6' }} />\n              </Col>\n              < Col md={6}>\n                <CardMeetup />\n              </Col>\n            </Row>\n          </Col>\n        }\n\n        {\n          dashboardFlag() &&\n          <Fragment>\n            <Col xl='4' md='4' xs='12'>\n              <CardEmployeesOpenTask />\n            </Col>\n            <Col xl='4' md='4' xs='12'>\n              <CardMeetup />\n            </Col>\n          </Fragment>\n        }\n\n      </Row >\n      {\n        parseInt(activeOrg?.rolelevel) === 1 &&\n        <Row>\n          <Col md={4}>\n            <RevenueReportTable />\n          </Col>\n          <Col md={8}>\n            <RevenueReport success={context.colors.success.main} primary={context.colors.primary.main} />\n          </Col>\n        </Row>\n      }\n      < Row className='match-height' >\n        <Col xl='4' md='6' xs='12'>\n          <MyOverdueTasks cols={{ xl: '2', sm: '6' }} />\n        </Col>\n        <Col xl='4' md='6' xs='12'>\n          <MyTaskDueTodays cols={{ xl: '2', sm: '6' }} />\n        </Col>\n        <Col xl='4' md='6' xs='12'>\n          <MyTaskTodays />\n        </Col>\n      </Row >\n    </div >\n  )\n}\n\nexport default EcommerceDashboard\n"],"sourceRoot":""}
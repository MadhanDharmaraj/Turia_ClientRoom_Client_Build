{"version":3,"sources":["views/apps/invoice/shared-sidebar/SidebarSendInvoice.js","views/apps/invoice/preview/PreviewCard.js","views/apps/invoice/preview/PreviewCardINT.js","views/apps/invoice/preview/PreviewActions.js","views/apps/invoice/preview/InvoicePayment/EditPayment.js","views/apps/invoice/preview/InvoicePayment/index.js","views/apps/invoice/preview/InvoicePayment/AddPayment.js","views/apps/invoice/preview/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","../node_modules/draftjs-to-html/lib/draftjs-to-html.js","../node_modules/react-select/dist/useCreatable-00a6568c.esm.js","../node_modules/react-select/creatable/dist/react-select.esm.js","views/apps/invoice/helper/hepler.js","@core/components/sidebar/index.js"],"names":["activeOrg","activeOrganization","userData","loggedInUser","SidebarSendInvoice","props","colourStyles","multiValue","styles","backgroundColor","useState","block","setBlock","Loader","toEmail","setToEmail","ccEmail","setCCEmail","data","setData","open","toggleSidebar","invoice","thankyouNote","setThankyouNote","userOptions","setUserOptions","clientOptions","setClientOptions","getCoatctInfo","id","axios","post","contactid","then","res","contactinformations","catch","getThankyouNotes","slug","value","test","emailtemplates","description","replace","paymentdue","length","moment","format","unix","taskinvoiceitemsservicename","contactperson","uniqueno","totalamount","name","replaceAll","temp","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","useEffect","undefined","clientid","Object","keys","organizationusers","ccOpen","setCCOpen","SelectComponent","Option","className","size","initials","content","charAt","email","toggleCC","e","preventDefault","scrollable","fade","keyboard","backdrop","container","isOpen","contentClassName","toggle","modalClassName","blocking","loader","href","onClick","onSubmit","for","isMulti","isClearable","theme","selectThemeColors","options","classNamePrefix","components","onChange","map","i","getOptionLabel","option","getOptionValue","placeholder","toolbarClassName","wrapperClassName","editorState","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","editorClassName","toolbar","inline","inDropdown","outline","color","subject","taskinvoiceId","clientName","contactname","toast","success","position","console","log","sendMail","PreviewCard","amount","useParams","dispatch","useDispatch","invoiceItems","setInvoiceItems","invoiceTaxes","setInvoiceTaxes","dateFormat","a","b","paymentstatusObj","renderStatus","val","find","o","parseInt","inWords","num","toString","n","substr","match","str","Number","String","txt","toUpperCase","toLowerCase","indianFormattedPrice","removedValue","finalVal","includes","slice","indexOf","lastThree","substring","otherNumbers","split","parser","calculatetaxes","getInvoiceItems","payload","paymentstatus","imageid","Math","floor","random","renderOrg","referrerPolicy","height","width","src","alt","addressline1","addressline2","city","pinzipcode","statename","isgstregistered","gstin","invoicedate","billingaddressline1","billingaddressline2","billingaddresscity","billingaddresszipcode","billingaddressstate","billingaddressstateothers","parseFloat","dueamount","toFixed","billingcurrencysymbol","bankaccountbankname","bankaccountholdername","bankaccountbranchname","bankaccountifsccode","placeofsupplyname","xl","placeofsupplyothers","md","sm","billingcurrencyshortname","responsive","item","ind","servicesName","sacCode","price","taxes","obj","k","taxName","tax_name","taxAmount","tax_amount_calculated","isTaxApplicable","taxGroupName","exemptionReasonName","subTotalAmount","order","lg","signatureflag","signatureimageid","currencycode","convertionrate","subtotalamount","key","tax_percentage","tax_amount","note","isNaN","bankaccounttype","isrcmapplicable","PreviewActions","setSendSidebarOpen","setAddPaymentOpen","participants","setParticipants","invoiceId","taskinvoiceparticipants","err","Can","I","downloadLink","document","createElement","fileName","pdf","download","click","removeChild","window","print","tag","Link","to","user","taskid","uniqueidentity","activeOrgId","activeOrganizationid","userId","orgUserId","AddPayment","selectedPayment","taxDeducted","setTaxDeducted","accountOptions","setAccountOptions","amountErr","setAmountErr","schema","yup","shape","organizationId","default","updatedBy","contactId","isTaxDeducted","amountWithHeld","when","is","required","totalAmountPaid","paymentDate","referenceOfMainId","pendingAmountBeforeRecord","transactionAccountId","referenceNo","billingCurrency","billingAddress","notes","paymentConfirmation","useForm","resolver","yupResolver","defaultValues","cast","handleSubmit","control","errors","formState","reset","formData","payamount","_formValues","totalPaidamount","amountHeld","pendingamountbeforerecord","valueOf","updateInvociePayments","datatemp","status","updateInvoicePayment","istaxdeducted","amountwithheld","totalamountpaid","paymentdate","toDate","referenceofmainid","transactionaccountid","referenceno","billingcurrency","billingaddress","getRow","fieldLabel","fieldName","reqflag","classnames","render","field","invalid","message","response","arr","transactionaccounts","title","headerClassName","date","dateStr","altInput","ref","inputRef","c","accountHolderName","getSelectRow","type","onInput","defaultChecked","MySwal","withReactContent","Swal","InvoicePayments","tabId","refreshFlag","store","useSelector","state","invoicepayment","payments","setPayments","setSelectedPayment","editPaymentOpen","setEditPaymentOpen","toggleEditSidebar","row","getData","invoicePayments","EditPayment","fire","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","deleteInvociePayments","totalAmount","deletefun","createdBy","bankaccountid","addInvoicePayments","InvoicePreview","sendSidebarOpen","addPaymentOpen","active","setActive","getInvoice","taskinvoices","toggleTab","tab","pills","activeTab","countryshortname","PreviewCardINT","InvoicePayment","UILoader","children","overlayColor","Tag","style","defaultProps","ComponentSpinner","module","exports","forEach","callback","hasOwnProperty","call","isEmptyString","trim","blockTypesMapping","unstyled","blockquote","code","getBlockTag","getBlockStyle","concat","getHashtagRanges","blockText","hashtagConfig","sections","counter","startIndex","trigger","separator","endIndex","hashtag","push","offset","getSections","lastOffset","sectionRanges","entityRanges","range","sort","s1","s2","r","start","end","entityKey","isAtomicEntityBlock","getStyleArrayForBlock","inlineStyleRanges","inlineStyles","BOLD","Array","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT","COLOR","BGCOLOR","FONTSIZE","FONTFAMILY","getStylesAtOffset","sameStyleAsPrevious","index","sameStyled","addInlineStyleMarkup","getSectionText","ch","join","addStylePropertyMarkup","styleString","getEntityMarkup","entityMap","customEntityTransform","entity","html","url","targetOption","alignment","getInlineStyleSections","styleSections","from","section","trimLeadingZeros","sectionText","replacedText","trimTrailingZeros","getStyleTagSectionMarkup","styleSection","getInlineStyleSectionMarkup","styleTagSections","styleSectionText","stylePropertySection","getSectionMarkup","entityInlineMarkup","getBlockInnerMarkup","blockMarkup","getBlockMarkup","directional","blockHtml","blockTag","blockStyle","isList","blockType","getListMarkup","listBlocks","previousBlock","listHtml","nestedListBlock","nestedBlock","depth","editorContent","blocks","factory","_excluded","compareOption","arguments","accessors","candidate","optionValue","optionLabel","builtins","formatCreateLabel","inputValue","isValidNewOption","selectValue","selectOptions","some","getNewOptionData","label","__isNew__","CreatableSelect","React","forwardRef","selectProps","_ref","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","propsOptions","propsOnChange","restSelectProps","_objectWithoutProperties","_restSelectProps$getO","getOptionValue$1","_restSelectProps$getO2","getOptionLabel$1","isLoading","newOption","useMemo","cleanValue","_toConsumableArray","useCallback","newValue","actionMeta","action","valueArray","isArray","newOptionData","newActionMeta","valueTernary","_objectSpread2","useCreatable","useStateManager","Select","_extends","calculateTax","taxRateInPercentage","TaxType","calculatedTax","JSON","parse","stringify","Sidebar","closeBtn","bodyClassName","rest","renderCloseBtn","close","wheelPropagation"],"mappings":"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","file":"static/js/36.ecf9c52e.chunk.js","sourcesContent":["// ** React Imports\nimport { useState, useEffect, Fragment } from 'react'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Third Party Components\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html'\nimport { EditorState, ContentState, convertFromHTML, convertToRaw } from 'draft-js'\nimport Select, { components } from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n\nimport { Minus, X, Maximize2, Paperclip, MoreVertical, Trash, File } from 'react-feather'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Form,\n  Label,\n  Input,\n  Modal,\n  Button,\n  ModalBody\n} from 'reactstrap'\n\n// ** Utils\nimport { selectThemeColors } from '@utils'\nimport moment from 'moment'\n// ** User Avatars\nimport { activeOrganization, loggedInUser } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nconst userData = loggedInUser()\n// ** Styles\nimport '@styles/react/libs/editor/editor.scss'\nimport '@styles/react/libs/react-select/_react-select.scss'\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\nimport toast from 'react-hot-toast'\nconst SidebarSendInvoice = props => {\n\n  const colourStyles = {\n    multiValue: (styles, { }) => {\n\n      return {\n        ...styles,\n        backgroundColor: '#7367f0'\n      }\n    }\n  }\n\n  const [block, setBlock] = useState(false)\n\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n  const [toEmail, setToEmail] = useState([])\n  const [ccEmail, setCCEmail] = useState([])\n  const [data, setData] = useState('')\n  const { open, toggleSidebar, invoice } = props\n  const [thankyouNote, setThankyouNote] = useState('')\n  const [userOptions, setUserOptions] = useState([])\n  const [clientOptions, setClientOptions] = useState([])\n\n  const getOrganizationUsers = () => {\n    axios.post('/organizationusers/dropdown').then((res) => {\n      setUserOptions(res.data.organizationusers)\n    }).catch(() => { })\n  }\n\n  const getCoatctInfo = (id) => {\n    axios.post('contactinformations/list', { contactid: id }).then((res) => {\n      setClientOptions(res.data.contactinformations)\n    }).catch(() => { })\n\n  }\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const getThankyouNotes = () => {\n    axios.post('/emailtemplates/get', { slug: 'invoice-send-mail' }).then((res) => {\n      const mailSub = res.data.emailtemplates.description\n      const test = mailSub.replace('{invoice_date}', dateFormat(invoice.paymentdue)).replace('{service}', invoice.taskinvoiceitemsservicename).replace('recipient_name', invoice.contactperson).replace('{recipient_name}', invoice.contactperson).replace('{invoice_no}', invoice.uniqueno).replace('{amount}', invoice.totalamount).replace('{invoice_amount}', invoice.totalamount).replace('{your_name}', userData.name).replaceAll('{firm_name}', activeOrg.name).replace('{', '').replace('}', '')\n\n      const temp = EditorState.createWithContent(\n        ContentState.createFromBlockArray(\n          convertFromHTML(test)\n        )\n      )\n      setData(temp)\n      setThankyouNote(test)\n\n    }).catch(() => { })\n  }\n\n  const handleChange = (editorState) => {\n    setData(editorState)\n    setThankyouNote(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n\n  useEffect(() => {\n    if (invoice.clientid !== undefined) {\n      getCoatctInfo(invoice.clientid)\n    }\n    if (invoice.contactid !== undefined) {\n      getCoatctInfo(invoice.contactid)\n    }\n    if (Object.keys(invoice).length > 0) {\n      getOrganizationUsers()\n      getThankyouNotes()\n    }\n  }, [invoice])\n\n  const sendMail = () => {\n    setBlock(true)\n    const subject = `${invoice.uniqueno} Invoices Acknowledgement Mail`\n    axios.post('/google/sendGmail', { content: thankyouNote, subject, toEmail, ccEmail, taskinvoiceId: invoice.id, clientName: invoice.contactname })\n      .then(() => {\n        toggleSidebar(false)\n        setBlock(false)\n        toast.success('Email send Successfully', { position: 'bottom-right' })\n      })\n    console.log(() => { })\n  }\n\n\n  // ** States\n  const [ccOpen, setCCOpen] = useState(false)\n\n  const SelectComponent = ({ data, ...props }) => {\n    return (\n      <components.Option {...props}>\n        <div className='d-flex flex-wrap align-items-center'>\n          <Avatar className='my-0 me-50' size='sm' initials content={data.name?.charAt(0)} />\n          {data.name} - {data.email}\n        </div>\n      </components.Option>\n    )\n  }\n\n  // ** CC Toggle Function\n  const toggleCC = e => {\n    e.preventDefault()\n    setCCOpen(!ccOpen)\n  }\n\n  // ** Toggles Compose POPUP\n  const togglePopUp = e => {\n    e.preventDefault()\n    toggleSidebar()\n  }\n\n  return (\n\n    <div className='email-application'>\n      <div className='content-area-wrapper'>\n        <div className='col-md-12'>\n          <div className='content-body'>\n            <Modal\n              scrollable\n              fade={false}\n              keyboard={false}\n              backdrop={false}\n              id='compose-mail'\n              container='.content-body'\n              className='modal-lg'\n              isOpen={open}\n              contentClassName='p-0'\n              toggle={toggleSidebar}\n              modalClassName='modal-sticky'\n            >\n              <UILoader blocking={block} loader={<Loader />}>\n                <div className='modal-header'>\n                  <h5 className='modal-title'>Compose Mail</h5>\n                  <div className='modal-actions'>\n                    {/* <a href='/' className='text-body me-75' onClick={togglePopUp}>\n                      <Minus size={14} />\n                    </a>\n                    <a href='/' className='text-body me-75' onClick={e => e.preventDefault()}>\n                      <Maximize2 size={14} />\n                    </a> */}\n                    <a href='/' className='text-body' onClick={togglePopUp}>\n                      <X size={14} />\n                    </a>\n                  </div>\n                </div>\n                <ModalBody className='flex-grow-1 p-0'>\n                  <Form className='compose-form' onSubmit={e => e.preventDefault()}>\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-to' className='form-label'>\n                        To:\n                      </Label>\n                      <div className='flex-grow-1'>\n                        <CreatableSelect\n                          isMulti\n                          id='email-to'\n                          isClearable={false}\n                          theme={selectThemeColors}\n                          options={clientOptions}\n                          className='react-select select-borderless'\n                          classNamePrefix='select'\n                          components={{ Option: SelectComponent }}\n                          styles={colourStyles}\n                          onChange={(e) => { setToEmail(e.map(i => i.email)) }}\n                          getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                          getOptionValue={(option) => option.id}\n                        />\n                      </div>\n                      <div>\n                        <a href='/' className='toggle-cc text-body me-1' onClick={toggleCC}>\n                          Cc\n                        </a>\n                      </div>\n                    </div>\n                    {ccOpen === true ? (\n                      <div className='compose-mail-form-field cc-wrapper'>\n                        <Label for='email-cc' className='form-label'>\n                          Cc:\n                        </Label>\n                        <div className='flex-grow-1'>\n                          <Select\n                            isMulti\n                            id='email-cc'\n                            onChange={(e) => { setCCEmail(e.map(i => i.email)) }}\n                            isClearable={false}\n                            theme={selectThemeColors}\n                            options={userOptions}\n                            className='react-select select-borderless'\n                            classNamePrefix='select'\n                            components={{ Option: SelectComponent }}\n                            styles={colourStyles}\n                            getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                            getOptionValue={(option) => option.id}\n                          />\n                        </div>\n                        <div>\n                          <a href='/' className='toggle-cc text-body' onClick={toggleCC}>\n                            <X size={14} />\n                          </a>\n                        </div>\n                      </div>\n                    ) : null}\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-subject' className='form-label'>\n                        Subject:\n                      </Label>\n                      <Input id='email-subject' placeholder='Subject' />\n                    </div>\n                    <div id='message-editor'>\n                      <Editor\n                        placeholder='Message'\n                        toolbarClassName='rounded-0'\n                        wrapperClassName='toolbar-bottom'\n                        editorState={data}\n                        onEditorStateChange={handleChange}\n                        editorClassName='rounded-0 border-0'\n                        toolbar={{\n                          options: ['inline', 'textAlign'],\n                          inline: {\n                            inDropdown: false,\n                            options: ['bold', 'italic', 'underline', 'strikethrough']\n                          }\n                        }}\n                      />\n                    </div>\n                    <div className='compose-footer-wrapper'>\n                      <div className='btn-wrapper d-flex align-items-center'>\n                        <Button outline color='primary' onClick={() => { sendMail() }}>Send</Button>\n                        <div className='email-attachement rounded border p-50 ms-50'>\n                          {invoice.uniqueno}.pdf\n                        </div>\n                      </div>\n                      <div className='footer-action d-flex align-items-center'>\n                        <Trash className='cursor-pointer' size={18} onClick={toggleSidebar} />\n                      </div>\n                    </div>\n                  </Form>\n                </ModalBody>\n              </UILoader>\n            </Modal>\n          </div></div></div>\n    </div>\n\n  )\n}\n\nexport default SidebarSendInvoice\n","// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nimport { parser } from '../helper/hepler'\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  const { id } = useParams()\n  //const accountTypeArr = ['', 'Saving', 'Current']\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n  const [invoiceTaxes, setInvoiceTaxes] = useState([])\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n  const paymentstatusObj = [\n    { id: '', name: \"Select All\" },\n    { id: '4', name: \"Draft\", color: 'light-primary' },\n    { id: '5', name: \"Pending\", color: 'light-danger' },\n    { id: '6', name: \"Partially Paid\", color: 'light-warning' },\n    { id: '7', name: 'Paid', color: 'light-success' },\n    { id: '11', name: 'Sent', color: 'light-secondary' }\n  ]\n  const renderStatus = (val) => {\n    const obj = paymentstatusObj.find((o) => parseInt(o.id) === parseInt(val))\n    return obj\n  }\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n    str += (Number(n[1]) !== 0) ? (Number(n[1]) <= 19 ? ` ${a[Number(n[1])]}core` : ` ${b[Number(n[1][0])]} ${a[Number(n[1][1])]}crore`) : ''\n\n    str += (Number(n[2]) !== 0) ? (Number(n[2]) <= 19 ? ` ${a[Number(n[2])]}lakh` : ` ${b[Number(n[2][0])]} ${a[Number(n[2][1])]}lakh`) : ''\n\n    str += (Number(n[3]) !== 0) ? (Number(n[3]) <= 19 ? ` ${a[Number(n[3])]}thousand` : ` ${b[Number(n[3][0])]} ${a[Number(n[3][1])]}thousand`) : ''\n\n    str += (Number(n[4]) !== 0) ? (Number(n[4]) <= 19 ? ` ${a[Number(n[4])]}hundred` : ` ${b[Number(n[4])]}hundred`) : ''\n    n[5] = String(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? ' and ' : ''} ${a[Number(n[5])] || `${b[Number(n[5][0])]} ${a[Number(n[5][1])]}`}`) : ''\n\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt?.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n\n  const indianFormattedPrice = (val) => {\n\n    const value = String(val)\n\n    let removedValue = ''\n    let finalVal = ''\n    if (value.includes('.')) {\n      removedValue = value.slice(value.indexOf('.'))\n      finalVal = value.replace(removedValue, '')\n      finalVal = finalVal.toString()\n    } else {\n      finalVal = value.toString()\n    }\n    let lastThree = finalVal.substring(finalVal.length - 3)\n    const otherNumbers = finalVal.substring(0, finalVal.length - 3)\n    if (otherNumbers !== '') lastThree = `,${lastThree}`\n    const res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree\n    return res + (removedValue === '' ? '.00' : `.${removedValue.toString().split('.')[1]}`)\n  }\n\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} ${amount.split(\".\")[1] !== undefined ? `and Paise ${inWords(amount.split(\".\")[1])} Only` : ''}`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name?.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    setInvoiceTaxes(parser(data.calculatetaxes))\n\n    const res = await dispatch(getInvoiceItems(id))\n    await setInvoiceItems(res.payload)\n\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col>\n        <Badge color={renderStatus(data.paymentstatus).color || 'light-primary'}>{renderStatus(data.paymentstatus).name || data.paymentstatus}</Badge>\n      </Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid === null ? renderOrg(activeOrg.name) : <img referrerPolicy=\"no-referrer\" className='rounded me-50' height={75} width={75} src={`https://drive.google.com/thumbnail?id=${activeOrg.imageid}&authuser=0`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Invoice</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between'>\n            <div className='col col-12 col-md-6'>\n              <div className='logo-wrapper mb-0 mb-lg-2'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>\n              {data?.isgstregistered && <CardText className='mb-0'>GSTIN - {activeOrg.gstin} &nbsp;&nbsp; State Code : {activeOrg.gstin.substr(0, 2)}</CardText>}\n            </div>\n\n            <div className='mt-lg-3 mt-1 col-md-3 col-12'>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='col-6 mb-25'>\n                  Invoice\n                </p>\n                <p className='col-6 m-25 invoice-date text-end '>{data.uniqueno}</p>\n              </div>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='invoice-date-title col-6'>Date Issued:</p>\n                <p className='invoice-date col-6 text-end'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date text-end'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between mt-1'>\n            <Col className='p-0 col-12 col-md-9' >\n              <h6 className='mb-2'>Invoice To:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n\n              {data.billingaddressstate !== '' && <CardText className='mb-25'>{data.billingaddressstate}</CardText>}\n              {\n                data.billingaddressstateothers !== '' && <CardText className='mb-25'>{data.billingaddressstateothers}</CardText>\n              }\n              {(data?.isgstregistered && data.gstin !== '') && <CardText className='mb-25'>GSTIN - {data.gstin}</CardText>}\n            </Col>\n            <Col className='p-0 col-12 col-md-3'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table className='col-12'>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td className='text-end'>\n                      <span className='fw-bold'>{indianFormattedPrice(parseFloat(data.dueamount).toFixed(2))} {data?.billingcurrencysymbol}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td className='text-end'>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td className='text-end'><p className='text-end m-0 text-overflow-ellipsis'>{data.bankaccountholdername}</p>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td className='text-end'>{data.bankaccountbranchname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>IFSC code:</td>\n                    <td className='text-end'>{data.bankaccountifsccode}</td>\n                  </tr>\n                  {/* <tr>\n                    <td className='pe-1'>Account Type:</td>\n                    <td className='text-end'>{accountTypeArr[data.accounttype]}</td>\n                  </tr> */}\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            {console.log(data.isgstregistered)}\n            {(data?.isgstregistered && data.placeofsupplyname) &&\n              <Col className='p-0' xl='8'>\n                <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyname}</CardText>\n                <CardText className='mb-25'>State: {data.placeofsupplyname} &nbsp;&nbsp;State Code:  </CardText>\n              </Col>\n            }\n            {(data.placeofsupplyothers !== '') &&\n              <Col className='p-0' xl='8'>\n                <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyothers}</CardText>\n              </Col>\n            }\n            <Col className='p-0 mt-xl-0 mt-2' md='3' sm='6'>\n              <table className='col-12'>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td className='text-end'>{data.billingcurrencyshortname}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Invoice Description */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              {data?.isgstregistered && <th className='py-1'>SAC Code</th>}\n              <th className='py-1'>Price</th>\n              {data?.isgstregistered && <th className='py-1'>Tax</th>}\n              <th className='py-1'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                    <p className='card-text text-nowrap'>\n                      {item.description}\n                    </p>\n                  </td>\n                  {data?.isgstregistered &&\n                    <td className='py-1'>\n                      <span className='fw-bold'>{item.sacCode}</span>\n                    </td>\n                  }\n                  <td className='py-1'>\n                    <span className='fw-bold'>{indianFormattedPrice(item.price)} {data?.billingcurrencysymbol}</span>\n                  </td>\n                  {data?.isgstregistered &&\n                    <td className='py-1'>\n                      <span className='fw-bold'>\n                        {\n                          item.taxes.map((obj, k) => {\n                            return (<Row key={k}><span>{obj.taxName || obj.tax_name} - {indianFormattedPrice(obj.taxAmount) || indianFormattedPrice(obj.tax_amount_calculated)}</span></Row>)\n                          })\n                        }\n                        {\n                          item.isTaxApplicable === false && (<Row>\n                            <span>{item.taxGroupName}</span>\n                            <span>{item.exemptionReasonName}</span></Row>)\n                        }\n                      </span>\n                    </td>\n                  }\n                  <td className='py-1'>\n                    <span className='fw-bold'>{indianFormattedPrice(item.subTotalAmount)} {data?.billingcurrencysymbol}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Invoice Description */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              <b>Total In Words </b>:{amountInwords(data.totalamount)}\n              {activeOrg.signatureflag &&\n                <Row>\n                  <p className='font-weight-800 mt-1'>Authorized and signed by</p>\n                  {activeOrg.signatureimageid && <img className='img-fluid width-20-per ms-2' referrerPolicy=\"no-referrer\" src={`https://drive.google.com/thumbnail?id=${activeOrg.signatureimageid}&authuser=0`} />}\n                </Row>\n              }\n              {data.isgstregistered !== 'IN' &&\n\n                <p className='font-weight-800 mt-1'>Amount in {activeOrg.currencycode} : {parseFloat(data.totalamount * data.convertionrate).toFixed(2)}</p>\n              }\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>{data?.isgstregistered && 'Pre Tax'}  Amount:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.subtotalamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n                {data?.isgstregistered && (\n                  <div>\n                    {\n                      invoiceTaxes.length > 0 &&\n                      invoiceTaxes.map((obj, key) => {\n                        return (\n                          <div className='invoice-total-item' key={key}>\n                            <p className='invoice-total-title'>{obj.taxName || `${obj.tax_name}${obj.tax_percentage}%`}</p>\n                            <p className='invoice-total-amount'>{indianFormattedPrice(obj.taxAmount) || indianFormattedPrice(obj.tax_amount)} {data?.billingcurrencysymbol}</p>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>)\n                }\n                <div className='invoice-total-item text-primary'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.totalamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n                <hr className='my-50' />\n                <div className='invoice-total-item text-success'>\n                  <p className='invoice-total-title'>Paid:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.totalamount - data.dueamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n                <div className='invoice-total-item text-danger'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(parseFloat(data.dueamount).toFixed(2))} {data?.billingcurrencysymbol}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Invoice Note */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Invoice Note */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nimport { parser } from '../helper/hepler'\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  const accountTypeArr = ['', 'Saving', 'Checking']\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n  const [invoiceTaxes, setInvoiceTaxes] = useState([])\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n  const paymentstatusObj = [\n    { id: '', name: \"Select All\" },\n    { id: '5', name: \"Pending\", color: 'light-danger' },\n    { id: '6', name: \"Partially Paid\", color: 'light-warning' },\n    { id: '7', name: 'Paid', color: 'light-success' },\n    { id: '11', name: 'Sent', color: 'light-secondary' }\n  ]\n  const renderStatus = (val) => {\n    const obj = paymentstatusObj.find((o) => parseInt(o.id) === parseInt(val))\n    return obj\n  }\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n    n[1] = Number(n[1])\n    str += (Number(n[1]) !== 0) ? (`${a[Number(n[1])] || b[n[1][0]]} ${isNaN(Number(n[1][1])) ? '' : a[n[1][1]]} crore `) : ''\n    n[2] = Number(n[2])\n    str += (Number(n[2]) !== 0) ? (`${a[Number(n[2])] || b[n[2][0]]} ${isNaN(Number(n[2][1])) ? '' : a[n[2][1]]}lakh `) : ''\n    n[3] = Number(n[3])\n    str += (Number(n[3]) !== 0) ? (`${a[Number(n[3])] || b[n[3][0]]} ${isNaN(Number(n[3][1])) ? '' : a[n[3][1]]}thousand `) : ''\n    n[4] = Number(n[4])\n    str += (Number(n[4]) !== 0) ? (`${a[Number(n[4])] || b[n[4][0]]} hundred `) : ''\n    n[5] = Number(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? 'and ' : ''}${a[Number(n[5])] || b[n[5][0]]}`) : 'Zero'\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt?.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} and Paise ${inWords(amount.split(\".\")[1])} Only`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name?.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    setInvoiceTaxes(parser(data.calculatetaxes))\n\n    const res = await dispatch(getInvoiceItems(id))\n    await setInvoiceItems(res.payload)\n\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col>\n        <Badge color={renderStatus(data.paymentstatus).color || 'light-primary'}>{renderStatus(data.paymentstatus).name || data.paymentstatus}</Badge>\n      </Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid === null ? renderOrg(activeOrg.name) : <img className='rounded me-50' height={75} width={75} referrerPolicy=\"no-referrer\" src={`https://drive.google.com/thumbnail?id=${activeOrg.imageid}&authuser=0`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Invoice</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex align-items-center justify-content-between'>\n            <div>\n              <div className='logo-wrapper'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>\n\n            </div>\n\n            <div className='mt-3 col-md-4'>\n              <div className='invoice-date-wrapper'>\n                <h4 className=''>\n                  Invoice <span className='invoice-number'>{data.uniqueno}</span>\n                </h4>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Date Issued:</p>\n                <p className='invoice-date'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' md='8'>\n              <h6 className='mb-2'>Invoice To:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n              <CardText className='mb-25'>{data.billingaddressstate}</CardText>\n            </Col>\n            <Col className='p-0' md='4'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td>\n                      <span className='fw-bold'>{data.dueamount}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td>{data.bankaccountholdername}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td>{data.bankaccountbranchname}</td>\n                  </tr>\n\n                  <tr>\n                    <td className='pe-1'>Accouont Type:</td>\n                    <td>{accountTypeArr[data.bankaccounttype]}</td>\n                  </tr>\n\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' xl='8'>\n              <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyname}</CardText>\n            </Col>\n            <Col className='p-0 mt-xl-0 mt-2' xl='4'>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td>{data.billingcurrencyshortname}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Invoice Description */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              <th className='py-1'>Description</th>\n              <th className='py-1'>Price</th>\n              <th className='py-1'>Tax</th>\n              <th className='py-1'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.description}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.price}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>\n                      {\n                        item.taxes.map((obj, k) => {\n                          return (<Row key={k}><span>{obj.taxName || obj.tax_name} - {obj.taxAmount || obj.tax_amount_calculated}</span></Row>)\n                        })\n                      }\n                    </span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.subTotalAmount}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Invoice Description */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              {amountInwords(data.totalamount)}\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{data.totalamount}</p>\n                </div>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Pre Tax Amount:</p>\n                  <p className='invoice-total-amount'>{data.subtotalamount}</p>\n                </div>\n\n                {!data.isrcmapplicable && (\n                  <div>\n                    {\n                      invoiceTaxes.length > 0 &&\n                      invoiceTaxes.map((obj, key) => {\n                        return (\n                          <div className='invoice-total-item' key={key}>\n                            <p className='invoice-total-title'>{obj.taxName || `${obj.tax_name}${obj.tax_percentage}%`}</p>\n                            <p className='invoice-total-amount'>{obj.taxAmount || obj.tax_amount}</p>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>)\n                }\n                <hr className='my-50' />\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{data.dueamount}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Invoice Note */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Invoice Note */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** React Imports\nimport { Link } from 'react-router-dom'\nimport { Card, CardBody, Button, Col, Row, Badge } from 'reactstrap'\nimport { Can } from '@src/utility/context/Can.js'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { useEffect, useState } from 'react'\nconst PreviewActions = ({ id, setSendSidebarOpen, setAddPaymentOpen, invoice }) => {\n\n  const [participants, setParticipants] = useState([])\n\n  const downloadPdf = () => {\n    axios.post('/pdfmaker/pdf', { id: invoice.id })\n      .then((res) => {\n        const downloadLink = document.createElement(\"a\")\n        const fileName = `${invoice.uniqueno}.pdf`\n        downloadLink.href = res.data.pdf\n        downloadLink.download = fileName\n        downloadLink.click()\n        document.removeChild(downloadLink)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  const getParticipants = () => {\n\n    axios.post('/taskinvoices/getparticipants', { invoiceId: invoice.id })\n      .then((res) => { setParticipants(res.data.taskinvoiceparticipants) })\n      .catch((err) => { console.log(err) })\n\n  }\n\n  useEffect(() => {\n    getParticipants()\n  }, [])\n\n  return (\n    <Card className='invoice-action-wrapper'>\n      <CardBody>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='primary' block className='mb-75' onClick={() => setSendSidebarOpen(true)}>\n            Send Invoice\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { downloadPdf() }}>\n            Download\n          </Button>\n        </Can>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { window.print() }}>\n            Print\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button tag={Link} to={`/invoice/edit/${id}`} color='secondary' block outline className='mb-75'>\n            Edit\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button color='success' block onClick={() => setAddPaymentOpen(true)}>\n            Add Payment\n          </Button>\n        </Can>\n\n        {participants.length > 0 &&\n          <Col className='mt-2'>\n            <h4>Tagged Employees</h4>\n            <Row className='mt-1'>\n              {\n                participants.map((user, k) => {\n                  return <Badge className='mt-md-75 py-md-75' key={k} color='primary'>{user.name}</Badge>\n                })\n              }\n            </Row>\n          </Col>\n        }\n\n        <Col className='mt-2'>\n\n          <Row className='mt-1'>\n            <h5>Task ID</h5>\n            <Col md={12} tag={Link} to={`/task/view/${invoice.taskid}`}>{invoice.uniqueidentity}</Col>\n          </Row>\n\n          <Row className='mt-1'>\n            <h5>Task Description</h5>\n            <Col md={12}>{invoice.description}</Col>\n          </Row>\n        </Col>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default PreviewActions\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Flatpickr from 'react-flatpickr'\nimport Select from 'react-select'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Form, Input, Label, Button, Row, Col, FormFeedback } from 'reactstrap'\n\n// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport { updateInvociePayments, updateInvoicePayment } from './store/index'\n// ** Styles\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\nimport '@styles/base/pages/app-invoice.scss'\n\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { useDispatch } from 'react-redux'\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { useParams } from 'react-router-dom'\nimport moment from 'moment'\n\nconst activeOrgId = activeOrganizationid()\nconst userId = orgUserId()\n\nconst AddPayment = ({ open, toggleSidebar, selectedPayment, data }) => {\n\n  const dispatch = useDispatch()\n  const [taxDeducted, setTaxDeducted] = useState(false)\n  const [accountOptions, setAccountOptions] = useState([])\n  const [amountErr, setAmountErr] = useState(false)\n  const { id } = useParams()\n  // ** States\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    id: yup.string().default(0),\n    updatedBy: yup.string().default(userId),\n    contactId: yup.string().default(''),\n    isTaxDeducted: yup.boolean().default(false),\n    amountWithHeld: yup.string().when(\"isTaxDeducted\", { is: (isTaxDeducted) => isTaxDeducted, then: yup.string().required(\"Please Enter Amount with Held\") }).default(0),\n    totalAmountPaid: yup.string().required(\"Please Enter Amount\"),\n    paymentDate: yup.string().required(\"Please Enter Payment Date\"),\n    referenceOfMainId: yup.string().default(''),\n    pendingAmountBeforeRecord: yup.string().default(''),\n    transactionAccountId: yup.string().required(\"Please Select Account\").default(''),\n    referenceNo: yup.string(),\n    billingCurrency: yup.string().default(''),\n    billingAddress: yup.string().default(''),\n    notes: yup.string().default(''),\n    paymentConfirmation: yup.boolean().default(false)\n  })\n  const { handleSubmit, control, formState: { errors }, reset } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const onSubmit = async (formData) => {\n    const payamount = parseFloat(control._formValues.totalAmountPaid)\n    const totalPaidamount = parseFloat(control._formValues.totalAmountPaid) + parseFloat(control._formValues.amountWithHeld)\n    if (taxDeducted) {\n      const amountHeld = parseFloat(control._formValues.amountWithHeld)\n      if (parseFloat(selectedPayment.pendingamountbeforerecord) < (payamount + amountHeld)) {\n        setAmountErr(true)\n        return false\n      }\n    } else {\n      if (parseFloat(selectedPayment.pendingamountbeforerecord) < (payamount)) {\n        setAmountErr(true)\n        return false\n      }\n    }\n    formData['paymentDate'] = moment(formData['paymentDate']).valueOf()\n    await dispatch(updateInvociePayments(formData))\n\n    const datatemp = {\n      updatedBy: userId,\n      id,\n      dueamount: parseFloat(formData.pendingAmountBeforeRecord) - parseFloat(totalPaidamount),\n      status: parseFloat(data.dueamount) === (payamount) ? 7 : 6\n    }\n    await dispatch(updateInvoicePayment(datatemp))\n\n    toggleSidebar()\n  }\n\n  useEffect(() => {\n    if (typeof selectedPayment === 'object') {\n      reset({\n        organizationId: activeOrgId,\n        updatedBy: userId,\n        id: selectedPayment.id,\n        contactId: selectedPayment.contactid,\n        isTaxDeducted: selectedPayment.istaxdeducted,\n        amountWithHeld: selectedPayment.amountwithheld,\n        totalAmountPaid: selectedPayment.totalamountpaid,\n        paymentDate: moment(selectedPayment.paymentdate, 'x').toDate(),\n        referenceOfMainId: selectedPayment.referenceofmainid,\n        pendingAmountBeforeRecord: selectedPayment.pendingamountbeforerecord,\n        transactionAccountId: selectedPayment.transactionaccountid,\n        referenceNo: selectedPayment.referenceno,\n        billingCurrency: selectedPayment.billingcurrency,\n        billingAddress: selectedPayment.billingaddress,\n        notes: selectedPayment.notes || '',\n        paymentConfirmation: false\n\n      })\n\n      setTaxDeducted(selectedPayment.istaxdeducted)\n    }\n  }, [selectedPayment])\n\n  const getRow = (fieldLabel, fieldName, reqflag = false) => {\n    return (\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getSelectRow = (fieldLabel, fieldName, options, reqflag = false) => {\n    return (\n\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName} >\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            control={control}\n            name={fieldName}\n            id={fieldName}\n            render={({ field, ref }) => (\n              <Select\n                inputRef={ref}\n                className={classnames('react-select', { 'is-invalid': errors[fieldName] })}\n                {...field}\n                classNamePrefix='select'\n                options={options}\n                value={options.find(c => { return c.id === field.value })}\n                onChange={val => { return field.onChange(val.id) }}\n                getOptionLabel={(option) => option.accountHolderName}\n                getOptionValue={(option) => option.id}\n              />\n            )}\n\n          />\n          {errors[fieldName] && <FormFeedback className='text-danger'>{errors[fieldName]?.message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getBankAccounts = () => {\n    axios.post('/transactionaccounts/dropdown').then(response => {\n      const arr = response.data\n      setAccountOptions(arr.transactionaccounts)\n    })\n  }\n\n  useEffect(() => {\n    getBankAccounts()\n  }, [])\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Add Payment'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      toggleSidebar={toggleSidebar}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n\n        <Row>\n          <span className='fw-bold ps-1'>Invoice Balance {data.billingcurrencysymbol || ''} {data.dueamount || 0}</span>\n        </Row>\n        {amountErr && <p className='text-danger'>Total Payment Amount should Lesserthan or Equal to Invoice Balance </p>}\n        {getRow('Payment Amount', 'totalAmountPaid', true)}\n\n        <Row >\n          <Label sm='12' size='lg' className={classnames(`form-label'required`)} for={`paymentDate`} >\n            Payment Date\n          </Label>\n          <Col sm='12'>\n            <Controller\n              control={control}\n              name={`paymentDate`}\n              id='paymentDate'\n              render={({ field }) => (\n                <Flatpickr\n                  value={field.value}\n                  onChange={(date, dateStr) => { field.onChange(dateStr) }}\n                  options={{ altInput: true }}\n                  className='form-control invoice-edit-input due-date-picker'\n                />\n              )}\n            />\n          </Col>\n        </Row>\n\n        {getSelectRow('Payment Account', \"transactionAccountId\", accountOptions, true)}\n\n        {getRow('Reference Number', 'referenceNo', true)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='isTaxDeducted' className='form-check-label'>\n            Tax Deducted?\n          </Label>\n          <Controller\n            control={control}\n            id='isTaxDeducted'\n            name='isTaxDeducted'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val); setTaxDeducted(!taxDeducted) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        {taxDeducted && getRow('Amount With Held', 'amountWithHeld', true)}\n\n        {getRow('Payment Notes', 'notes', false)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='paymentConfirmation' className='form-check-label'>\n            Sent Payment Confirmation\n          </Label>\n          <Controller\n            control={control}\n            id='paymentConfirmation'\n            name='paymentConfirmation'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        <div className='d-flex flex-wrap mb-0'>\n          <Button className='me-1' color='primary' type='submit'>\n            Submit\n          </Button>\n          <Button color='secondary' outline onClick={toggleSidebar}>\n            Cancel\n          </Button>\n        </div>\n      </Form>\n    </Sidebar>\n  )\n}\n\nexport default AddPayment\n","// ** Reactstrap Imports\nimport { useEffect, useState } from 'react'\n\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, Table, Col } from 'reactstrap'\nimport { getData, deleteInvociePayments, updateInvoicePayment } from './store/index'\nimport { Edit, Trash } from 'react-feather'\n// ** Custom Components\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nimport moment from 'moment'\nimport EditPayment from './EditPayment'\n\nconst MySwal = withReactContent(Swal)\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { orgUserId } from '@src/helper/sassHelper'\n\nconst userId = orgUserId()\n\nconst InvoicePayments = ({ data, tabId, refreshFlag }) => {\n\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.invoicepayment)\n  const [payments, setPayments] = useState([])\n  const [selectedPayment, setSelectedPayment] = useState({})\n\n  const [editPaymentOpen, setEditPaymentOpen] = useState(false)\n\n  const toggleEditSidebar = ((row) => {\n    setEditPaymentOpen(!editPaymentOpen)\n    setSelectedPayment(row)\n  }\n  )\n\n  const dateFormat = (value) => {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n  }\n\n  const deletefun = (row) => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(deleteInvociePayments(row.id))\n\n        const totalAmount = parseFloat(data.dueamount) + (parseFloat(row.totalamountpaid) + parseFloat(row.amountwithheld || 0))\n        const datatemp = {\n          updatedBy: userId,\n          id,\n          dueamount: totalAmount,\n          status: parseFloat(data.totalamount) === (totalAmount) ? 5 : 6\n        }\n        await dispatch(updateInvoicePayment(datatemp))\n        refreshFlag(true)\n        MySwal.fire({\n          icon: 'success',\n          title: 'Deleted!',\n          text: 'Invoice has been deleted.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n      }\n    })\n  }\n\n  useEffect(async () => {\n    if (tabId === '2' && id) {\n      await dispatch(getData({ invoiceId: id }))\n    }\n  }, [tabId])\n\n  useEffect(() => {\n    setPayments(store.invoicePayments)\n  }, [store.invoicePayments])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <CardBody className='invoice-padding pb-0'>\n\n        <EditPayment toggleSidebar={toggleEditSidebar} open={editPaymentOpen} selectedPayment={selectedPayment} data={data} />\n\n        <div className='invoice-list-dataTable react-dataTable'>\n          <Table>\n            <thead>\n              <tr>\n                <th>Payment #</th>\n                <th>Payment Date</th>\n                <th>Refernce</th>\n                <th>Amount</th>\n                <th>Amount With Held</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                payments.map((row, k) => {\n                  return (\n                    <tr key={k}>\n                      <td> <span className='text-primary'>{row.uniqueno}</span></td>\n                      <td>{dateFormat(row.paymentdate)}</td>\n                      <td>\n                        <span>{row.referenceno}</span>\n                      </td>\n                      <td>\n                        <span> {row.totalamountpaid || 0}</span>\n                      </td>\n                      <td>\n                        <span>{row.amountwithheld || 0}</span>\n                      </td>\n                      <td>\n                        <Col tag='a' onClick={e => {\n                          e.preventDefault()\n                          toggleEditSidebar(row)\n                        }}\n                          className='w-100'>\n                          <Edit size={14} className='me-50' />\n                        </Col>\n                        <Col\n                          tag='a'\n                          className='w-100'\n                          onClick={e => {\n                            e.preventDefault()\n                            deletefun(row)\n                          }}\n                        >\n                          <Trash size={14} className='me-50' />\n                        </Col>\n                      </td>\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </Table>\n        </div>\n      </CardBody>\n    </Card>\n  ) : null\n}\n\nexport default InvoicePayments\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Flatpickr from 'react-flatpickr'\nimport Select from 'react-select'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Form, Input, Label, Button, Row, Col, FormFeedback } from 'reactstrap'\n\n// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport { addInvoicePayments, updateInvoicePayment } from './store/index'\n// ** Styles\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\nimport '@styles/base/pages/app-invoice.scss'\n\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { useDispatch } from 'react-redux'\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { useParams } from 'react-router-dom'\nimport moment from 'moment'\n\nconst activeOrgId = activeOrganizationid()\n//const activeOrg = activeOrganization()\nconst userId = orgUserId()\n\nconst AddPayment = ({ open, toggleSidebar, data }) => {\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [taxDeducted, setTaxDeducted] = useState(false)\n  const [accountOptions, setAccountOptions] = useState([])\n  const [amountErr, setAmountErr] = useState(false)\n  // ** States\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    createdBy: yup.string().default(userId),\n    contactId: yup.string().default(data.contactid),\n    isTaxDeducted: yup.boolean().default(false),\n    amountWithHeld: yup.string().when(\"isTaxDeducted\", { is: (isTaxDeducted) => isTaxDeducted, then: yup.string().required(\"Please Enter Amount with Held\") }).default(0),\n    totalAmountPaid: yup.string().required(\"Please Enter Amount\"),\n    paymentDate: yup.string().required(\"Please Enter Payment Date\"),\n    referenceOfMainId: yup.string().default(data.id),\n    pendingAmountBeforeRecord: yup.string().default(data.dueamount),\n    transactionAccountId: yup.string().required(\"Please Select Account\").default(data.bankaccountid),\n    referenceNo: yup.string().default(''),\n    billingCurrency: yup.string().default(data.billingcurrencysymbol),\n    billingAddress: yup.string().default(''),\n    notes: yup.string(),\n    paymentConfirmation: yup.boolean().default(false)\n  })\n  const { handleSubmit, control, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const onSubmit = async (formData) => {\n    const payamount = parseFloat(control._formValues.totalAmountPaid)\n    const totalPaidamount = parseFloat(control._formValues.totalAmountPaid) + parseFloat(control._formValues.amountWithHeld)\n    if (taxDeducted) {\n      const amountHeld = parseFloat(control._formValues.amountWithHeld)\n      if (parseFloat(data.dueamount) < (payamount + amountHeld)) {\n        setAmountErr(true)\n        return false\n      }\n    } else {\n      if (parseFloat(data.dueamount) < (payamount)) {\n        setAmountErr(true)\n        return false\n      }\n    }\n    formData['paymentDate'] = moment(formData['paymentDate']).valueOf()\n    await dispatch(addInvoicePayments(formData))\n    const datatemp = {\n      updatedBy: userId,\n      id,\n      dueamount: parseFloat(formData.pendingAmountBeforeRecord) - parseFloat(totalPaidamount),\n      status: parseFloat(data.dueamount) === (payamount) ? 7 : 6\n    }\n    await dispatch(updateInvoicePayment(datatemp))\n\n    toggleSidebar()\n\n  }\n\n  const getRow = (fieldLabel, fieldName, reqflag = false) => {\n    return (\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getSelectRow = (fieldLabel, fieldName, options, reqflag = false) => {\n    return (\n\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName} >\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            control={control}\n            name={fieldName}\n            id={fieldName}\n            render={({ field, ref }) => (\n              <Select\n                inputRef={ref}\n                className={classnames('react-select', { 'is-invalid': errors[fieldName] })}\n                {...field}\n                classNamePrefix='select'\n                options={options}\n                value={options.find(c => { return c.id === field.value })}\n                onChange={val => { return field.onChange(val.id) }}\n                getOptionLabel={(option) => option.accountHolderName}\n                getOptionValue={(option) => option.id}\n              />\n            )}\n\n          />\n          {errors[fieldName] && <FormFeedback className='text-danger'>{errors[fieldName]?.message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getBankAccounts = () => {\n    axios.post('/transactionaccounts/dropdown').then(response => {\n      const arr = response.data\n      setAccountOptions(arr.transactionaccounts)\n    })\n  }\n\n  useEffect(() => {\n    getBankAccounts()\n  }, [])\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Edit Payment'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      toggleSidebar={toggleSidebar}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n\n        <Row>\n          <span className='fw-bold ps-1'>Invoice Balance {data.billingcurrencysymbol} {data.dueamount}</span>\n        </Row>\n        {amountErr && <p className='text-danger'>Total Payment Amount should Lesserthan or Equal to Invoice Balance </p>}\n        {getRow('Payment Amount', 'totalAmountPaid', true)}\n\n        <Row >\n          <Label sm='12' size='lg' className={classnames(`form-label'required`)} for={`paymentDate`} >\n            Payment Date\n          </Label>\n          <Col sm='12'>\n            <Controller\n              control={control}\n              name={`paymentDate`}\n              id='paymentDate'\n              render={({ field }) => (\n                <Flatpickr\n                  value={field.value}\n                  onChange={(date, dateStr) => { field.onChange(dateStr) }}\n                  options={{ altInput: true }}\n                  className='form-control invoice-edit-input due-date-picker'\n                />\n              )}\n            />\n          </Col>\n        </Row>\n\n        {getSelectRow('Payment Account', \"transactionAccountId\", accountOptions, true)}\n\n        {getRow('Reference Number', 'referenceNo', true)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='isTaxDeducted' className='form-check-label'>\n            Tax Deducted?\n          </Label>\n          <Controller\n            control={control}\n            id='isTaxDeducted'\n            name='isTaxDeducted'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val); setTaxDeducted(!taxDeducted) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        {taxDeducted && getRow('Amount With Held', 'amountWithHeld', true)}\n\n        {getRow('Payment Notes', 'notes', false)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='paymentConfirmation' className='form-check-label'>\n            Sent Payment Confirmation\n          </Label>\n          <Controller\n            control={control}\n            id='paymentConfirmation'\n            name='paymentConfirmation'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        <div className='d-flex flex-wrap mb-0'>\n          <Button className='me-1' color='primary' type='submit'>\n            Submit\n          </Button>\n          <Button color='secondary' outline onClick={toggleSidebar}>\n            Cancel\n          </Button>\n        </div>\n      </Form>\n    </Sidebar>\n  )\n}\n\nexport default AddPayment\n","// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\n// ** Third Party Components\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Row, Col, Alert, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'\n\n// ** Invoice Preview Components\nimport PreviewCard from './PreviewCard'\nimport PreviewCardINT from './PreviewCardINT'\nimport PreviewActions from './PreviewActions'\nimport InvoicePayments from './InvoicePayment/index'\nimport AddPayment from './InvoicePayment/AddPayment'\nimport SendInvoiceSidebar from '../shared-sidebar/SidebarSendInvoice'\n\n// ** Styles\nimport '@styles/base/pages/app-invoice.scss'\nimport { User, Lock } from 'react-feather'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\n\nconst InvoicePreview = () => {\n  // ** HooksVars\n  const { id } = useParams()\n\n  // ** States\n  const [sendSidebarOpen, setSendSidebarOpen] = useState(false)\n\n  const [addPaymentOpen, setAddPaymentOpen] = useState(false)\n  const [data, setData] = useState(null)\n  const [active, setActive] = useState('1')\n  // ** Functions to toggle add & send sidebar\n\n  const getInvoice = async () => {\n    axios.post('/taskinvoices/get', { id }).then((res) => {\n      setData(res.data.taskinvoices)\n    }).catch((err) => { console.log(err) })\n\n  }\n\n  const toggleSendSidebar = () => setSendSidebarOpen(!sendSidebarOpen)\n  const toggleAddSidebar = () => {\n    setAddPaymentOpen(!addPaymentOpen)\n    getInvoice()\n  }\n\n  const refreshFlag = (val) => {\n    if (val) {\n      getInvoice()\n    }\n  }\n\n  useEffect(() => {\n    getInvoice()\n  }, [])\n\n  const toggleTab = tab => {\n    if (active !== tab) {\n      setActive(tab)\n    }\n  }\n\n  // ** Get invoice on mount based on id\n\n  return data !== null && data !== undefined ? (\n    <div className='invoice-preview-wrapper'>\n      <Row className='invoice-preview'>\n        <Col xl={10} md={8} sm={12}>\n\n          <Nav pills className='mb-2'>\n            <NavItem>\n              <NavLink active={active === '1'} onClick={() => toggleTab('1')}>\n                <User className='font-medium-3 me-50' />\n                <span className='fw-bold'>Invoice</span>\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink active={active === '2'} onClick={() => toggleTab('2')}>\n                <Lock className='font-medium-3 me-50' />\n                <span className='fw-bold'>Payments</span>\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <TabContent activeTab={active}>\n            <TabPane tabId='1'>\n              {activeOrg.countryshortname === 'IN' ? <PreviewCard data={data} tabId={active} /> : <PreviewCardINT data={data} tabId={active} />}\n            </TabPane>\n            <TabPane tabId='2'>\n              <InvoicePayments data={data} tabId={active} refreshFlag={refreshFlag} />\n            </TabPane>\n          </TabContent>\n\n        </Col>\n        <Col xl={2} md={4} sm={12}>\n          <PreviewActions id={id} setSendSidebarOpen={setSendSidebarOpen} setAddPaymentOpen={setAddPaymentOpen} invoice={data} />\n        </Col>\n      </Row>\n      {sendSidebarOpen &&\n\n        <SendInvoiceSidebar toggleSidebar={toggleSendSidebar} open={sendSidebarOpen} invoice={data} />\n\n      }\n      <AddPayment toggleSidebar={toggleAddSidebar} open={addPaymentOpen} data={data} />\n    </div>\n  ) : (\n    <Alert color='danger'>\n      <h4 className='alert-heading'>Invoice not found</h4>\n      <div className='alert-body'>\n        Invoice with id: {id} doesn't exist. Check list of all invoices:{' '}\n        <Link to='/invoice/list'>Invoice List</Link>\n      </div>\n    </Alert>\n  )\n}\n\nexport default InvoicePreview\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.draftjsToHtml = factory());\n}(this, (function () { 'use strict';\n\n  /**\n  * Utility function to execute callback for eack key->value pair.\n  */\n  function forEach(obj, callback) {\n    if (obj) {\n      for (var key in obj) {\n        // eslint-disable-line no-restricted-syntax\n        if ({}.hasOwnProperty.call(obj, key)) {\n          callback(key, obj[key]);\n        }\n      }\n    }\n  }\n  /**\n  * The function returns true if the string passed to it has no content.\n  */\n\n  function isEmptyString(str) {\n    if (str === undefined || str === null || str.length === 0 || str.trim().length === 0) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n  * Mapping block-type to corresponding html tag.\n  */\n\n  var blockTypesMapping = {\n    unstyled: 'p',\n    'header-one': 'h1',\n    'header-two': 'h2',\n    'header-three': 'h3',\n    'header-four': 'h4',\n    'header-five': 'h5',\n    'header-six': 'h6',\n    'unordered-list-item': 'ul',\n    'ordered-list-item': 'ol',\n    blockquote: 'blockquote',\n    code: 'pre'\n  };\n  /**\n  * Function will return HTML tag for a block.\n  */\n\n  function getBlockTag(type) {\n    return type && blockTypesMapping[type];\n  }\n  /**\n  * Function will return style string for a block.\n  */\n\n  function getBlockStyle(data) {\n    var styles = '';\n    forEach(data, function (key, value) {\n      if (value) {\n        styles += \"\".concat(key, \":\").concat(value, \";\");\n      }\n    });\n    return styles;\n  }\n  /**\n  * The function returns an array of hashtag-sections in blocks.\n  * These will be areas in block which have hashtags applicable to them.\n  */\n\n  function getHashtagRanges(blockText, hashtagConfig) {\n    var sections = [];\n\n    if (hashtagConfig) {\n      var counter = 0;\n      var startIndex = 0;\n      var text = blockText;\n      var trigger = hashtagConfig.trigger || '#';\n      var separator = hashtagConfig.separator || ' ';\n\n      for (; text.length > 0 && startIndex >= 0;) {\n        if (text[0] === trigger) {\n          startIndex = 0;\n          counter = 0;\n          text = text.substr(trigger.length);\n        } else {\n          startIndex = text.indexOf(separator + trigger);\n\n          if (startIndex >= 0) {\n            text = text.substr(startIndex + (separator + trigger).length);\n            counter += startIndex + separator.length;\n          }\n        }\n\n        if (startIndex >= 0) {\n          var endIndex = text.indexOf(separator) >= 0 ? text.indexOf(separator) : text.length;\n          var hashtag = text.substr(0, endIndex);\n\n          if (hashtag && hashtag.length > 0) {\n            sections.push({\n              offset: counter,\n              length: hashtag.length + trigger.length,\n              type: 'HASHTAG'\n            });\n          }\n\n          counter += trigger.length;\n        }\n      }\n    }\n\n    return sections;\n  }\n  /**\n  * The function returns an array of entity-sections in blocks.\n  * These will be areas in block which have same entity or no entity applicable to them.\n  */\n\n\n  function getSections(block, hashtagConfig) {\n    var sections = [];\n    var lastOffset = 0;\n    var sectionRanges = block.entityRanges.map(function (range) {\n      var offset = range.offset,\n          length = range.length,\n          key = range.key;\n      return {\n        offset: offset,\n        length: length,\n        key: key,\n        type: 'ENTITY'\n      };\n    });\n    sectionRanges = sectionRanges.concat(getHashtagRanges(block.text, hashtagConfig));\n    sectionRanges = sectionRanges.sort(function (s1, s2) {\n      return s1.offset - s2.offset;\n    });\n    sectionRanges.forEach(function (r) {\n      if (r.offset > lastOffset) {\n        sections.push({\n          start: lastOffset,\n          end: r.offset\n        });\n      }\n\n      sections.push({\n        start: r.offset,\n        end: r.offset + r.length,\n        entityKey: r.key,\n        type: r.type\n      });\n      lastOffset = r.offset + r.length;\n    });\n\n    if (lastOffset < block.text.length) {\n      sections.push({\n        start: lastOffset,\n        end: block.text.length\n      });\n    }\n\n    return sections;\n  }\n  /**\n  * Function to check if the block is an atomic entity block.\n  */\n\n\n  function isAtomicEntityBlock(block) {\n    if (block.entityRanges.length > 0 && (isEmptyString(block.text) || block.type === 'atomic')) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n  * The function will return array of inline styles applicable to the block.\n  */\n\n\n  function getStyleArrayForBlock(block) {\n    var text = block.text,\n        inlineStyleRanges = block.inlineStyleRanges;\n    var inlineStyles = {\n      BOLD: new Array(text.length),\n      ITALIC: new Array(text.length),\n      UNDERLINE: new Array(text.length),\n      STRIKETHROUGH: new Array(text.length),\n      CODE: new Array(text.length),\n      SUPERSCRIPT: new Array(text.length),\n      SUBSCRIPT: new Array(text.length),\n      COLOR: new Array(text.length),\n      BGCOLOR: new Array(text.length),\n      FONTSIZE: new Array(text.length),\n      FONTFAMILY: new Array(text.length),\n      length: text.length\n    };\n\n    if (inlineStyleRanges && inlineStyleRanges.length > 0) {\n      inlineStyleRanges.forEach(function (range) {\n        var offset = range.offset;\n        var length = offset + range.length;\n\n        for (var i = offset; i < length; i += 1) {\n          if (range.style.indexOf('color-') === 0) {\n            inlineStyles.COLOR[i] = range.style.substring(6);\n          } else if (range.style.indexOf('bgcolor-') === 0) {\n            inlineStyles.BGCOLOR[i] = range.style.substring(8);\n          } else if (range.style.indexOf('fontsize-') === 0) {\n            inlineStyles.FONTSIZE[i] = range.style.substring(9);\n          } else if (range.style.indexOf('fontfamily-') === 0) {\n            inlineStyles.FONTFAMILY[i] = range.style.substring(11);\n          } else if (inlineStyles[range.style]) {\n            inlineStyles[range.style][i] = true;\n          }\n        }\n      });\n    }\n\n    return inlineStyles;\n  }\n  /**\n  * The function will return inline style applicable at some offset within a block.\n  */\n\n\n  function getStylesAtOffset(inlineStyles, offset) {\n    var styles = {};\n\n    if (inlineStyles.COLOR[offset]) {\n      styles.COLOR = inlineStyles.COLOR[offset];\n    }\n\n    if (inlineStyles.BGCOLOR[offset]) {\n      styles.BGCOLOR = inlineStyles.BGCOLOR[offset];\n    }\n\n    if (inlineStyles.FONTSIZE[offset]) {\n      styles.FONTSIZE = inlineStyles.FONTSIZE[offset];\n    }\n\n    if (inlineStyles.FONTFAMILY[offset]) {\n      styles.FONTFAMILY = inlineStyles.FONTFAMILY[offset];\n    }\n\n    if (inlineStyles.UNDERLINE[offset]) {\n      styles.UNDERLINE = true;\n    }\n\n    if (inlineStyles.ITALIC[offset]) {\n      styles.ITALIC = true;\n    }\n\n    if (inlineStyles.BOLD[offset]) {\n      styles.BOLD = true;\n    }\n\n    if (inlineStyles.STRIKETHROUGH[offset]) {\n      styles.STRIKETHROUGH = true;\n    }\n\n    if (inlineStyles.CODE[offset]) {\n      styles.CODE = true;\n    }\n\n    if (inlineStyles.SUBSCRIPT[offset]) {\n      styles.SUBSCRIPT = true;\n    }\n\n    if (inlineStyles.SUPERSCRIPT[offset]) {\n      styles.SUPERSCRIPT = true;\n    }\n\n    return styles;\n  }\n  /**\n  * Function returns true for a set of styles if the value of these styles at an offset\n  * are same as that on the previous offset.\n  */\n\n  function sameStyleAsPrevious(inlineStyles, styles, index) {\n    var sameStyled = true;\n\n    if (index > 0 && index < inlineStyles.length) {\n      styles.forEach(function (style) {\n        sameStyled = sameStyled && inlineStyles[style][index] === inlineStyles[style][index - 1];\n      });\n    } else {\n      sameStyled = false;\n    }\n\n    return sameStyled;\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n  function addInlineStyleMarkup(style, content) {\n    if (style === 'BOLD') {\n      return \"<strong>\".concat(content, \"</strong>\");\n    }\n\n    if (style === 'ITALIC') {\n      return \"<em>\".concat(content, \"</em>\");\n    }\n\n    if (style === 'UNDERLINE') {\n      return \"<ins>\".concat(content, \"</ins>\");\n    }\n\n    if (style === 'STRIKETHROUGH') {\n      return \"<del>\".concat(content, \"</del>\");\n    }\n\n    if (style === 'CODE') {\n      return \"<code>\".concat(content, \"</code>\");\n    }\n\n    if (style === 'SUPERSCRIPT') {\n      return \"<sup>\".concat(content, \"</sup>\");\n    }\n\n    if (style === 'SUBSCRIPT') {\n      return \"<sub>\".concat(content, \"</sub>\");\n    }\n\n    return content;\n  }\n  /**\n  * The function returns text for given section of block after doing required character replacements.\n  */\n\n  function getSectionText(text) {\n    if (text && text.length > 0) {\n      var chars = text.map(function (ch) {\n        switch (ch) {\n          case '\\n':\n            return '<br>';\n\n          case '&':\n            return '&amp;';\n\n          case '<':\n            return '&lt;';\n\n          case '>':\n            return '&gt;';\n\n          default:\n            return ch;\n        }\n      });\n      return chars.join('');\n    }\n\n    return '';\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n\n  function addStylePropertyMarkup(styles, text) {\n    if (styles && (styles.COLOR || styles.BGCOLOR || styles.FONTSIZE || styles.FONTFAMILY)) {\n      var styleString = 'style=\"';\n\n      if (styles.COLOR) {\n        styleString += \"color: \".concat(styles.COLOR, \";\");\n      }\n\n      if (styles.BGCOLOR) {\n        styleString += \"background-color: \".concat(styles.BGCOLOR, \";\");\n      }\n\n      if (styles.FONTSIZE) {\n        styleString += \"font-size: \".concat(styles.FONTSIZE).concat(/^\\d+$/.test(styles.FONTSIZE) ? 'px' : '', \";\");\n      }\n\n      if (styles.FONTFAMILY) {\n        styleString += \"font-family: \".concat(styles.FONTFAMILY, \";\");\n      }\n\n      styleString += '\"';\n      return \"<span \".concat(styleString, \">\").concat(text, \"</span>\");\n    }\n\n    return text;\n  }\n  /**\n  * Function will return markup for Entity.\n  */\n\n  function getEntityMarkup(entityMap, entityKey, text, customEntityTransform) {\n    var entity = entityMap[entityKey];\n\n    if (typeof customEntityTransform === 'function') {\n      var html = customEntityTransform(entity, text);\n\n      if (html) {\n        return html;\n      }\n    }\n\n    if (entity.type === 'MENTION') {\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" class=\\\"wysiwyg-mention\\\" data-mention data-value=\\\"\").concat(entity.data.value, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'LINK') {\n      var targetOption = entity.data.targetOption || '_self';\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" target=\\\"\").concat(targetOption, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'IMAGE') {\n      var alignment = entity.data.alignment;\n\n      if (alignment && alignment.length) {\n        return \"<div style=\\\"text-align:\".concat(alignment, \";\\\"><img src=\\\"\").concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/></div>\");\n      }\n\n      return \"<img src=\\\"\".concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/>\");\n    }\n\n    if (entity.type === 'EMBEDDED_LINK') {\n      return \"<iframe width=\\\"\".concat(entity.data.width, \"\\\" height=\\\"\").concat(entity.data.height, \"\\\" src=\\\"\").concat(entity.data.src, \"\\\" frameBorder=\\\"0\\\"></iframe>\");\n    }\n\n    return text;\n  }\n  /**\n  * For a given section in a block the function will return a further list of sections,\n  * with similar inline styles applicable to them.\n  */\n\n\n  function getInlineStyleSections(block, styles, start, end) {\n    var styleSections = [];\n    var text = Array.from(block.text);\n\n    if (text.length > 0) {\n      var inlineStyles = getStyleArrayForBlock(block);\n      var section;\n\n      for (var i = start; i < end; i += 1) {\n        if (i !== start && sameStyleAsPrevious(inlineStyles, styles, i)) {\n          section.text.push(text[i]);\n          section.end = i + 1;\n        } else {\n          section = {\n            styles: getStylesAtOffset(inlineStyles, i),\n            text: [text[i]],\n            start: i,\n            end: i + 1\n          };\n          styleSections.push(section);\n        }\n      }\n    }\n\n    return styleSections;\n  }\n  /**\n  * Replace leading blank spaces by &nbsp;\n  */\n\n\n  function trimLeadingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = 0; i < replacedText.length; i += 1) {\n        if (sectionText[i] === ' ') {\n          replacedText = replacedText.replace(' ', '&nbsp;');\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * Replace trailing blank spaces by &nbsp;\n  */\n\n  function trimTrailingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = replacedText.length - 1; i >= 0; i -= 1) {\n        if (replacedText[i] === ' ') {\n          replacedText = \"\".concat(replacedText.substring(0, i), \"&nbsp;\").concat(replacedText.substring(i + 1));\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  * like BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE, SUPERSCRIPT, SUBSCRIPT are applicable.\n  */\n\n  function getStyleTagSectionMarkup(styleSection) {\n    var styles = styleSection.styles,\n        text = styleSection.text;\n    var content = getSectionText(text);\n    forEach(styles, function (style, value) {\n      content = addInlineStyleMarkup(style, content);\n    });\n    return content;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  like color, background-color, font-size are applicable.\n  */\n\n\n  function getInlineStyleSectionMarkup(block, styleSection) {\n    var styleTagSections = getInlineStyleSections(block, ['BOLD', 'ITALIC', 'UNDERLINE', 'STRIKETHROUGH', 'CODE', 'SUPERSCRIPT', 'SUBSCRIPT'], styleSection.start, styleSection.end);\n    var styleSectionText = '';\n    styleTagSections.forEach(function (stylePropertySection) {\n      styleSectionText += getStyleTagSectionMarkup(stylePropertySection);\n    });\n    styleSectionText = addStylePropertyMarkup(styleSection.styles, styleSectionText);\n    return styleSectionText;\n  }\n  /*\n  * The method returns markup for an entity section.\n  * An entity section is a continuous section in a block\n  * to which same entity or no entity is applicable.\n  */\n\n\n  function getSectionMarkup(block, entityMap, section, customEntityTransform) {\n    var entityInlineMarkup = [];\n    var inlineStyleSections = getInlineStyleSections(block, ['COLOR', 'BGCOLOR', 'FONTSIZE', 'FONTFAMILY'], section.start, section.end);\n    inlineStyleSections.forEach(function (styleSection) {\n      entityInlineMarkup.push(getInlineStyleSectionMarkup(block, styleSection));\n    });\n    var sectionText = entityInlineMarkup.join('');\n\n    if (section.type === 'ENTITY') {\n      if (section.entityKey !== undefined && section.entityKey !== null) {\n        sectionText = getEntityMarkup(entityMap, section.entityKey, sectionText, customEntityTransform); // eslint-disable-line max-len\n      }\n    } else if (section.type === 'HASHTAG') {\n      sectionText = \"<a href=\\\"\".concat(sectionText, \"\\\" class=\\\"wysiwyg-hashtag\\\">\").concat(sectionText, \"</a>\");\n    }\n\n    return sectionText;\n  }\n  /**\n  * Function will return the markup for block preserving the inline styles and\n  * special characters like newlines or blank spaces.\n  */\n\n\n  function getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform) {\n    var blockMarkup = [];\n    var sections = getSections(block, hashtagConfig);\n    sections.forEach(function (section, index) {\n      var sectionText = getSectionMarkup(block, entityMap, section, customEntityTransform);\n\n      if (index === 0) {\n        sectionText = trimLeadingZeros(sectionText);\n      }\n\n      if (index === sections.length - 1) {\n        sectionText = trimTrailingZeros(sectionText);\n      }\n\n      blockMarkup.push(sectionText);\n    });\n    return blockMarkup.join('');\n  }\n  /**\n  * Function will return html for the block.\n  */\n\n  function getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var blockHtml = [];\n\n    if (isAtomicEntityBlock(block)) {\n      blockHtml.push(getEntityMarkup(entityMap, block.entityRanges[0].key, undefined, customEntityTransform));\n    } else {\n      var blockTag = getBlockTag(block.type);\n\n      if (blockTag) {\n        blockHtml.push(\"<\".concat(blockTag));\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          blockHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          blockHtml.push(' dir = \"auto\"');\n        }\n\n        blockHtml.push('>');\n        blockHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        blockHtml.push(\"</\".concat(blockTag, \">\"));\n      }\n    }\n\n    blockHtml.push('\\n');\n    return blockHtml.join('');\n  }\n\n  /**\n  * Function to check if a block is of type list.\n  */\n\n  function isList(blockType) {\n    return blockType === 'unordered-list-item' || blockType === 'ordered-list-item';\n  }\n  /**\n  * Function will return html markup for a list block.\n  */\n\n  function getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var listHtml = [];\n    var nestedListBlock = [];\n    var previousBlock;\n    listBlocks.forEach(function (block) {\n      var nestedBlock = false;\n\n      if (!previousBlock) {\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.type !== block.type) {\n        listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.depth === block.depth) {\n        if (nestedListBlock && nestedListBlock.length > 0) {\n          listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n          nestedListBlock = [];\n        }\n      } else {\n        nestedBlock = true;\n        nestedListBlock.push(block);\n      }\n\n      if (!nestedBlock) {\n        listHtml.push('<li');\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          listHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          listHtml.push(' dir = \"auto\"');\n        }\n\n        listHtml.push('>');\n        listHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        listHtml.push('</li>\\n');\n        previousBlock = block;\n      }\n    });\n\n    if (nestedListBlock && nestedListBlock.length > 0) {\n      listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n    }\n\n    listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n    return listHtml.join('');\n  }\n\n  /**\n  * The function will generate html markup for given draftjs editorContent.\n  */\n\n  function draftToHtml(editorContent, hashtagConfig, directional, customEntityTransform) {\n    var html = [];\n\n    if (editorContent) {\n      var blocks = editorContent.blocks,\n          entityMap = editorContent.entityMap;\n\n      if (blocks && blocks.length > 0) {\n        var listBlocks = [];\n        blocks.forEach(function (block) {\n          if (isList(block.type)) {\n            listBlocks.push(block);\n          } else {\n            if (listBlocks.length > 0) {\n              var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, customEntityTransform); // eslint-disable-line max-len\n\n              html.push(listHtml);\n              listBlocks = [];\n            }\n\n            var blockHtml = getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform);\n            html.push(blockHtml);\n          }\n        });\n\n        if (listBlocks.length > 0) {\n          var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform); // eslint-disable-line max-len\n\n          html.push(listHtml);\n          listBlocks = [];\n        }\n      }\n    }\n\n    return html.join('');\n  }\n\n  return draftToHtml;\n\n})));\n","import { I as cleanValue, D as valueTernary, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { g as getOptionValue, a as getOptionLabel } from './Select-09b3775e.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\n\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\n\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n      allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n      _ref$createOptionPosi = _ref.createOptionPosition,\n      createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n      _ref$formatCreateLabe = _ref.formatCreateLabel,\n      formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n      _ref$isValidNewOption = _ref.isValidNewOption,\n      isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n      _ref$getNewOptionData = _ref.getNewOptionData,\n      getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n      onCreateOption = _ref.onCreateOption,\n      _ref$options = _ref.options,\n      propsOptions = _ref$options === void 0 ? [] : _ref$options,\n      propsOnChange = _ref.onChange,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n      getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n      _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n      getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n      inputValue = restSelectProps.inputValue,\n      isLoading = restSelectProps.isLoading,\n      isMulti = restSelectProps.isMulti,\n      value = restSelectProps.value,\n      name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport React from 'react';\nimport { S as Select } from '../../dist/Select-09b3775e.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-783b07d5.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-00a6568c.esm.js';\nimport '../../dist/index-c7a4d7ce.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\nimport '@babel/runtime/helpers/slicedToArray';\n\nvar CreatableSelect = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var creatableProps = useStateManager(props);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\n\nexport default CreatableSelect;\n","export const calculateTax = (amount, taxRateInPercentage, TaxType) => {\n    let calculatedTax = 0\n    if (TaxType === 1) { //Inclusive\n        calculatedTax = parseFloat(amount) - (parseFloat(amount) * (100 / (100 + parseFloat(taxRateInPercentage))))\n        // calculatedTax = parseFloat(amount) - parseFloat(calculatedTax);\n\n    } else if (TaxType === 2) { //Exclusive\n        calculatedTax = (parseFloat(amount) * parseFloat(taxRateInPercentage)) / 100\n    }\n    return parseFloat(calculatedTax)\n}\n\nexport const parser = (str) => {\n\n    return JSON.parse(Array.isArray(str) ? JSON.stringify(str).replace(/\\\\/g, '') : str.replace(/\\\\/g, ''))\n\n}","// ** Third Party Components\nimport { X } from 'react-feather'\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\n\nconst Sidebar = props => {\n  // ** Props\n  const {\n    open,\n    size,\n    title,\n    width,\n    children,\n    closeBtn,\n    className,\n    toggleSidebar,\n    bodyClassName,\n    contentClassName,\n    wrapperClassName,\n    headerClassName,\n    ...rest\n  } = props\n\n  // ** If user passes custom close btn render that else default close btn\n  const renderCloseBtn = closeBtn ? closeBtn : <X className='cursor-pointer' size={15} onClick={toggleSidebar} />\n\n  return (\n    <Modal\n      isOpen={open}\n      toggle={toggleSidebar}\n      contentClassName={classnames('overflow-hidden', {\n        [contentClassName]: contentClassName\n      })}\n      modalClassName={classnames('modal-slide-in', {\n        [wrapperClassName]: wrapperClassName\n      })}\n      className={classnames({\n        [className]: className,\n        'sidebar-lg': size === 'lg',\n        'sidebar-sm': size === 'sm'\n      })}\n      /*eslint-disable */\n      {...(width !== undefined\n        ? {\n            style: { width: String(width) + 'px' }\n          }\n        : {})}\n      /*eslint-enable */\n      {...rest}\n    >\n      <ModalHeader\n        className={classnames({\n          [headerClassName]: headerClassName\n        })}\n        toggle={toggleSidebar}\n        close={renderCloseBtn}\n        tag='div'\n      >\n        <h5 className='modal-title'>\n          <span className='align-middle'>{title}</span>\n        </h5>\n      </ModalHeader>\n      <PerfectScrollbar options={{ wheelPropagation: false }}>\n        <ModalBody\n          className={classnames('flex-grow-1', {\n            [bodyClassName]: bodyClassName\n          })}\n        >\n          {children}\n        </ModalBody>\n      </PerfectScrollbar>\n    </Modal>\n  )\n}\n\nexport default Sidebar\n\n// ** PropTypes\nSidebar.propTypes = {\n  className: Proptypes.string,\n  bodyClassName: Proptypes.string,\n  open: Proptypes.bool.isRequired,\n  title: Proptypes.string.isRequired,\n  contentClassName: Proptypes.string,\n  wrapperClassName: Proptypes.string,\n  children: Proptypes.any.isRequired,\n  size: Proptypes.oneOf(['sm', 'lg']),\n  toggleSidebar: Proptypes.func.isRequired,\n  width: Proptypes.oneOfType([Proptypes.number, Proptypes.string])\n}\n"],"sourceRoot":""}
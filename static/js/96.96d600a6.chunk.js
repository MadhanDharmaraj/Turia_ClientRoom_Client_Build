(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[96],{1076:function(e,t,a){},1469:function(e,t,a){"use strict";a.r(t);var n=a(12),s=a(0),c=a(7),r=a.n(c),i=a(8),l=a(25),o=a(61),d=a(783),u=a(62),j=a.n(u),h=a(356),b=a(350),O=a(371),f=a(13),m=a(14),p=a(28),g=a.n(p),x=a(3),v=Object(f.d)(),N=function(e){var t=e.query,a=e.tasks,n=e.params,s=e.dispatch,c=e.getTasks,u=e.setSort,f=e.setQuery,p=e.updateTask,N=e.selectTask,y=e.reOrderTasks,T=e.handleTaskSidebar,k=e.handleMainSidebar,C={team:"Team",self:"Self"},S=["light-primary","light-success","light-warning"],E=function(e,t){e.preventDefault(),u(t),s(c(Object(i.a)(Object(i.a)({},n),{},{sort:t})))};return Object(x.jsxs)("div",{className:"todo-app-list",children:[Object(x.jsxs)("div",{className:"app-fixed-search d-flex align-items-center",children:[Object(x.jsx)("div",{className:"sidebar-toggle cursor-pointer d-block d-lg-none ms-1",onClick:k,children:Object(x.jsx)(b.a,{size:21})}),Object(x.jsx)("div",{className:"d-flex align-content-center justify-content-between w-100",children:Object(x.jsxs)(m.L,{className:"input-group-merge",children:[Object(x.jsx)(m.M,{children:Object(x.jsx)(O.a,{className:"text-muted",size:14})}),Object(x.jsx)(m.K,{placeholder:"Search task",value:t,onChange:function(e){f(e.target.value),s(c(Object(i.a)(Object(i.a)({},n),{},{q:e.target.value})))}})]})}),Object(x.jsxs)(m.wb,{children:[Object(x.jsx)(m.G,{className:"hide-arrow mr-1",tag:"a",href:"/",onClick:function(e){return e.preventDefault()},children:Object(x.jsx)(h.a,{className:"text-body",size:16})}),Object(x.jsxs)(m.F,{end:!0,children:[Object(x.jsx)(m.E,{tag:l.b,to:"/",onClick:function(e){return E(e,"title ASC")},children:"Sort A-Z"}),Object(x.jsx)(m.E,{tag:l.b,to:"/",onClick:function(e){return E(e,"title DESC")},children:"Sort Z-A"}),Object(x.jsx)(m.E,{tag:l.b,to:"/",onClick:function(e){return E(e,"reminderdate DESC")},children:"Sort Due Date"}),Object(x.jsx)(m.E,{tag:l.b,to:"/",onClick:function(e){return E(e,"")},children:"Reset Sort"})]})]})]}),Object(x.jsx)(j.a,{className:"list-group todo-task-list-wrapper",options:{wheelPropagation:!1},containerRef:function(e){e&&(e._getBoundingClientRect=e.getBoundingClientRect,e.getBoundingClientRect=function(){var t=e._getBoundingClientRect();return Object(i.a)(Object(i.a)({},t),{},{height:Math.floor(t.height)})})},children:a.length?Object(x.jsx)(d.ReactSortable,{tag:"ul",list:a,handle:".drag-icon",className:"todo-task-list media-list",setList:function(e){return s(y(e))},children:a.map((function(e){return Object(x.jsx)("li",{onClick:function(){return s(N(e)),void T()},className:r()("todo-item",{completed:e.isCompleted}),children:Object(x.jsxs)("div",{className:"todo-title-wrapper",children:[Object(x.jsxs)("div",{className:"todo-title-area col-md-9",children:[Object(x.jsx)(h.a,{className:"drag-icon"}),Object(x.jsx)("div",{className:"form-check",children:Object(x.jsx)(m.K,{type:"checkbox",id:e.title,checked:2===parseInt(e.status),onClick:function(e){return e.stopPropagation()},onChange:function(t){t.stopPropagation(),function(e,t){var a=Object(i.a)({},t);a.updatedBy=v,a.status=e?2:1,a.assignee=a.assigneeid,s(p(Object(i.a)(Object(i.a)({},a),{},{isCompleted:e})))}(t.target.checked,e)}})}),Object(x.jsx)("span",{className:"todo-title ".concat(2===parseInt(e.status)?"text-muted":""),children:e.title})]}),Object(x.jsxs)("div",{className:"todo-item-action mt-lg-0 mt-50 col-md-2 justify-content-end",children:[e.assigneelist.map((function(e,t){return function(e,t){return Object(x.jsx)(o.a,{color:S[t],content:e||"T",initials:!0},t)}(e,t)})),Object(x.jsx)("div",{className:"badge-wrapper ms-50",children:(t=e.tags,Object(x.jsx)(m.f,{className:"text-capitalize",color:{team:"light-primary",self:"light-success"}[t],pill:!0,children:C[t]}))}),Object(x.jsx)("span",{className:"text-nowrap font-small-3 text-muted ms-50",children:g()(e.dueDate,"x").format("MMM DD")})]})]})},e.id);var t}))}):Object(x.jsx)("div",{className:"no-results show",children:Object(x.jsx)("h5",{children:"No Items Found"})})})]})},y=a(347),T=a(290),k=function(e){var t=e.handleTaskSidebar,a=e.setMainSidebar,n=e.mainSidebar,s=e.dispatch,c=e.getTasks,l=e.params,o=function(e){s(c(Object(i.a)(Object(i.a)({},l),{},{status:e,tag:""})))},d=function(e){s(c(Object(i.a)(Object(i.a)({},l),{},{tag:e,status:""})))},u=function(e){return!(!l.tag||l.tag!==e)};return Object(x.jsx)("div",{className:r()("sidebar-left",{show:!0===n}),children:Object(x.jsx)("div",{className:"sidebar",children:Object(x.jsx)("div",{className:"sidebar-content todo-sidebar",children:Object(x.jsxs)("div",{className:"todo-app-menu",children:[Object(x.jsx)("div",{className:"add-task",children:Object(x.jsx)(m.i,{color:"primary",onClick:function(){t(),a()},block:!0,children:"Add To-Do"})}),Object(x.jsxs)(j.a,{className:"sidebar-menu-list",options:{wheelPropagation:!1},children:[Object(x.jsxs)(m.O,{tag:"div",className:"list-group-filters",children:[Object(x.jsxs)(m.P,{className:"cursor-pointer",active:1===l.status,onClick:function(){return o(1)},children:[Object(x.jsx)(y.a,{className:"me-75",size:18}),Object(x.jsx)("span",{className:"align-middle",children:"My To-Do"})]}),Object(x.jsxs)(m.P,{className:"cursor-pointer",active:2===l.status,onClick:function(){return o(2)},action:!0,children:[Object(x.jsx)(T.a,{className:"me-75",size:18}),Object(x.jsx)("span",{className:"align-middle",children:"Completed"})]})]}),Object(x.jsx)("div",{className:"mt-3 px-2 d-flex justify-content-between",children:Object(x.jsx)("h6",{className:"section-label mb-1",children:"Tags"})}),Object(x.jsxs)(m.O,{className:"list-group-labels",children:[Object(x.jsxs)(m.P,{active:u("team"),className:"d-flex align-items-center cursor-pointer",onClick:function(){return d("team")},action:!0,children:[Object(x.jsx)("span",{className:"bullet bullet-sm bullet-primary me-1"}),Object(x.jsx)("span",{className:"align-middle text-primary",children:"Team"})]}),Object(x.jsxs)(m.P,{active:u("self"),className:"d-flex align-items-center cursor-pointer",onClick:function(){return d("self")},action:!0,children:[Object(x.jsx)("span",{className:"bullet bullet-sm bullet-success me-1"}),Object(x.jsx)("span",{className:"align-middle text-success",children:"Self"})]})]})]})]})})})})},C=a(41),S=a(2),E=a(5),I=a(747),w=a.n(I),R=a(770),D=a(387),L=a(253),A=a(15),F=a(184),B=a(742),M=a(766),P=a(763),U=a.n(P),G=a(216),H=a(55),Y=a(6),z=(a(760),a(737),a(481),a(185)),K=a.n(z),Z=a(186),q=["data"],_=a.n(Z)()(K.a),Q=Object(f.d)(),V=function(e){var t=e.children,a=e.store,n=e.handleTaskSidebar,s=e.setDeleted,c=e.deleted,r=(e.important,e.setImportant,e.deleteTask),i=e.dispatch;return Object(x.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between mb-1",children:[Object(x.jsx)("h5",{className:"modal-title",children:t}),Object(x.jsxs)("div",{className:"todo-item-action d-flex align-items-center",children:[a&&!Object(H.d)(a.selectedTask)?Object(x.jsx)(D.a,{className:"cursor-pointer mt-25",size:16,onClick:function(){return _.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(E.a)(Object(S.a)().mark((function e(t){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=4;break}return e.next=3,s(!c),i(r({id:a.selectedTask.id,updatedBy:Q})),void n();case 3:_.fire({icon:"success",title:"Deleted",text:"To Do has been Deleted",customClass:{confirmButton:"btn btn-success"}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}):null,!1,Object(x.jsx)(L.a,{className:"fw-normal ms-50 mt-25",size:16,onClick:n})]})]})},J=function(e){var t=e.open,a=e.handleTaskSidebar,c=e.store,r=e.dispatch,l=e.updateTask,d=e.selectTask,u=e.addTask,j=e.deleteTask,h=Object(s.useState)([]),b=Object(n.a)(h,2),O=b[0],f=b[1],p=Object(s.useState)(null),v=Object(n.a)(p,2),N=v[0],y=v[1],T=Object(s.useState)(""),k=Object(n.a)(T,2),I=k[0],D=k[1],L=Object(s.useState)(M.EditorState.createEmpty()),P=Object(n.a)(L,2),z=P[0],K=P[1],Z=Object(s.useState)(""),_=Object(n.a)(Z,2),J=_[0],W=_[1],$=Object(s.useState)(!1),X=Object(n.a)($,2),ee=X[0],te=X[1],ae=Object(s.useState)(!1),ne=Object(n.a)(ae,2),se=ne[0],ce=ne[1],re=Object(s.useState)(!1),ie=Object(n.a)(re,2),le=ie[0],oe=ie[1],de=Object(s.useState)(new Date),ue=Object(n.a)(de,2),je=ue[0],he=ue[1],be=Object(B.f)({defaultValues:{title:"",dueDate:"",description:"",assignee:[]}}),Oe=be.control,fe=be.setError,me=be.setValue,pe=be.clearErrors,ge=be.handleSubmit,xe=be.formState.errors,ve=Object(s.useState)([]),Ne=Object(n.a)(ve,2),ye=Ne[0],Te=Ne[1],ke=[{value:"team",label:"Team"},{value:"self",label:"Self"}],Ce=function(){var e=Object(E.a)(Object(S.a)().mark((function e(){return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.a.post("/organizationusers/dropdown").then((function(e){var t=e.data;Te(t.organizationusers)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(E.a)(Object(S.a)().mark((function e(){var t;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),t={updatedBy:Q,status:2,id:c.selectedTask.id},e.next=4,r(Object(G.g)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){D(null),K(""),me("title",""),f([]),y(null),te(!1),ce(!1),he(new Date),r(d({})),pe()};Object(s.useEffect)((function(){Ce()}),[]);return Object(x.jsx)(m.Q,{isOpen:t,toggle:a,className:"sidebar-lg",contentClassName:"p-0",onOpened:function(){var e=(c||{}).selectedTask;if(!Object(H.d)(e)){me("title",e.title),f(e.assigneeid),y(ye.filter((function(t){return e.assigneeid.includes(t.id)}))),he(g()(e.dueDate,"x").format("MMM DD, Y"));var t=M.EditorState.createWithContent(M.ContentState.createFromBlockArray(Object(M.convertFromHTML)(e.description)));te("2"===e.status),D(ke.find((function(t){return t.value===e.tags}))),K(t),W(e.description)}},onClosed:Ee,modalClassName:"modal-slide-in sidebar-todo-modal",children:Object(x.jsxs)(m.H,{id:"form-modal-todo",className:"todo-modal",onSubmit:ge((function(e){var t,n={dueDate:g()(je).valueOf(),title:e.title,createdBy:Q,updatedBy:Q,tags:null!==(t=null===I||void 0===I?void 0:I.value)&&void 0!==t?t:O.length>1?"team":"self",description:J.replace("/\r?\n|\r/g",""),isCompleted:ee,isDeleted:le,isImportant:se,assignee:O};e.title.length?Object(H.d)(xe)&&(Object(H.d)(c.selectedTask)||!Object(H.d)(c.selectedTask)&&!c.selectedTask.title.length?r(u(n)):r(l(Object(i.a)(Object(i.a)({},n),{},{id:c.selectedTask.id}))),a(),Ee()):fe("title",{type:"manual"})})),children:[Object(x.jsx)(V,{store:c,deleted:le,dispatch:r,important:se,deleteTask:j,setDeleted:oe,setImportant:ce,handleTaskSidebar:a,children:c&&!Object(H.d)(c.selectedTask)?ee?Object(x.jsx)(m.i,{outline:!0,size:"sm",color:"success",onClick:function(e){return e.preventDefault()},children:" Completed "}):Object(x.jsx)(m.i,{outline:!0,size:"sm",onClick:function(){return Se()},color:"secondary",children:" Mark Completed "}):"Add To-Do"}),Object(x.jsxs)(m.R,{className:"flex-grow-1 pb-sm-0 pb-3",children:[Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(m.N,{className:"form-label",for:"task-title",children:["Title ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(B.a,{name:"title",control:Oe,render:function(e){var t=e.field;return Object(x.jsx)(m.K,Object(i.a)({id:"task-title",placeholder:"Title",className:"new-todo-item-title",invalid:xe.title&&!0},t))}}),xe.title&&Object(x.jsx)(m.I,{children:"Please enter a valid task title"})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)(m.N,{className:"form-label required",for:"task-assignee",children:"Assignee"}),Object(x.jsx)(F.a,{id:"task-assignee",isMulti:!0,className:"react-select",classNamePrefix:"select",isClearable:!1,options:ye,theme:H.g,value:N,onChange:function(e){var t=Array.isArray(e)?e.map((function(e){return e.id})):[];t.push(Q),f(t),y(e)},components:{Option:function(e){var t,a=e.data,n=Object(C.a)(e,q);return Object(x.jsx)(A.q.Option,Object(i.a)(Object(i.a)({},n),{},{children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsx)(o.a,{color:"light-primary",initials:!0,content:null===(t=a.name)||void 0===t?void 0:t.charAt(0),className:"d-block rounded-circle me-50",height:"22",width:"22"}),Object(x.jsx)("p",{className:"mb-0",children:a.name})]})}))}},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)(m.N,{className:"form-label required",for:"due-date",children:"Due Date"}),Object(x.jsx)(w.a,{id:"due-date",name:"due-date",className:"form-control",onChange:function(e,t){he(t),me("dueDate",t)},options:{altInput:!0,altFormat:"M j, Y",dateFormat:"M j, Y"},value:je}),xe.dueDate&&Object(x.jsx)(m.I,{children:"Please enter a valid Date"})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)(m.N,{for:"task-desc",className:"form-label required",children:"Description"}),Object(x.jsx)(R.Editor,{editorState:z,wrapperClassName:"toolbar-bottom",toolbar:{options:["inline","textAlign"],inline:{inDropdown:!1,options:["bold","italic","underline"]}},onEditorStateChange:function(e){W(U()(Object(M.convertToRaw)(e.getCurrentContent()))),K(e)}})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)(m.N,{className:"form-label required",for:"task-tags",children:"Tags"}),Object(x.jsx)(F.a,{id:"task-tags",className:"react-select",classNamePrefix:"select",isClearable:!1,options:ke,theme:H.g,value:I,onChange:function(e){D(e)}})]}),Object(x.jsx)("div",{children:c&&!Object(H.d)(c.selectedTask)?Object(x.jsxs)(s.Fragment,{children:[Object(x.jsx)(m.i,{color:"primary",className:"update-btn update-todo-item me-1",children:"Update"}),Object(x.jsx)(m.i,{color:"secondary",onClick:a,outline:!0,children:"Cancel"})]}):Object(x.jsxs)(s.Fragment,{children:[Object(x.jsx)(m.i,{color:"primary",className:"add-todo-item me-1",children:"Add"}),Object(x.jsx)(m.i,{color:"secondary",onClick:a,outline:!0,children:"Cancel"})]})})]})]})})},W=a(21),$=(a(1076),Object(f.d)());t.default=function(){var e=Object(s.useState)(""),t=Object(n.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)(""),l=Object(n.a)(i,2),o=l[0],d=l[1],u=Object(s.useState)(!1),j=Object(n.a)(u,2),h=j[0],b=j[1],O=Object(s.useState)(!1),f=Object(n.a)(O,2),m=f[0],p=f[1],g=Object(W.b)(),v=Object(W.c)((function(e){return e.todo})),y=function(){return b(!h)},T=function(){return p(!m)},C=Object(s.useState)({userId:$,tag:"",status:1,sort:""}),S=Object(n.a)(C,2),E=S[0],I=S[1];return Object(s.useEffect)((function(){g(Object(G.d)(E))}),[]),Object(s.useEffect)((function(){I(v.params)}),[v.params]),Object(x.jsxs)(s.Fragment,{children:[Object(x.jsx)(k,{store:v,params:E,getTasks:G.d,dispatch:g,mainSidebar:h,setMainSidebar:b,handleTaskSidebar:T}),Object(x.jsx)("div",{className:"content-right",children:Object(x.jsx)("div",{className:"content-wrapper",children:Object(x.jsxs)("div",{className:"content-body",children:[Object(x.jsx)("div",{className:r()("body-content-overlay",{show:!0===h}),onClick:y}),v?Object(x.jsx)(N,{store:v,tasks:v.tasks,sort:a,query:o,params:E,setSort:c,setQuery:d,dispatch:g,getTasks:G.d,updateTask:G.h,selectTask:G.f,reOrderTasks:G.e,handleMainSidebar:y,handleTaskSidebar:T}):null,Object(x.jsx)(J,{store:v,params:E,addTask:G.a,dispatch:g,open:m,updateTask:G.h,selectTask:G.f,deleteTask:G.c,handleTaskSidebar:T})]})})})]})}},737:function(e,t,a){},760:function(e,t,a){},763:function(e,t,a){e.exports=function(){"use strict";function e(e,t){if(e)for(var a in e)({}).hasOwnProperty.call(e,a)&&t(a,e[a])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}var a={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function n(e){return e&&a[e]}function s(t){var a="";return e(t,(function(e,t){t&&(a+="".concat(e,":").concat(t,";"))})),a}function c(e,t){var a=[];if(t)for(var n=0,s=0,c=e,r=t.trigger||"#",i=t.separator||" ";c.length>0&&s>=0;)if(c[0]===r?(s=0,n=0,c=c.substr(r.length)):(s=c.indexOf(i+r))>=0&&(c=c.substr(s+(i+r).length),n+=s+i.length),s>=0){var l=c.indexOf(i)>=0?c.indexOf(i):c.length,o=c.substr(0,l);o&&o.length>0&&a.push({offset:n,length:o.length+r.length,type:"HASHTAG"}),n+=r.length}return a}function r(e,t){var a=[],n=0,s=e.entityRanges.map((function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}}));return(s=(s=s.concat(c(e.text,t))).sort((function(e,t){return e.offset-t.offset}))).forEach((function(e){e.offset>n&&a.push({start:n,end:e.offset}),a.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),n=e.offset+e.length})),n<e.text.length&&a.push({start:n,end:e.text.length}),a}function i(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function l(e){var t=e.text,a=e.inlineStyleRanges,n={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return a&&a.length>0&&a.forEach((function(e){for(var t=e.offset,a=t+e.length,s=t;s<a;s+=1)0===e.style.indexOf("color-")?n.COLOR[s]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?n.BGCOLOR[s]=e.style.substring(8):0===e.style.indexOf("fontsize-")?n.FONTSIZE[s]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?n.FONTFAMILY[s]=e.style.substring(11):n[e.style]&&(n[e.style][s]=!0)})),n}function o(e,t){var a={};return e.COLOR[t]&&(a.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(a.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(a.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(a.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(a.UNDERLINE=!0),e.ITALIC[t]&&(a.ITALIC=!0),e.BOLD[t]&&(a.BOLD=!0),e.STRIKETHROUGH[t]&&(a.STRIKETHROUGH=!0),e.CODE[t]&&(a.CODE=!0),e.SUBSCRIPT[t]&&(a.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(a.SUPERSCRIPT=!0),a}function d(e,t,a){var n=!0;return a>0&&a<e.length?t.forEach((function(t){n=n&&e[t][a]===e[t][a-1]})):n=!1,n}function u(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function j(e){return e&&e.length>0?e.map((function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}})).join(""):""}function h(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var a='style="';return e.COLOR&&(a+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(a+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(a+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(a+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(a+='"',">").concat(t,"</span>")}return t}function b(e,t,a,n){var s=e[t];if("function"===typeof n){var c=n(s,a);if(c)return c}if("MENTION"===s.type)return'<a href="'.concat(s.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(s.data.value,'">').concat(a,"</a>");if("LINK"===s.type){var r=s.data.targetOption||"_self";return'<a href="'.concat(s.data.url,'" target="').concat(r,'">').concat(a,"</a>")}if("IMAGE"===s.type){var i=s.data.alignment;return i&&i.length?'<div style="text-align:'.concat(i,';"><img src="').concat(s.data.src,'" alt="').concat(s.data.alt,'" style="height: ').concat(s.data.height,";width: ").concat(s.data.width,'"/></div>'):'<img src="'.concat(s.data.src,'" alt="').concat(s.data.alt,'" style="height: ').concat(s.data.height,";width: ").concat(s.data.width,'"/>')}return"EMBEDDED_LINK"===s.type?'<iframe width="'.concat(s.data.width,'" height="').concat(s.data.height,'" src="').concat(s.data.src,'" frameBorder="0"></iframe>'):a}function O(e,t,a,n){var s=[],c=Array.from(e.text);if(c.length>0)for(var r,i=l(e),u=a;u<n;u+=1)u!==a&&d(i,t,u)?(r.text.push(c[u]),r.end=u+1):(r={styles:o(i,u),text:[c[u]],start:u,end:u+1},s.push(r));return s}function f(e){if(e){for(var t=e,a=0;a<t.length&&" "===e[a];a+=1)t=t.replace(" ","&nbsp;");return t}return e}function m(e){if(e){for(var t=e,a=t.length-1;a>=0&&" "===t[a];a-=1)t="".concat(t.substring(0,a),"&nbsp;").concat(t.substring(a+1));return t}return e}function p(t){var a=t.styles,n=j(t.text);return e(a,(function(e,t){n=u(e,n)})),n}function g(e,t){var a=O(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),n="";return a.forEach((function(e){n+=p(e)})),n=h(t.styles,n)}function x(e,t,a,n){var s=[];O(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],a.start,a.end).forEach((function(t){s.push(g(e,t))}));var c=s.join("");return"ENTITY"===a.type?void 0!==a.entityKey&&null!==a.entityKey&&(c=b(t,a.entityKey,c,n)):"HASHTAG"===a.type&&(c='<a href="'.concat(c,'" class="wysiwyg-hashtag">').concat(c,"</a>")),c}function v(e,t,a,n){var s=[],c=r(e,a);return c.forEach((function(a,r){var i=x(e,t,a,n);0===r&&(i=f(i)),r===c.length-1&&(i=m(i)),s.push(i)})),s.join("")}function N(e,t,a,c,r){var l=[];if(i(e))l.push(b(t,e.entityRanges[0].key,void 0,r));else{var o=n(e.type);if(o){l.push("<".concat(o));var d=s(e.data);d&&l.push(' style="'.concat(d,'"')),c&&l.push(' dir = "auto"'),l.push(">"),l.push(v(e,t,a,r)),l.push("</".concat(o,">"))}}return l.push("\n"),l.join("")}function y(e){return"unordered-list-item"===e||"ordered-list-item"===e}function T(e,t,a,c,r){var i,l=[],o=[];return e.forEach((function(e){var d=!1;if(i?i.type!==e.type?(l.push("</".concat(n(i.type),">\n")),l.push("<".concat(n(e.type),">\n"))):i.depth===e.depth?o&&o.length>0&&(l.push(T(o,t,a,c,r)),o=[]):(d=!0,o.push(e)):l.push("<".concat(n(e.type),">\n")),!d){l.push("<li");var u=s(e.data);u&&l.push(' style="'.concat(u,'"')),c&&l.push(' dir = "auto"'),l.push(">"),l.push(v(e,t,a,r)),l.push("</li>\n"),i=e}})),o&&o.length>0&&l.push(T(o,t,a,c,r)),l.push("</".concat(n(i.type),">\n")),l.join("")}function k(e,t,a,n){var s=[];if(e){var c=e.blocks,r=e.entityMap;if(c&&c.length>0){var i=[];if(c.forEach((function(e){if(y(e.type))i.push(e);else{if(i.length>0){var c=T(i,r,t,n);s.push(c),i=[]}var l=N(e,r,t,a,n);s.push(l)}})),i.length>0){var l=T(i,r,t,a,n);s.push(l),i=[]}}}return s.join("")}return k}()}}]);
//# sourceMappingURL=96.96d600a6.chunk.js.map
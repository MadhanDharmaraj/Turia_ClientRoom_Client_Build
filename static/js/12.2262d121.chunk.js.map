{"version":3,"sources":["views/apps/invoice/list/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","views/apps/invoice/shared-sidebar/SidebarSendInvoice.js"],"names":["MySwal","withReactContent","Swal","paymentstatusObj","id","name","color","CustomHeader","handleFilter","value","handlePerPage","rowsPerPage","exportList","setCurrentStatus","currentStatus","className","lg","sm","htmlFor","type","onChange","md","theme","selectThemeColors","isClearable","placeholder","classNamePrefix","options","getOptionLabel","option","getOptionValue","data","e","target","caret","outline","I","a","tag","Link","to","onClick","InvoiceList","dispatch","useDispatch","store","useSelector","state","invoice","useState","block","setBlock","Loader","setValue","sendSidebarOpen","setSendSidebarOpen","sort","setSort","sortColumn","setSortColumn","selectedData","setSelectedData","currentPage","setCurrentPage","setRowsPerPage","toggleSendSidebar","renderClient","row","Math","floor","random","content","contactname","charAt","dateFormat","length","moment","format","unix","renderStatus","val","find","o","parseInt","useEffect","getData","q","page","perPage","status","handlePagination","selected","handleSort","col","exportInvoice","CustomPagination","count","Number","total","toFixed","nextLabel","breakLabel","previousLabel","pageCount","activeClassName","breakClassName","pageClassName","breakLinkClassName","nextLinkClassName","pageLinkClassName","nextClassName","previousLinkClassName","previousClassName","onPageChange","forcePage","containerClassName","dataToRender","filters","Object","keys","some","k","downloadPdf","axios","post","then","res","downloadLink","document","createElement","fileName","uniqueno","href","pdf","download","click","removeChild","catch","err","console","log","stringTrimfn","text","substr","blocking","loader","responsive","scope","style","padding","fontSize","map","index","width","icon","size","contactemail","taskinvoiceitemsservicename","invoicedate","paymentdue","totalamount","dueamount","pill","paymentstatus","end","preventDefault","fire","title","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","deleteInvoice","toggleSidebar","open","UILoader","props","children","overlayColor","Tag","classnames","backgroundColor","defaultProps","ComponentSpinner","activeOrg","activeOrganization","userData","loggedInUser","SidebarSendInvoice","colourStyles","multiValue","styles","toEmail","setToEmail","ccEmail","setCCEmail","setData","thankyouNote","setThankyouNote","userOptions","setUserOptions","clientOptions","setClientOptions","getCoatctInfo","contactid","contactinformations","getThankyouNotes","slug","test","emailtemplates","description","replace","contactperson","replaceAll","temp","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","undefined","clientid","organizationusers","ccOpen","setCCOpen","SelectComponent","Option","initials","email","toggleCC","scrollable","fade","keyboard","backdrop","container","isOpen","contentClassName","toggle","modalClassName","onSubmit","for","isMulti","components","i","toolbarClassName","wrapperClassName","editorState","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","editorClassName","toolbar","inline","inDropdown","subject","taskinvoiceId","clientName","toast","success","position","sendMail"],"mappings":"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","file":"static/js/12.2262d121.chunk.js","sourcesContent":["// ** React Imports\nimport { Link } from 'react-router-dom'\nimport { useState, useEffect, Fragment } from 'react'\nimport Avatar from '@components/avatar'\nimport Select from 'react-select'\n// ** Third Party Components\nimport { Can } from '@src/utility/context/Can.js'\nimport ReactPaginate from 'react-paginate'\nimport { Download, MoreVertical, Send, Eye, Edit, Trash, Copy, Trash2, Save, Upload } from 'react-feather'\nimport SendInvoiceSidebar from '../shared-sidebar/SidebarSendInvoice'\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Input, Row, Col, Card,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  Badge,\n  UncontrolledTooltip,\n  Table,\n  DropdownItem\n} from 'reactstrap'\n\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\n// ** Store & Actions\nimport { getData, exportInvoice, deleteInvoice } from '../store'\nimport { useDispatch, useSelector } from 'react-redux'\n\n// ** Styles\nimport '@styles/react/apps/app-invoice.scss'\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\nimport { selectThemeColors } from '@utils'\nimport moment from 'moment'\nconst MySwal = withReactContent(Swal)\n\nconst paymentstatusObj = [\n  { id: '', name: \"Select All\" },\n  { id: '4', name: \"Draft\" },\n  { id: '5', name: \"Pending\", color: 'light-danger' },\n  { id: '6', name: \"Partially Paid\", color: 'light-warning' },\n  { id: '7', name: 'Paid', color: 'light-success' },\n  { id: '11', name: 'Sent', color: 'light-secondary' }\n]\n\nconst CustomHeader = ({ handleFilter, value, handlePerPage, rowsPerPage, exportList, setCurrentStatus, currentStatus }) => {\n\n  return (\n    <div className='invoice-list-table-header w-100 py-2 px-1'>\n      <Row className='px-1'>\n        <Col lg='3' sm='12' className='d-flex align-items-center px-0 px-sm px-lg-1'>\n          <div className='d-flex align-items-center me-2'>\n            <label htmlFor='rows-per-page'>Show</label>\n            <Input\n              type='select'\n              id='rows-per-page'\n              value={rowsPerPage}\n              onChange={handlePerPage}\n              className='form-control ms-50 pe-3'\n            >\n              <option value='10'>10</option>\n              <option value='25'>25</option>\n              <option value='50'>50</option>\n            </Input>\n          </div>          \n        </Col>\n\n        <Col\n          lg='9' sm='12'\n          className='d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1'\n        >\n          <Col md='3' sm='12' className='ms-0 m-l-50 me-50'>\n            <Select\n              theme={selectThemeColors}\n              isClearable={false}\n              className='react-select'\n              placeholder={'Select Status'}\n              classNamePrefix='select'\n              options={paymentstatusObj}\n              value={currentStatus}\n              getOptionLabel={(option) => option.name}\n              getOptionValue={(option) => option.id}\n              onChange={async data => {\n                setCurrentStatus(data)\n              }}\n            />\n          </Col>\n         \n          <div className='d-flex align-items-center mt-50 mt-lg-0 m me-50 me-lg-0'>\n            <Input\n              id='search-invoice'\n              className='ms-0 m-lg-50 me-lg-2 me-0'\n              type='text'\n              value={value}\n              onChange={e => handleFilter(e.target.value)}\n              placeholder='Search Invoice'\n            />\n          </div>\n          <Col className='d-flex flex-lg-nowrap align-items-center justify-content-start justify-content-lg-end flex-wrap mt-50 mt-lg-0 col-12 col-md-3 col-lg-3'>\n         \n          <UncontrolledDropdown className='ms-1'>\n            <DropdownToggle color='secondary' caret outline>\n              <MoreVertical className='font-small-4 me-50' />\n            </DropdownToggle>\n            <DropdownMenu>\n              <Can I={'import'} a={'invoice'}>\n                <DropdownItem tag={Link} to={`/import/invoice`} >\n                  <Upload className='font-small-4 me-50' />\n                  <span className='align-middle'>Import</span>\n                </DropdownItem>\n              </Can>\n              <Can I={'export'} a={'invoice'}>\n                <DropdownItem onClick={() => { exportList() }} >\n                  <Download className='font-small-4 me-50' />\n                  <span className='align-middle'>Export</span>\n                </DropdownItem>\n              </Can>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n        </Col>\n      </Col>\n    </Row>\n    </div >\n  )\n}\n\nconst InvoiceList = () => {\n  // ** Store vars\n\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.invoice)\n  const [block, setBlock] = useState(false)\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n\n  // ** States\n  const [value, setValue] = useState('')\n  const [sendSidebarOpen, setSendSidebarOpen] = useState(false)\n  const [sort, setSort] = useState('desc')\n  const [sortColumn, setSortColumn] = useState('createdon')\n  const [selectedData, setSelectedData] = useState({})\n  const [currentPage, setCurrentPage] = useState(1)\n  const [rowsPerPage, setRowsPerPage] = useState(50)\n  const [currentStatus, setCurrentStatus] = useState({ id: '', name: 'Select Status' })\n\n  const toggleSendSidebar = () => setSendSidebarOpen(!sendSidebarOpen)\n    \n  // ** renders client column\n  const renderClient = row => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={row.contactname !== null ? row.contactname?.charAt(0) : ''} />\n\n  }\n\n  const dateFormat = (value) => {\n    if (!value) return ''\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const renderStatus = (val) => {\n    const obj = paymentstatusObj.find((o) => parseInt(o.id) === parseInt(val))\n    return obj\n  }\n  const deleteInvoicefun = (id) => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(deleteInvoice(id))\n        MySwal.fire({\n          icon: 'success',\n          title: 'Deleted!',\n          text: 'Invoice has been deleted.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n      }\n    })\n  }\n\n  useEffect(async () => {\n    setBlock(true)\n    await dispatch(\n      getData({\n        sort,\n        q: value,\n        sortColumn,\n        page: currentPage,\n        perPage: rowsPerPage,\n        status: currentStatus.id\n      })\n    )\n    setBlock(false)\n  }, [dispatch, currentStatus])\n\n  const handleFilter = async val => {\n    setValue(val)\n    setBlock(true)\n    await dispatch(\n      getData({\n        sort,\n        q: val,\n        sortColumn,\n        page: currentPage,\n        perPage: rowsPerPage,\n        status: currentStatus.id\n      })\n    )\n    setBlock(false)\n  }\n\n  const handlePerPage = async e => {\n    setBlock(true)\n    await dispatch(\n      getData({\n        sort,\n        q: value,\n        sortColumn,\n        page: currentPage,\n        status: currentStatus.id,\n        perPage: parseInt(e.target.value)\n      })\n    )\n    setRowsPerPage(parseInt(e.target.value))\n    setBlock(false)\n  }\n\n  const handlePagination = async page => {\n    setBlock(true)\n    await dispatch(\n      getData({\n        sort,\n        q: value,\n        sortColumn,\n        status: currentStatus.id,\n        perPage: rowsPerPage,\n        page: page.selected + 1\n      })\n    )\n    setCurrentPage(page.selected + 1)\n    setBlock(false)\n  }\n\n  const handleSort = async col => {\n\n    setBlock(true)\n    await dispatch(\n      getData({\n        sort,\n        sortColumn: col,\n        q: value,\n        status: currentStatus.id,\n        perPage: rowsPerPage,\n        page: currentPage      \n      })\n    )\n    setSort(sort === 'asc' ? 'desc' : 'asc')\n    setSortColumn(col)\n    setBlock(false)\n  }\n\n  const exportList = async () => {\n    setBlock(true)\n    await dispatch(\n      exportInvoice({\n        sort,\n        sortColumn,\n        q: value,\n        status: currentStatus.id        \n      })\n    )\n    setBlock(false)\n  }\n\n  const CustomPagination = () => {\n    const count = Number((store.total / rowsPerPage).toFixed(0))\n\n    return (\n      <ReactPaginate\n        nextLabel=''\n        breakLabel='...'\n        previousLabel=''\n        pageCount={count || 1}\n        activeClassName='active'\n        breakClassName='page-item'\n        pageClassName={'page-item'}\n        breakLinkClassName='page-link'\n        nextLinkClassName={'page-link'}\n        pageLinkClassName={'page-link'}\n        nextClassName={'page-item next'}\n        previousLinkClassName={'page-link'}\n        previousClassName={'page-item prev'}\n        onPageChange={page => handlePagination(page)}\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\n        containerClassName={'pagination react-paginate justify-content-end p-1'}\n      />\n    )\n  }\n\n  const dataToRender = () => {\n    const filters = {\n      q: value,\n      status: currentStatus.id\n    }\n\n    const isFiltered = Object.keys(filters).some(function (k) {\n      return filters[k].length > 0\n    })\n\n    if (store.data.length > 0) {\n      return store.data\n    } else if (store.data.length === 0 && isFiltered) {\n      return []\n    } else {\n      return []\n    }\n  }\n\n  useEffect(() => {\n    dataToRender()\n  }, [store.data])\n\n  const downloadPdf = async (row) => {\n    setBlock(true)\n    axios.post('/pdfmaker/pdf', { id: row.id })\n      .then((res) => {\n        const downloadLink = document.createElement(\"a\")\n        const fileName = `${row.uniqueno}.pdf`\n        downloadLink.href = res.data.pdf\n        downloadLink.download = fileName\n        downloadLink.click()\n        document.removeChild(downloadLink)\n        setBlock(false)\n      })\n      .catch((err) => {\n        console.log(err)\n        setBlock(false)\n      })\n  }\n\n  const stringTrimfn = (text) => {\n    return text.length >= 20 ? `${text.substr(0, 20)}...` : text\n  }\n\n  return (\n    <div className='invoice-list-wrapper'>\n      <UILoader blocking={block} loader={<Loader />}>\n        <Card>\n          <div className='invoice-list-dataTable react-dataTable'>\n            <CustomHeader handlePerPage={handlePerPage} exportList={exportList} handleFilter={handleFilter} setCurrentStatus={setCurrentStatus} currentStatus={currentStatus} />\n            <Table responsive className='table-hover'>\n              <thead>\n                <tr>                  \n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 7px', fontSize: '13px' }}>ID</th>\n                  <th>\n                    DRAFT / INVOICE\n                  </th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 8px', fontSize: '13px' }}>Customer</th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 8px', fontSize: '13px' }}>Service</th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 8px', fontSize: '13px' }} onClick={() => { handleSort('invoicedate') }}>Invoice Date</th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }} onClick={() => { handleSort('paymentdue') }}>Due Date</th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>Total</th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>Balance</th>\n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>Payment Status</th>                \n                  <th scope='col' className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>Action</th>\n                </tr>\n              </thead>\n              <tbody>\n                {dataToRender().map((row, index) => {\n                  return (\n                    <tr key={index}>                     \n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}><Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}>\n                        <span className='text-body'>{`${row.uniqueno}`}</span></Link></td>\n                      <td className='text-nowrap' style={{ width: '40px' }}>\n                        <Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}>\n                          <UncontrolledTooltip target={`row${row.id}`}>{row.status === 4 ? 'Draft' : 'Invoice'}</UncontrolledTooltip>\n                          <Avatar id={`row${row.id}`} color={row.status === 4 ? 'light-primary' : 'light-warning'} icon={row.status === 4 ? <Save size={14} /> : <Send size={14} />} className='me-2' />\n                        </Link>\n                      </td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>{\n                        <Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}>\n                          <div className='d-flex' style={{ padding: \"0.2574rem 0rem\" }}>\n                            {renderClient(row)}\n                            <div className='d-flex flex-column text-overflow-ellipsis'>\n                              <h6 className='user-name text-truncate mb-0'>{stringTrimfn(row.contactname || '')}</h6>\n                              <small className='text-truncate text-muted mb-0'>{stringTrimfn(row.contactemail || '')}</small>\n                            </div>\n                          </div>\n                        </Link>\n                      }</td>\n                      <td className='text-nowrap' style={{ padding: '8px 0px', fontSize: '13px' }}><Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}>\n                        <span className='text-body text-truncate' style={{ padding: \"0.2574rem 0rem\" }}>{stringTrimfn(row.taskinvoiceitemsservicename || '')}\n                        </span></Link></td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}><Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}>\n                        <span className='text-body'>{dateFormat(row.invoicedate)}</span></Link></td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}><Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}>\n                        <span className='text-body'>{dateFormat(row.paymentdue)}</span></Link></td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}><Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`}><span className='text-body'>{row.totalamount || 0}</span>\n                      </Link></td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>\n                        {row.dueamount !== '0' ? (\n                          <span>{row.dueamount}</span>\n                        ) : (\n                          <Badge color='light-success' pill>\n                            Paid\n                          </Badge>\n                        )}\n                      </td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>\n                        {row.status === 4 &&\n                          <Badge color={'light-primary'}>Draft</Badge>\n                        }{row.status !== 4 &&\n                          <Badge color={renderStatus(row.paymentstatus)?.color || 'light-primary'}>{renderStatus(row.paymentstatus).name || row.paymentstatus}</Badge>\n                        }\n                      </td>\n                      <td className='text-nowrap' style={{ padding: '8px 5px', fontSize: '13px' }}>\n                        <div className='column-action d-flex align-items-center'>\n\n                          <Can I={'read'} a={'invoice'}><Send size={17} onClick={() => { toggleSendSidebar(); setSelectedData(row) }} /></Can>\n\n                          <Can I={'read'} a={'invoice'}> <Link to={`/${row.status === 4 ? \"proposal\" : \"invoice\"}/view/${row.id}`} id={`pw-tooltip-${row.id}`}>\n                            <Eye size={17} className='mx-1' />\n                          </Link></Can>                         \n                          <UncontrolledDropdown>\n                            <DropdownToggle tag='span'>\n                              <MoreVertical size={17} className='cursor-pointer' />\n                            </DropdownToggle>\n                            <DropdownMenu end>\n                              <Can I={'export'} a={'invoice'}>\n                                <DropdownItem tag='a' href='/' className='w-100' onClick={e => { e.preventDefault(); downloadPdf(row) }}>\n                                  <Download size={14} className='me-50' />\n                                  <span className='align-middle'>Download</span>\n                                </DropdownItem>\n                              </Can>\n                              <Can I={'write'} a={'invoice'}>\n                                <DropdownItem tag={Link} to={`/invoice/edit/${row.id}`} className='w-100'>\n                                  <Edit size={14} className='me-50' />\n                                  <span className='align-middle'>Edit</span>\n                                </DropdownItem>\n                              </Can>\n                              <Can I={'delete'} a={'invoice'}>\n                                <DropdownItem\n                                  tag='a'\n                                  href='/'\n                                  className='w-100'\n                                  onClick={e => {\n                                    e.preventDefault()\n                                    deleteInvoicefun(row.id)\n                                  }}\n                                >\n                                  <Trash size={14} className='me-50' />\n                                  <span className='align-middle'>Delete</span>\n                                </DropdownItem>\n                              </Can>\n                              <Can I={'write'} a={'invoice'}>\n                                <DropdownItem tag='a' href={`/invoice/clone/${row.id}`} className='w-100' >\n                                  <Copy size={14} className='me-50' />\n                                  <span className='align-middle'>Duplicate</span>\n                                </DropdownItem>\n                              </Can>\n                            </DropdownMenu>\n                          </UncontrolledDropdown>\n                        </div>\n                      </td>\n                    </tr>\n                  )\n                })\n                }\n              </tbody>\n            </Table>\n            <CustomPagination />\n          </div>\n          {sendSidebarOpen &&\n            <SendInvoiceSidebar toggleSidebar={toggleSendSidebar} open={sendSidebarOpen} invoice={selectedData} />\n          }\n        </Card>\n      </UILoader>\n    </div>\n  )\n}\n\nexport default InvoiceList\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","// ** React Imports\nimport { useState, useEffect, Fragment } from 'react'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Third Party Components\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html'\nimport { EditorState, ContentState, convertFromHTML, convertToRaw } from 'draft-js'\nimport Select, { components } from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n\nimport { Minus, X, Maximize2, Paperclip, MoreVertical, Trash, File } from 'react-feather'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Form,\n  Label,\n  Input,\n  Modal,\n  Button,\n  ModalBody\n} from 'reactstrap'\n\n// ** Utils\nimport { selectThemeColors } from '@utils'\nimport moment from 'moment'\n// ** User Avatars\nimport { activeOrganization, loggedInUser } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nconst userData = loggedInUser()\n// ** Styles\nimport '@styles/react/libs/editor/editor.scss'\nimport '@styles/react/libs/react-select/_react-select.scss'\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\nimport toast from 'react-hot-toast'\nconst SidebarSendInvoice = props => {\n\n  const colourStyles = {\n    multiValue: (styles, { }) => {\n\n      return {\n        ...styles,\n        backgroundColor: '#7367f0'\n      }\n    }\n  }\n\n  const [block, setBlock] = useState(false)\n\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n  const [toEmail, setToEmail] = useState([])\n  const [ccEmail, setCCEmail] = useState([])\n  const [data, setData] = useState('')\n  const { open, toggleSidebar, invoice } = props\n  const [thankyouNote, setThankyouNote] = useState('')\n  const [userOptions, setUserOptions] = useState([])\n  const [clientOptions, setClientOptions] = useState([])\n\n  const getOrganizationUsers = () => {\n    axios.post('/organizationusers/dropdown').then((res) => {\n      setUserOptions(res.data.organizationusers)\n    }).catch(() => { })\n  }\n\n  const getCoatctInfo = (id) => {\n    axios.post('contactinformations/list', { contactid: id }).then((res) => {\n      setClientOptions(res.data.contactinformations)\n    }).catch(() => { })\n\n  }\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const getThankyouNotes = () => {\n    axios.post('/emailtemplates/get', { slug: 'invoice-send-mail' }).then((res) => {\n      const mailSub = res.data.emailtemplates.description\n      const test = mailSub.replace('{invoice_date}', dateFormat(invoice.paymentdue)).replace('{service}', invoice.taskinvoiceitemsservicename).replace('recipient_name', invoice.contactperson).replace('{recipient_name}', invoice.contactperson).replace('{invoice_no}', invoice.uniqueno).replace('{amount}', invoice.totalamount).replace('{invoice_amount}', invoice.totalamount).replace('{your_name}', userData.name).replaceAll('{firm_name}', activeOrg.name).replace('{', '').replace('}', '')\n\n      const temp = EditorState.createWithContent(\n        ContentState.createFromBlockArray(\n          convertFromHTML(test)\n        )\n      )\n      setData(temp)\n      setThankyouNote(test)\n\n    }).catch(() => { })\n  }\n\n  const handleChange = (editorState) => {\n    setData(editorState)\n    setThankyouNote(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n\n  useEffect(() => {\n    if (invoice.clientid !== undefined) {\n      getCoatctInfo(invoice.clientid)\n    }\n    if (invoice.contactid !== undefined) {\n      getCoatctInfo(invoice.contactid)\n    }\n    if (Object.keys(invoice).length > 0) {\n      getOrganizationUsers()\n      getThankyouNotes()\n    }\n  }, [invoice])\n\n  const sendMail = () => {\n    setBlock(true)\n    const subject = `${invoice.uniqueno} Invoices Acknowledgement Mail`\n    axios.post('/google/sendGmail', { content: thankyouNote, subject, toEmail, ccEmail, taskinvoiceId: invoice.id, clientName: invoice.contactname })\n      .then(() => {\n        toggleSidebar(false)\n        setBlock(false)\n        toast.success('Email send Successfully', { position: 'bottom-right' })\n      })\n    console.log(() => { })\n  }\n\n\n  // ** States\n  const [ccOpen, setCCOpen] = useState(false)\n\n  const SelectComponent = ({ data, ...props }) => {\n    return (\n      <components.Option {...props}>\n        <div className='d-flex flex-wrap align-items-center'>\n          <Avatar className='my-0 me-50' size='sm' initials content={data.name?.charAt(0)} />\n          {data.name} - {data.email}\n        </div>\n      </components.Option>\n    )\n  }\n\n  // ** CC Toggle Function\n  const toggleCC = e => {\n    e.preventDefault()\n    setCCOpen(!ccOpen)\n  }\n\n  // ** Toggles Compose POPUP\n  const togglePopUp = e => {\n    e.preventDefault()\n    toggleSidebar()\n  }\n\n  return (\n\n    <div className='email-application'>\n      <div className='content-area-wrapper'>\n        <div className='col-md-12'>\n          <div className='content-body'>\n            <Modal\n              scrollable\n              fade={false}\n              keyboard={false}\n              backdrop={false}\n              id='compose-mail'\n              container='.content-body'\n              className='modal-lg'\n              isOpen={open}\n              contentClassName='p-0'\n              toggle={toggleSidebar}\n              modalClassName='modal-sticky'\n            >\n              <UILoader blocking={block} loader={<Loader />}>\n                <div className='modal-header'>\n                  <h5 className='modal-title'>Compose Mail</h5>\n                  <div className='modal-actions'>\n                    {/* <a href='/' className='text-body me-75' onClick={togglePopUp}>\n                      <Minus size={14} />\n                    </a>\n                    <a href='/' className='text-body me-75' onClick={e => e.preventDefault()}>\n                      <Maximize2 size={14} />\n                    </a> */}\n                    <a href='/' className='text-body' onClick={togglePopUp}>\n                      <X size={14} />\n                    </a>\n                  </div>\n                </div>\n                <ModalBody className='flex-grow-1 p-0'>\n                  <Form className='compose-form' onSubmit={e => e.preventDefault()}>\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-to' className='form-label'>\n                        To:\n                      </Label>\n                      <div className='flex-grow-1'>\n                        <CreatableSelect\n                          isMulti\n                          id='email-to'\n                          isClearable={false}\n                          theme={selectThemeColors}\n                          options={clientOptions}\n                          className='react-select select-borderless'\n                          classNamePrefix='select'\n                          components={{ Option: SelectComponent }}\n                          styles={colourStyles}\n                          onChange={(e) => { setToEmail(e.map(i => i.email)) }}\n                          getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                          getOptionValue={(option) => option.id}\n                        />\n                      </div>\n                      <div>\n                        <a href='/' className='toggle-cc text-body me-1' onClick={toggleCC}>\n                          Cc\n                        </a>\n                      </div>\n                    </div>\n                    {ccOpen === true ? (\n                      <div className='compose-mail-form-field cc-wrapper'>\n                        <Label for='email-cc' className='form-label'>\n                          Cc:\n                        </Label>\n                        <div className='flex-grow-1'>\n                          <Select\n                            isMulti\n                            id='email-cc'\n                            onChange={(e) => { setCCEmail(e.map(i => i.email)) }}\n                            isClearable={false}\n                            theme={selectThemeColors}\n                            options={userOptions}\n                            className='react-select select-borderless'\n                            classNamePrefix='select'\n                            components={{ Option: SelectComponent }}\n                            styles={colourStyles}\n                            getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                            getOptionValue={(option) => option.id}\n                          />\n                        </div>\n                        <div>\n                          <a href='/' className='toggle-cc text-body' onClick={toggleCC}>\n                            <X size={14} />\n                          </a>\n                        </div>\n                      </div>\n                    ) : null}\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-subject' className='form-label'>\n                        Subject:\n                      </Label>\n                      <Input id='email-subject' placeholder='Subject' />\n                    </div>\n                    <div id='message-editor'>\n                      <Editor\n                        placeholder='Message'\n                        toolbarClassName='rounded-0'\n                        wrapperClassName='toolbar-bottom'\n                        editorState={data}\n                        onEditorStateChange={handleChange}\n                        editorClassName='rounded-0 border-0'\n                        toolbar={{\n                          options: ['inline', 'textAlign'],\n                          inline: {\n                            inDropdown: false,\n                            options: ['bold', 'italic', 'underline', 'strikethrough']\n                          }\n                        }}\n                      />\n                    </div>\n                    <div className='compose-footer-wrapper'>\n                      <div className='btn-wrapper d-flex align-items-center'>\n                        <Button outline color='primary' onClick={() => { sendMail() }}>Send</Button>\n                        <div className='email-attachement rounded border p-50 ms-50'>\n                          {invoice.uniqueno}.pdf\n                        </div>\n                      </div>\n                      <div className='footer-action d-flex align-items-center'>\n                        <Trash className='cursor-pointer' size={18} onClick={toggleSidebar} />\n                      </div>\n                    </div>\n                  </Form>\n                </ModalBody>\n              </UILoader>\n            </Modal>\n          </div></div></div>\n    </div>\n\n  )\n}\n\nexport default SidebarSendInvoice\n"],"sourceRoot":""}
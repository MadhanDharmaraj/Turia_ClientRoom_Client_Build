(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[108],{1395:function(e,t,n){"use strict";n.r(t);var a=n(10),c=n(8),r=n(2),s=n(5),i=n(12),l=n(0),o=n(184),u=n(6),d=n(14),j=n(742),b=n(744),f=n(745),O=n(889),m=n(248),x=n(13),p=n(185),h=n.n(p),v=n(186),g=n.n(v),y=n(735),N=n(736),k=n(7),w=n.n(k),C=n(21),S=n(187),B=n(3),T=Object(x.b)(),E=Object(x.d)(),I=[{id:"1",name:"Paid"},{id:2,name:"Non Paid"}],P=["","Paid","Non Paid"];t.default=function(){var e,t=g()(h.a),n=Object(l.useState)([]),x=Object(i.a)(n,2),p=x[0],v=x[1],k=Object(l.useState)(null),D=Object(i.a)(k,2),L=D[0],z=D[1],A=Object(l.useState)([]),q=Object(i.a)(A,2),H=q[0],R=q[1],V=Object(l.useState)([]),F=Object(i.a)(V,2),K=F[0],W=F[1],J=Object(l.useState)(!1),Y=Object(i.a)(J,2),$=Y[0],M=Y[1],Q=Object(C.c)((function(e){return e.leavesettings})),U=Object(l.useState)(!1),G=Object(i.a)(U,2),X=G[0],Z=G[1],_=function(){return Object(B.jsx)(l.Fragment,{children:Object(B.jsx)(N.a,{})})},ee=Object(l.useState)(null),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],ce=Object(l.useState)(null),re=Object(i.a)(ce,2),se=re[0],ie=re[1],le=Object(C.b)(),oe=b.d().shape({organizationId:b.f().default(T),name:b.f().required("Please Enter Name"),daysCount:b.f().required("Please Enter Days Count"),leaveType:b.f().required("Please Select Leave Type"),status:b.c().default(1),designation:b.a().min(1,"Please Select Designation"),updatedBy:b.f().default(E),createdBy:b.f().default(E)}),ue=Object(j.f)({resolver:Object(f.a)(oe),defaultValues:oe.cast()}),de=ue.handleSubmit,je=ue.formState.errors,be=ue.control,fe=ue.setValue,Oe=ue.setError;Object(l.useEffect)((function(){M(!1)}),[]);var me=function(e){W(null!==e&&void 0!==e?e:[]);var t=Array.isArray(e)?e.map((function(e){return e.id})):[],n=t.filter((function(e,n){return 0!==e&&t.indexOf(e)===n}));fe("designation",n)},xe=function(){fe("organizationId",T),fe("name",""),fe("daysCount",""),me(),fe("id",""),fe("leaveType",""),fe("status",1)},pe=function(){M(!1),xe()},he=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),t.designation.length===H.length-1&&t.designation.pop(0),null===L){e.next=7;break}return e.next=5,le(Object(m.e)(t));case 5:e.next=9;break;case 7:return e.next=9,le(Object(m.a)(t));case 9:xe(),pe();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){Q.leaveTypeSucess&&(S.b.success("Leave Types Successfully, ".concat(null===L?"Added":"Updated"),{position:"bottom-right"}),Z(!1),z(null),xe(),pe())}),[Q.leaveTypeSucess]),Object(l.useEffect)((function(){null!==Q.leaveTypeError&&(Z(!1),Object.keys(Q.leaveTypeError).map((function(e){Oe(e,{type:"custom",message:Q.leaveTypeError[e][0]})})))}),[Q.leaveTypeError]);var ve=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)({excludeWeekend:t,excludeHolidays:n,createdBy:E,updatedBy:E,organizationId:T});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){u.a.post("/designations/dropdown").then((function(e){var t=e.data.designations;R(t)})).catch((function(){}))}),[]),Object(l.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(Object(m.d)());case 2:return e.next=4,le(Object(O.b)(T));case 4:t=e.sent,void 0!==(n=t.payload.data)&&(ae(n.excludeweekend||!1),ie(n.excludeholidays||!1));case 7:case"end":return e.stop()}}),e)}))),[]),Object(l.useEffect)((function(){v(Q.data)}),[Q.data]);var ge=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(B.jsxs)(d.B,{md:12,children:[Object(B.jsx)(d.N,{sm:"12",className:w()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(B.jsxs)(d.B,{children:[Object(B.jsx)(j.a,{id:t,name:t,control:be,render:function(e){var n=e.field;return Object(B.jsx)(d.K,Object(c.a)({invalid:je[t]&&!0},n))}}),je[t]&&Object(B.jsx)(d.I,{children:je[t].message})]})]})},ye={multiValue:function(e,t){return Object(a.a)(t),Object(c.a)(Object(c.a)({},e),{},{backgroundColor:"#7367f0"})}};return Object(B.jsxs)(l.Fragment,{children:[Object(B.jsx)(d.l,{children:Object(B.jsxs)(d.m,{className:"py-25",children:[Object(B.jsxs)(d.ib,{className:"gx-4",children:[Object(B.jsx)(d.B,{className:"d-flex align-items-center",children:Object(B.jsx)("h6",{className:"fw-bolder mb-2",children:"Leave Types"})}),Object(B.jsx)(d.B,{className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:Object(B.jsx)(d.i,{color:"primary",outline:!0,className:"ms-1",onClick:function(){M(!0)},children:"Add"})})]}),Object(B.jsxs)(d.mb,{children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Name"}),Object(B.jsx)("th",{children:"Leave Type"}),Object(B.jsx)("th",{children:"No of Day's"}),Object(B.jsx)("th",{children:"Action"})]})}),Object(B.jsx)("tbody",{children:p.map((function(e,n){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.name}),Object(B.jsx)("td",{children:P[e.leavetype]}),Object(B.jsx)("td",{children:e.dayscount}),Object(B.jsxs)("td",{children:[Object(B.jsx)(d.i,{size:"sm",outline:!0,color:"primary",className:"me-75",onClick:function(){return function(e){z(e),M(!0),fe("organizationId",T),fe("name",e.name),fe("daysCount",e.dayscount);var t=H.filter((function(t){return e.designation.includes(t.id)}));me(t),fe("id",e.id),fe("leaveType",e.leavetype),fe("status",e.status)}(e)},children:"Edit"}),!e.isPrimary&&Object(B.jsx)(d.i,{size:"sm",outline:!0,onClick:function(){var n;n=e.id,t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(s.a)(Object(r.a)().mark((function e(a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.value){e.next=7;break}return e.next=3,le(Object(m.c)(n));case 3:return t.fire({icon:"success",title:"Deleted!",text:"LeaveTypes has been deleted.",customClass:{confirmButton:"btn btn-success"}}),e.abrupt("return",!0);case 7:if(a.dismiss!==t.DismissReason.cancel){e.next=9;break}return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Delete"})]})]},n)}))})]}),Object(B.jsxs)(d.B,{lg:"12",className:"mt-2 mt-lg-0",children:[Object(B.jsx)("h6",{className:"fw-bolder",children:"Leave Settings"}),Object(B.jsxs)("div",{className:"demo-inline-spacing",children:[null!==ne&&Object(B.jsxs)("div",{className:"form-check form-switch",children:[Object(B.jsx)(d.K,{type:"switch",name:"excludeWeekend",id:"exampleCustomSwitch",defaultChecked:ne,onChange:function(){ve(!ne,se)}}),Object(B.jsx)(d.N,{for:"exampleCustomSwitch",className:"form-check-label",children:"Exclude Weekend for Leave Calculation"})]}),null!==se&&Object(B.jsxs)("div",{className:"form-check form-switch",children:[Object(B.jsx)(d.K,{type:"switch",name:"excludeHolidays",id:"exampleCustomSwitchDisabled",defaultChecked:se,onChange:function(){ve(ne,!se)}}),Object(B.jsx)(d.N,{for:"exampleCustomSwitchDisabled",className:"form-check-label",children:"Exclude Holidays for Leave Calculation"})]})]})]})]})}),Object(B.jsx)(d.Q,{isOpen:$,toggle:function(){return M(!$)},className:"modal-dialog-centered",children:Object(B.jsxs)(y.a,{blocking:X,loader:Object(B.jsx)(_,{}),children:[Object(B.jsx)(d.T,{toggle:function(){return pe()},children:"Holidays"}),Object(B.jsxs)(d.R,{children:[Object.keys(je).map((function(e){var t;return Object(B.jsxs)(d.I,{children:["$",null===(t=je[e])||void 0===t?void 0:t.message]},e)})),Object(B.jsxs)(d.B,{lg:"12",children:[Object.keys(je).map((function(e){var t;return Object(B.jsxs)(d.I,{children:["$",null===(t=je[e])||void 0===t?void 0:t.message]},e)})),Object(B.jsxs)(d.ib,{tag:d.H,className:"gx-2 gy-1",onSubmit:de(he),children:[ge("Name","name",!0),function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(B.jsxs)(d.B,{md:12,children:[Object(B.jsx)(d.N,{sm:"12",className:w()("form-label ".concat(r?"required":"")),for:t,children:e}),Object(B.jsxs)(d.B,{children:[Object(B.jsx)(j.a,{control:be,name:t,id:t,render:function(e){var a=e.field,r=e.ref;return Object(B.jsx)(o.a,Object(c.a)(Object(c.a)({inputRef:r,className:w()("react-select",{"is-invalid":je[t]})},a),{},{classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===a.value})),onChange:function(e){return a.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),je[t]&&Object(B.jsx)(d.I,{className:"text-danger",children:null===(a=je[t])||void 0===a?void 0:a.message})]})]})}("Leave Type","leaveType",I,!0),ge("No of Days","daysCount",!0),Object(B.jsxs)(d.B,{md:12,children:[Object(B.jsx)(d.N,{sm:"12",className:w()("form-label required"),for:"designation",children:"Applicable Designation"}),Object(B.jsxs)(d.B,{children:[Object(B.jsx)(j.a,{control:be,name:"designation",id:"designation",render:function(e){var t=e.field,n=e.ref;return Object(B.jsx)(o.a,Object(c.a)(Object(c.a)({inputRef:n,className:w()("react-select",{"is-invalid":je.designation})},t),{},{classNamePrefix:"select",options:H,isMulti:!0,onChange:me,value:K,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},styles:ye}))}}),je.designation&&Object(B.jsx)(d.I,{className:"text-danger",children:null===(e=je.designation)||void 0===e?void 0:e.message})]})]}),Object(B.jsxs)(d.B,{className:"mt-2 pt-1",xs:12,children:[Object(B.jsx)(d.i,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),Object(B.jsx)(d.i,{type:"button",className:"me-1",color:"warning",onClick:function(){return pe()},children:"Cancel"})]})]})]})]})]})})]})}},735:function(e,t,n){"use strict";var a=n(8),c=n(27),r=n(0),s=n(7),i=n.n(s),l=n(14),o=(n(738),n(3)),u=function(e){var t,n=e.children,s=e.blocking,l=e.loader,u=e.className,d=e.tag,j=e.overlayColor,b=d;return Object(o.jsxs)(b,{className:i()("ui-loader",(t={},Object(c.a)(t,u,u),Object(c.a)(t,"show",s),t)),children:[n,s?Object(o.jsxs)(r.Fragment,{children:[Object(o.jsx)("div",Object(a.a)({className:"overlay"},s&&j?{style:{backgroundColor:j}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=u,u.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},736:function(e,t,n){"use strict";var a=n(3);t.a=function(){return Object(a.jsx)("div",{className:"fallback-spinner",children:Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("div",{className:"effect-1 effects"}),Object(a.jsx)("div",{className:"effect-2 effects"}),Object(a.jsx)("div",{className:"effect-3 effects"})]})})}},738:function(e,t,n){},889:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o}));var a=n(10),c=n(2),r=n(5),s=n(4),i=n(6),l=Object(s.b)("appInvoiceSetting/getData",function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/organizationprefernces/get",{organizationId:t});case 2:return n=e.sent,e.abrupt("return",{data:n.data.organizationprefernces});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o=Object(s.b)("appInvoiceSetting/addOrgPreference",function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.a)(n),e.next=3,i.a.post("/organizationprefernces/createandupdate",t);case 3:return e.abrupt("return","");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());Object(s.c)({name:"appInvoiceSetting",initialState:{accounts:[],total:1,params:{},allData:[]},reducers:{},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){e.accounts=t.payload.data,e.params=t.payload.params}))}}).reducer}}]);
//# sourceMappingURL=108.0fc071ea.chunk.js.map
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[66],{1429:function(e,t,a){"use strict";a.r(t);var n=a(12),c=a(8),r=a(3),s=a(5),i=a(10),u=a(0),l=a(183),o=a(6),d=a(13),j=a(704),b=a(707),f=a(708),p=a(789),O=a(4),m=a(20),x=Object(m.d)(),v=Object(O.b)("appLeaveTypes/getLeaveTypes",function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/leavetypes/list",t);case 2:return a=e.sent,e.abrupt("return",{params:t,data:a.data.leavetypes});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(O.b)("appLeaveTypes/addLeaveTypes",function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,c=a.getState,s=a.rejectWithValue,e.prev=1,e.next=4,o.a.post("/leavetypes/create",t);case 4:return e.next=6,n(v(c().leavesettings.params));case 6:return e.abrupt("return",[]);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",s(e.t0.response));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),y=Object(O.b)("appLeaveTypes/updateLeaveTypes",function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,c=a.getState,s=a.rejectWithValue,e.prev=1,e.next=4,o.a.post("/leavetypes/update",t);case 4:return e.next=6,n(v(c().leavesettings.params));case 6:return e.abrupt("return",[]);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",s(e.t0.response));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),g=Object(O.b)("appLeaveTypes/deleteLeaveTypes",function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,c=a.getState,e.next=3,o.a.post("/leavetypes/delete",{id:t,updatedBy:x});case 3:return e.next=5,n(v(c().invoiceaccount.params));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),N=(Object(O.c)({name:"appLeaveTypes",initialState:{data:[],total:1,params:{},allData:[],leaveTypeError:null,leaveTypeSucess:!1},reducers:{},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){e.data=t.payload.data,e.params=t.payload.params,e.leaveTypeSucess=!1})).addCase(h.rejected,(function(e,t){e.leaveTypeError=t.payload.data.errors})).addCase(y.rejected,(function(e,t){e.leaveTypeError=t.payload.data.errors})).addCase(h.fulfilled,(function(e){e.leaveTypeSucess=!0})).addCase(y.fulfilled,(function(e){e.leaveTypeSucess=!0}))}}).reducer,a(184)),w=a.n(N),k=a(185),C=a.n(k),S=a(700),T=a(701),B=a(7),L=a.n(B),E=a(21),D=a(182),I=a(2),P=Object(m.b)(),z=Object(m.d)(),A=[{id:"1",name:"Paid"},{id:2,name:"Non Paid"}],V=["","Paid","Non Paid"];t.default=function(){var e,t=C()(w.a),a=Object(u.useState)([]),O=Object(i.a)(a,2),m=O[0],x=O[1],N=Object(u.useState)(null),k=Object(i.a)(N,2),B=k[0],q=k[1],R=Object(u.useState)([]),H=Object(i.a)(R,2),W=H[0],F=H[1],K=Object(u.useState)([]),J=Object(i.a)(K,2),Y=J[0],$=J[1],M=Object(u.useState)(!1),Q=Object(i.a)(M,2),U=Q[0],G=Q[1],X=Object(E.c)((function(e){return e.leavesettings})),Z=Object(u.useState)(!1),_=Object(i.a)(Z,2),ee=_[0],te=_[1],ae=function(){return Object(I.jsx)(u.Fragment,{children:Object(I.jsx)(T.a,{})})},ne=Object(u.useState)(null),ce=Object(i.a)(ne,2),re=ce[0],se=ce[1],ie=Object(u.useState)(null),ue=Object(i.a)(ie,2),le=ue[0],oe=ue[1],de=Object(E.b)(),je=b.d().shape({organizationId:b.f().default(P),name:b.f().required("Please Enter Name"),daysCount:b.f().required("Please Enter Days Count"),leaveType:b.f().required("Please Select Leave Type"),status:b.c().default(1),designation:b.a().min(1,"Please Select Designation"),updatedBy:b.f().default(z),createdBy:b.f().default(z)}),be=Object(j.f)({resolver:Object(f.a)(je),defaultValues:je.cast()}),fe=be.handleSubmit,pe=be.formState.errors,Oe=be.control,me=be.setValue,xe=be.setError;Object(u.useEffect)((function(){G(!1)}),[]);var ve=function(e){$(null!==e&&void 0!==e?e:[]);var t=Array.isArray(e)?e.map((function(e){return e.id})):[],a=t.filter((function(e,a){return 0!==e&&t.indexOf(e)===a}));me("designation",a)},he=function(){me("organizationId",P),me("name",""),me("daysCount",""),ve(),me("id",""),me("leaveType",""),me("status",1)},ye=function(){G(!1),he()},ge=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(!0),t.designation.length===W.length-1&&t.designation.pop(0),null===B){e.next=7;break}return e.next=5,de(y(t));case 5:e.next=9;break;case 7:return e.next=9,de(h(t));case 9:he(),ye();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){X.leaveTypeSucess&&(D.b.success("Leave Types Successfully, ".concat(null===B?"Added":"Updated"),{position:"bottom-right"}),te(!1),q(null),he(),ye())}),[X.leaveTypeSucess]),Object(u.useEffect)((function(){null!==X.leaveTypeError&&(te(!1),Object.keys(X.leaveTypeError).map((function(e){xe(e,{type:"custom",message:X.leaveTypeError[e][0]})})))}),[X.leaveTypeError]);var Ne=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)({excludeWeekend:t,excludeHolidays:a,createdBy:z,updatedBy:z,organizationId:P});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){o.a.post("/designations/dropdown").then((function(e){var t=e.data.designations;F(t)})).catch((function(){}))}),[]),Object(u.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){var t,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(v());case 2:return e.next=4,de(Object(p.b)(P));case 4:t=e.sent,void 0!==(a=t.payload.data)&&(se(a.excludeweekend||!1),oe(a.excludeholidays||!1));case 7:case"end":return e.stop()}}),e)}))),[]),Object(u.useEffect)((function(){x(X.data)}),[X.data]);var we=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(I.jsxs)(d.B,{md:12,children:[Object(I.jsx)(d.N,{sm:"12",className:L()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(I.jsxs)(d.B,{children:[Object(I.jsx)(j.a,{id:t,name:t,control:Oe,render:function(e){var a=e.field;return Object(I.jsx)(d.K,Object(c.a)({invalid:pe[t]&&!0},a))}}),pe[t]&&Object(I.jsx)(d.I,{children:pe[t].message})]})]})},ke={multiValue:function(e,t){return Object(n.a)(t),Object(c.a)(Object(c.a)({},e),{},{backgroundColor:"#7367f0"})}};return Object(I.jsxs)(u.Fragment,{children:[Object(I.jsx)(d.l,{children:Object(I.jsxs)(d.m,{className:"py-25",children:[Object(I.jsxs)(d.ib,{className:"gx-4",children:[Object(I.jsx)(d.B,{className:"d-flex align-items-center",children:Object(I.jsx)("h6",{className:"fw-bolder mb-2",children:"Leave Types"})}),Object(I.jsx)(d.B,{className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:Object(I.jsx)(d.i,{color:"primary",outline:!0,className:"ms-1",onClick:function(){G(!0)},children:"Add"})})]}),Object(I.jsxs)(d.mb,{children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Leave Type"}),Object(I.jsx)("th",{children:"No of Day's"}),Object(I.jsx)("th",{children:"Action"})]})}),Object(I.jsx)("tbody",{children:m.map((function(e,a){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:V[e.leavetype]}),Object(I.jsx)("td",{children:e.dayscount}),Object(I.jsxs)("td",{children:[Object(I.jsx)(d.i,{size:"sm",outline:!0,color:"primary",className:"me-75",onClick:function(){return function(e){q(e),G(!0),me("organizationId",P),me("name",e.name),me("daysCount",e.dayscount);var t=W.filter((function(t){return e.designation.includes(t.id)}));ve(t),me("id",e.id),me("leaveType",e.leavetype),me("status",e.status)}(e)},children:"Edit"}),!e.isPrimary&&Object(I.jsx)(d.i,{size:"sm",outline:!0,onClick:function(){var a;a=e.id,t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(s.a)(Object(r.a)().mark((function e(n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.value){e.next=7;break}return e.next=3,de(g(a));case 3:return t.fire({icon:"success",title:"Deleted!",text:"LeaveTypes has been deleted.",customClass:{confirmButton:"btn btn-success"}}),e.abrupt("return",!0);case 7:if(n.dismiss!==t.DismissReason.cancel){e.next=9;break}return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Delete"})]})]},a)}))})]}),Object(I.jsxs)(d.B,{lg:"12",className:"mt-2 mt-lg-0",children:[Object(I.jsx)("h6",{className:"fw-bolder",children:"Leave Settings"}),Object(I.jsxs)("div",{className:"demo-inline-spacing",children:[null!==re&&Object(I.jsxs)("div",{className:"form-check form-switch",children:[Object(I.jsx)(d.K,{type:"switch",name:"excludeWeekend",id:"exampleCustomSwitch",defaultChecked:re,onChange:function(){Ne(!re,le)}}),Object(I.jsx)(d.N,{for:"exampleCustomSwitch",className:"form-check-label",children:"Exclude Weekend for Leave Calculation"})]}),null!==le&&Object(I.jsxs)("div",{className:"form-check form-switch",children:[Object(I.jsx)(d.K,{type:"switch",name:"excludeHolidays",id:"exampleCustomSwitchDisabled",defaultChecked:le,onChange:function(){Ne(re,!le)}}),Object(I.jsx)(d.N,{for:"exampleCustomSwitchDisabled",className:"form-check-label",children:"Exclude Holidays for Leave Calculation"})]})]})]})]})}),Object(I.jsx)(d.Q,{isOpen:U,toggle:function(){return G(!U)},className:"modal-dialog-centered",children:Object(I.jsxs)(S.a,{blocking:ee,loader:Object(I.jsx)(ae,{}),children:[Object(I.jsx)(d.T,{toggle:function(){return ye()},children:"Holidays"}),Object(I.jsxs)(d.R,{children:[Object.keys(pe).map((function(e){var t;return Object(I.jsxs)(d.I,{children:["$",null===(t=pe[e])||void 0===t?void 0:t.message]},e)})),Object(I.jsxs)(d.B,{lg:"12",children:[Object.keys(pe).map((function(e){var t;return Object(I.jsxs)(d.I,{children:["$",null===(t=pe[e])||void 0===t?void 0:t.message]},e)})),Object(I.jsxs)(d.ib,{tag:d.H,className:"gx-2 gy-1",onSubmit:fe(ge),children:[we("Name","name",!0),function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(I.jsxs)(d.B,{md:12,children:[Object(I.jsx)(d.N,{sm:"12",className:L()("form-label ".concat(r?"required":"")),for:t,children:e}),Object(I.jsxs)(d.B,{children:[Object(I.jsx)(j.a,{control:Oe,name:t,id:t,render:function(e){var n=e.field,r=e.ref;return Object(I.jsx)(l.a,Object(c.a)(Object(c.a)({inputRef:r,className:L()("react-select",{"is-invalid":pe[t]})},n),{},{classNamePrefix:"select",options:a,value:a.find((function(e){return e.id===n.value})),onChange:function(e){return n.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),pe[t]&&Object(I.jsx)(d.I,{className:"text-danger",children:null===(n=pe[t])||void 0===n?void 0:n.message})]})]})}("Leave Type","leaveType",A,!0),we("No of Days","daysCount",!0),Object(I.jsxs)(d.B,{md:12,children:[Object(I.jsx)(d.N,{sm:"12",className:L()("form-label required"),for:"designation",children:"Applicable Designation"}),Object(I.jsxs)(d.B,{children:[Object(I.jsx)(j.a,{control:Oe,name:"designation",id:"designation",render:function(e){var t=e.field,a=e.ref;return Object(I.jsx)(l.a,Object(c.a)(Object(c.a)({inputRef:a,className:L()("react-select",{"is-invalid":pe.designation})},t),{},{classNamePrefix:"select",options:W,isMulti:!0,onChange:ve,value:Y,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},styles:ke}))}}),pe.designation&&Object(I.jsx)(d.I,{className:"text-danger",children:null===(e=pe.designation)||void 0===e?void 0:e.message})]})]}),Object(I.jsxs)(d.B,{className:"mt-2 pt-1",xs:12,children:[Object(I.jsx)(d.i,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),Object(I.jsx)(d.i,{type:"button",className:"me-1",color:"warning",onClick:function(){return ye()},children:"Cancel"})]})]})]})]})]})})]})}},700:function(e,t,a){"use strict";var n=a(8),c=a(24),r=a(0),s=a(7),i=a.n(s),u=a(13),l=(a(702),a(2)),o=function(e){var t,a=e.children,s=e.blocking,u=e.loader,o=e.className,d=e.tag,j=e.overlayColor,b=d;return Object(l.jsxs)(b,{className:i()("ui-loader",(t={},Object(c.a)(t,o,o),Object(c.a)(t,"show",s),t)),children:[a,s?Object(l.jsxs)(r.Fragment,{children:[Object(l.jsx)("div",Object(n.a)({className:"overlay"},s&&j?{style:{backgroundColor:j}}:{})),Object(l.jsx)("div",{className:"loader",children:u})]}):null]})};t.a=o,o.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(u.jb,{color:"primary"})}},701:function(e,t,a){"use strict";var n=a(2);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},702:function(e,t,a){},789:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return l}));var n=a(12),c=a(3),r=a(5),s=a(4),i=a(6),u=Object(s.b)("appInvoiceSetting/getData",function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/organizationprefernces/get",{organizationId:t});case 2:return a=e.sent,e.abrupt("return",{data:a.data.organizationprefernces});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=Object(s.b)("appInvoiceSetting/addOrgPreference",function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(n.a)(a),e.next=3,i.a.post("/organizationprefernces/createandupdate",t);case 3:return e.abrupt("return","");case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());Object(s.c)({name:"appInvoiceSetting",initialState:{accounts:[],total:1,params:{},allData:[]},reducers:{},extraReducers:function(e){e.addCase(u.fulfilled,(function(e,t){e.accounts=t.payload.data,e.params=t.payload.params}))}}).reducer}}]);
//# sourceMappingURL=66.31a592c0.chunk.js.map
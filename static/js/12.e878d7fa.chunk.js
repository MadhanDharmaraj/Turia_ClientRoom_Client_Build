(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[12],{1035:function(e,t,c){"use strict";c.r(t);var a=c(25),n=c(10),s=c(3),i=c(5),r=c(24),o=c(0),l=c(136),d=c(186),j=c(52),b=c(706),u=c.n(b),m=c(353),p=c(324),x=c(358),O=c(282),h=c(338),f=c(340),g=c(287),v=c(285),N=c(354),w=c(274),y=c(827),C=c(184),S=c.n(C),k=c(185),z=c.n(k),D=c(6),I=c(13),P=c(701),M=c(702),Y=c(188),E=c(16),B=(c(746),c(717),c(56)),q=c(42),L=c.n(q),A=c(2),F=z()(S.a),T=[{id:"",name:"Select All"},{id:"4",name:"Draft"},{id:"5",name:"Pending",color:"light-danger"},{id:"6",name:"Partially Paid",color:"light-warning"},{id:"7",name:"Paid",color:"light-success"},{id:"11",name:"Sent",color:"light-secondary"}],_=function(e){var t=e.handleFilter,c=e.value,a=e.handlePerPage,n=e.rowsPerPage,o=e.exportList,l=e.setCurrentStatus,b=e.currentStatus,u=e.selecteIds,h=Object(E.b)();return Object(A.jsx)("div",{className:"invoice-list-table-header w-100 py-2 px-1",children:Object(A.jsxs)(I.ib,{className:"px-1",children:[Object(A.jsxs)(I.B,{lg:"3",sm:"12",className:"d-flex align-items-center px-0 px-sm px-lg-1",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center me-2",children:[Object(A.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(A.jsxs)(I.K,{type:"select",id:"rows-per-page",value:n,onChange:a,className:"form-control ms-50 pe-3",children:[Object(A.jsx)("option",{value:"10",children:"10"}),Object(A.jsx)("option",{value:"25",children:"25"}),Object(A.jsx)("option",{value:"50",children:"50"})]})]}),u.length>0&&Object(A.jsx)(m.a,{size:16,className:"text-danger",onClick:function(){F.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=4;break}return e.next=3,h(Object(Y.f)(u));case 3:F.fire({icon:"success",title:"Deleted!",text:"Invoice has been deleted.",customClass:{confirmButton:"btn btn-success"}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})]}),Object(A.jsxs)(I.B,{lg:"9",sm:"12",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(A.jsx)(I.B,{md:"3",sm:"12",className:"ms-0 m-l-50 me-50",children:Object(A.jsx)(d.a,{theme:B.g,isClearable:!1,className:"react-select",placeholder:"Select Status",classNamePrefix:"select",options:T,value:b,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},onChange:function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),Object(A.jsx)("div",{className:"d-flex align-items-center mt-50 mt-lg-0 m me-50 me-lg-0",children:Object(A.jsx)(I.K,{id:"search-invoice",className:"ms-0 m-lg-50 me-lg-2 me-0",type:"text",value:c,onChange:function(e){return t(e.target.value)},placeholder:"Search Invoice"})}),Object(A.jsxs)(I.B,{className:"d-flex flex-lg-nowrap align-items-center justify-content-start justify-content-lg-end flex-wrap mt-50 mt-lg-0 col-12 col-md-3 col-lg-3",children:[Object(A.jsx)(j.b,{I:"write",a:"invoice",children:Object(A.jsx)(I.i,{tag:r.b,to:"/invoice/add",color:"primary",children:"Add Invoice"})}),Object(A.jsxs)(I.wb,{className:"ms-1",children:[Object(A.jsx)(I.G,{color:"secondary",caret:!0,outline:!0,children:Object(A.jsx)(p.a,{className:"font-small-4 me-50"})}),Object(A.jsxs)(I.F,{children:[Object(A.jsx)(j.b,{I:"import",a:"invoice",children:Object(A.jsxs)(I.E,{tag:r.b,to:"/import/invoice",children:[Object(A.jsx)(x.a,{className:"font-small-4 me-50"}),Object(A.jsx)("span",{className:"align-middle",children:"Import"})]})}),Object(A.jsx)(j.b,{I:"export",a:"invoice",children:Object(A.jsxs)(I.E,{onClick:function(){o()},children:[Object(A.jsx)(O.a,{className:"font-small-4 me-50"}),Object(A.jsx)("span",{className:"align-middle",children:"Export"})]})})]})]})]})]})]})})};t.default=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.invoice})),c=Object(o.useState)(!1),d=Object(n.a)(c,2),b=d[0],m=d[1],x=function(){return Object(A.jsx)(o.Fragment,{children:Object(A.jsx)(M.a,{})})},C=Object(o.useState)(""),S=Object(n.a)(C,2),k=S[0],z=S[1],B=Object(o.useState)(!1),q=Object(n.a)(B,2),V=q[0],K=q[1],G=Object(o.useState)("desc"),R=Object(n.a)(G,2),H=R[0],J=R[1],Q=Object(o.useState)("createdon"),W=Object(n.a)(Q,2),U=W[0],X=W[1],Z=Object(o.useState)({}),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ce=Object(o.useState)(1),ae=Object(n.a)(ce,2),ne=ae[0],se=ae[1],ie=Object(o.useState)(50),re=Object(n.a)(ie,2),oe=re[0],le=re[1],de=Object(o.useState)({id:"",name:"Select Status"}),je=Object(n.a)(de,2),be=je[0],ue=je[1],me=function(){return K(!V)},pe=Object(o.useState)([]),xe=Object(n.a)(pe,2),Oe=xe[0],he=xe[1],fe=function(e){var t,c=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(A.jsx)(l.a,{color:c,className:"me-50",content:null!==e.contactname?null===(t=e.contactname)||void 0===t?void 0:t.charAt(0):""})},ge=function(e){return e?13===e.length?L()(e,"x").format("MMM DD, YYYY"):L.a.unix(e).format("MMM DD, YYYY"):""},ve=function(e){return T.find((function(t){return parseInt(t.id)===parseInt(e)}))};Object(o.useEffect)(Object(i.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,e(Object(Y.j)({sort:H,q:k,sortColumn:U,page:ne,perPage:oe,status:be.id}));case 3:m(!1);case 4:case"end":return t.stop()}}),t)}))),[e,be]);var Ne=function(){var t=Object(i.a)(Object(s.a)().mark((function t(c){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z(c),m(!0),t.next=4,e(Object(Y.j)({sort:H,q:c,sortColumn:U,page:ne,perPage:oe,status:be.id}));case 4:m(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),we=function(){var t=Object(i.a)(Object(s.a)().mark((function t(c){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,e(Object(Y.j)({sort:H,q:k,sortColumn:U,page:ne,status:be.id,perPage:parseInt(c.target.value)}));case 3:le(parseInt(c.target.value)),m(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ye=function(){var t=Object(i.a)(Object(s.a)().mark((function t(c){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,e(Object(Y.j)({sort:H,q:k,sortColumn:U,status:be.id,perPage:oe,page:c.selected+1}));case 3:se(c.selected+1),m(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ce=function(){var t=Object(i.a)(Object(s.a)().mark((function t(c){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,e(Object(Y.j)({sort:H,sortColumn:c,q:k,status:be.id,perPage:oe,page:ne}));case 3:J("asc"===H?"desc":"asc"),X(c),m(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Se=function(){var t=Object(i.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,e(Object(Y.h)({sort:H,sortColumn:U,q:k,status:be.id}));case 3:m(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ke=function(){var e=Number((t.total/oe).toFixed(0));return Object(A.jsx)(u.a,{nextLabel:"",breakLabel:"...",previousLabel:"",pageCount:e||1,activeClassName:"active",breakClassName:"page-item",pageClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",previousLinkClassName:"page-link",previousClassName:"page-item prev",onPageChange:function(e){return ye(e)},forcePage:0!==ne?ne-1:0,containerClassName:"pagination react-paginate justify-content-end p-1"})},ze=function(){var e={q:k,status:be.id};Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:(t.data.length,[])};Object(o.useEffect)((function(){ze()}),[t.data]);var De=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),D.a.post("/pdfmaker/pdf",{id:t.id}).then((function(e){var c=document.createElement("a"),a="".concat(t.uniqueno,".pdf");c.href=e.data.pdf,c.download=a,c.click(),document.removeChild(c),m(!1)})).catch((function(e){console.log(e),m(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){return e.length>=20?"".concat(e.substr(0,20),"..."):e};return Object(A.jsx)("div",{className:"invoice-list-wrapper",children:Object(A.jsx)(P.a,{blocking:b,loader:Object(A.jsx)(x,{}),children:Object(A.jsxs)(I.l,{children:[Object(A.jsxs)("div",{className:"invoice-list-dataTable react-dataTable",children:[Object(A.jsx)(_,{handlePerPage:we,exportList:Se,handleFilter:Ne,setCurrentStatus:ue,currentStatus:be,selecteIds:Oe}),Object(A.jsxs)(I.mb,{responsive:!0,className:"table-hover",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 7px",fontSize:"13px"},children:"ID"}),Object(A.jsx)("th",{children:"DRAFT / INVOICE"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 8px",fontSize:"13px"},children:"Customer"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 8px",fontSize:"13px"},children:"Service"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 8px",fontSize:"13px"},onClick:function(){Ce("invoicedate")},children:"Invoice Date"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},onClick:function(){Ce("paymentdue")},children:"Due Date"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:"Total"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:"Balance"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:"Payment Status"}),Object(A.jsx)("th",{scope:"col",className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:"Action"})]})}),Object(A.jsx)("tbody",{children:ze().map((function(t,c){var n;return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:Object(A.jsx)(I.K,{type:"checkbox",color:"primary",value:t.id,onChange:function(e){!function(e,t){if(e.target.checked)he([].concat(Object(a.a)(Oe),[t]));else{var c=Object(a.a)(Oe),n=c.indexOf(t);c.splice(n,1),he(c)}}(e,t.id)}})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:Object(A.jsx)("span",{className:"text-body",children:"".concat(t.uniqueno)})})}),Object(A.jsx)("td",{className:"text-nowrap",style:{width:"40px"},children:Object(A.jsxs)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:[Object(A.jsx)(I.yb,{target:"row".concat(t.id),children:4===t.status?"Draft":"Invoice"}),Object(A.jsx)(l.a,{id:"row".concat(t.id),color:4===t.status?"light-primary":"light-warning",icon:4===t.status?Object(A.jsx)(h.a,{size:14}):Object(A.jsx)(f.a,{size:14}),className:"me-2"})]})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:Object(A.jsxs)("div",{className:"d-flex",style:{padding:"0.2574rem 0rem"},children:[fe(t),Object(A.jsxs)("div",{className:"d-flex flex-column text-overflow-ellipsis",children:[Object(A.jsx)("h6",{className:"user-name text-truncate mb-0",children:Ie(t.contactname||"")}),Object(A.jsx)("small",{className:"text-truncate text-muted mb-0",children:Ie(t.contactemail||"")})]})]})})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 0px",fontSize:"13px"},children:Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:Object(A.jsx)("span",{className:"text-body text-truncate",style:{padding:"0.2574rem 0rem"},children:Ie(t.taskinvoiceitemsservicename||"")})})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:Object(A.jsx)("span",{className:"text-body",children:ge(t.invoicedate)})})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:Object(A.jsx)("span",{className:"text-body",children:ge(t.paymentdue)})})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),children:Object(A.jsx)("span",{className:"text-body",children:t.totalamount||0})})}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:"0"!==t.dueamount?Object(A.jsx)("span",{children:t.dueamount}):Object(A.jsx)(I.f,{color:"light-success",pill:!0,children:"Paid"})}),Object(A.jsxs)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:[4===t.status&&Object(A.jsx)(I.f,{color:"light-primary",children:"Draft"}),4!==t.status&&Object(A.jsx)(I.f,{color:(null===(n=ve(t.paymentstatus))||void 0===n?void 0:n.color)||"light-primary",children:ve(t.paymentstatus).name||t.paymentstatus})]}),Object(A.jsx)("td",{className:"text-nowrap",style:{padding:"8px 5px",fontSize:"13px"},children:Object(A.jsxs)("div",{className:"column-action d-flex align-items-center",children:[Object(A.jsx)(j.b,{I:"read",a:"invoice",children:Object(A.jsx)(f.a,{size:17,onClick:function(){me(),te(t)}})}),Object(A.jsxs)(j.b,{I:"read",a:"invoice",children:[" ",Object(A.jsx)(r.b,{to:"/".concat(4===t.status?"proposal":"invoice","/view/").concat(t.id),id:"pw-tooltip-".concat(t.id),children:Object(A.jsx)(g.a,{size:17,className:"mx-1"})})]}),Object(A.jsxs)(I.wb,{children:[Object(A.jsx)(I.G,{tag:"span",children:Object(A.jsx)(p.a,{size:17,className:"cursor-pointer"})}),Object(A.jsxs)(I.F,{end:!0,children:[Object(A.jsx)(j.b,{I:"export",a:"invoice",children:Object(A.jsxs)(I.E,{tag:"a",href:"/",className:"w-100",onClick:function(e){e.preventDefault(),De(t)},children:[Object(A.jsx)(O.a,{size:14,className:"me-50"}),Object(A.jsx)("span",{className:"align-middle",children:"Download"})]})}),Object(A.jsx)(j.b,{I:"write",a:"invoice",children:Object(A.jsxs)(I.E,{tag:r.b,to:"/invoice/edit/".concat(t.id),className:"w-100",children:[Object(A.jsx)(v.a,{size:14,className:"me-50"}),Object(A.jsx)("span",{className:"align-middle",children:"Edit"})]})}),Object(A.jsx)(j.b,{I:"delete",a:"invoice",children:Object(A.jsxs)(I.E,{tag:"a",href:"/",className:"w-100",onClick:function(c){var a;c.preventDefault(),a=t.id,F.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var t=Object(i.a)(Object(s.a)().mark((function t(c){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.value){t.next=4;break}return t.next=3,e(Object(Y.e)(a));case 3:F.fire({icon:"success",title:"Deleted!",text:"Invoice has been deleted.",customClass:{confirmButton:"btn btn-success"}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:[Object(A.jsx)(N.a,{size:14,className:"me-50"}),Object(A.jsx)("span",{className:"align-middle",children:"Delete"})]})}),Object(A.jsx)(j.b,{I:"write",a:"invoice",children:Object(A.jsxs)(I.E,{tag:"a",href:"/invoice/clone/".concat(t.id),className:"w-100",children:[Object(A.jsx)(w.a,{size:14,className:"me-50"}),Object(A.jsx)("span",{className:"align-middle",children:"Duplicate"})]})})]})]})]})})]},c)}))})]}),Object(A.jsx)(ke,{})]}),V&&Object(A.jsx)(y.a,{toggleSidebar:me,open:V,invoice:ee})]})})})}},701:function(e,t,c){"use strict";var a=c(8),n=c(23),s=c(0),i=c(7),r=c.n(i),o=c(13),l=(c(703),c(2)),d=function(e){var t,c=e.children,i=e.blocking,o=e.loader,d=e.className,j=e.tag,b=e.overlayColor,u=j;return Object(l.jsxs)(u,{className:r()("ui-loader",(t={},Object(n.a)(t,d,d),Object(n.a)(t,"show",i),t)),children:[c,i?Object(l.jsxs)(s.Fragment,{children:[Object(l.jsx)("div",Object(a.a)({className:"overlay"},i&&b?{style:{backgroundColor:b}}:{})),Object(l.jsx)("div",{className:"loader",children:o})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(o.jb,{color:"primary"})}},702:function(e,t,c){"use strict";var a=c(2);t.a=function(){return Object(a.jsx)("div",{className:"fallback-spinner",children:Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("div",{className:"effect-1 effects"}),Object(a.jsx)("div",{className:"effect-2 effects"}),Object(a.jsx)("div",{className:"effect-3 effects"})]})})}},703:function(e,t,c){},717:function(e,t,c){},736:function(e,t,c){},746:function(e,t,c){},827:function(e,t,c){"use strict";var a=c(39),n=c(10),s=c(8),i=c(11),r=c(0),o=c(136),l=c(757),d=c(762),j=c.n(d),b=c(753),u=c(12),m=c(186),p=c(792),x=c(224),O=c(354),h=c(6),f=c(13),g=c(56),v=c(42),N=c.n(v),w=c(19),y=(c(736),c(447),c(701)),C=c(702),S=c(183),k=c(2),z=["data"],D=Object(w.a)(),I=Object(w.c)();t.a=function(e){var t={multiValue:function(e,t){return Object(i.a)(t),Object(s.a)(Object(s.a)({},e),{},{backgroundColor:"#7367f0"})}},c=Object(r.useState)(!1),d=Object(n.a)(c,2),v=d[0],w=d[1],P=function(){return Object(k.jsx)(r.Fragment,{children:Object(k.jsx)(C.a,{})})},M=Object(r.useState)([]),Y=Object(n.a)(M,2),E=Y[0],B=Y[1],q=Object(r.useState)([]),L=Object(n.a)(q,2),A=L[0],F=L[1],T=Object(r.useState)(""),_=Object(n.a)(T,2),V=_[0],K=_[1],G=e.open,R=e.toggleSidebar,H=e.invoice,J=Object(r.useState)(""),Q=Object(n.a)(J,2),W=Q[0],U=Q[1],X=Object(r.useState)([]),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ce=Object(n.a)(te,2),ae=ce[0],ne=ce[1],se=function(e){h.a.post("contactinformations/list",{contactid:e}).then((function(e){ne(e.data.contactinformations)})).catch((function(){}))},ie=function(){h.a.post("/emailtemplates/get",{slug:"invoice-send-mail"}).then((function(e){var t,c=e.data.emailtemplates.description.replace("{invoice_date}",(t=H.paymentdue,13===t.length?N()(t,"x").format("MMM DD, YYYY"):N.a.unix(t).format("MMM DD, YYYY"))).replace("{service}",H.taskinvoiceitemsservicename).replace("recipient_name",H.contactperson).replace("{recipient_name}",H.contactperson).replace("{invoice_no}",H.uniqueno).replace("{amount}",H.totalamount).replace("{invoice_amount}",H.totalamount).replace("{your_name}",I.name).replaceAll("{firm_name}",D.name).replace("{","").replace("}",""),a=b.EditorState.createWithContent(b.ContentState.createFromBlockArray(Object(b.convertFromHTML)(c)));K(a),U(c)})).catch((function(){}))};Object(r.useEffect)((function(){void 0!==H.clientid&&se(H.clientid),void 0!==H.contactid&&se(H.contactid),Object.keys(H).length>0&&(h.a.post("/organizationusers/dropdown").then((function(e){ee(e.data.organizationusers)})).catch((function(){})),ie())}),[H]);var re=Object(r.useState)(!1),oe=Object(n.a)(re,2),le=oe[0],de=oe[1],je=function(e){var t,c=e.data,n=Object(a.a)(e,z);return Object(k.jsx)(u.q.Option,Object(s.a)(Object(s.a)({},n),{},{children:Object(k.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(k.jsx)(o.a,{className:"my-0 me-50",size:"sm",initials:!0,content:null===(t=c.name)||void 0===t?void 0:t.charAt(0)}),c.name," - ",c.email]})}))},be=function(e){e.preventDefault(),de(!le)};return Object(k.jsx)("div",{className:"email-application",children:Object(k.jsx)("div",{className:"content-area-wrapper",children:Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsx)("div",{className:"content-body",children:Object(k.jsx)(f.Q,{scrollable:!0,fade:!1,keyboard:!1,backdrop:!1,id:"compose-mail",container:".content-body",className:"modal-lg",isOpen:G,contentClassName:"p-0",toggle:R,modalClassName:"modal-sticky",children:Object(k.jsxs)(y.a,{blocking:v,loader:Object(k.jsx)(P,{}),children:[Object(k.jsxs)("div",{className:"modal-header",children:[Object(k.jsx)("h5",{className:"modal-title",children:"Compose Mail"}),Object(k.jsx)("div",{className:"modal-actions",children:Object(k.jsx)("a",{href:"/",className:"text-body",onClick:function(e){e.preventDefault(),R()},children:Object(k.jsx)(x.a,{size:14})})})]}),Object(k.jsx)(f.R,{className:"flex-grow-1 p-0",children:Object(k.jsxs)(f.H,{className:"compose-form",onSubmit:function(e){return e.preventDefault()},children:[Object(k.jsxs)("div",{className:"compose-mail-form-field",children:[Object(k.jsx)(f.N,{for:"email-to",className:"form-label",children:"To:"}),Object(k.jsx)("div",{className:"flex-grow-1",children:Object(k.jsx)(p.a,{isMulti:!0,id:"email-to",isClearable:!1,theme:g.g,options:ae,className:"react-select select-borderless",classNamePrefix:"select",components:{Option:je},styles:t,onChange:function(e){B(e.map((function(e){return e.email})))},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},getOptionValue:function(e){return e.id}})}),Object(k.jsx)("div",{children:Object(k.jsx)("a",{href:"/",className:"toggle-cc text-body me-1",onClick:be,children:"Cc"})})]}),!0===le?Object(k.jsxs)("div",{className:"compose-mail-form-field cc-wrapper",children:[Object(k.jsx)(f.N,{for:"email-cc",className:"form-label",children:"Cc:"}),Object(k.jsx)("div",{className:"flex-grow-1",children:Object(k.jsx)(m.a,{isMulti:!0,id:"email-cc",onChange:function(e){F(e.map((function(e){return e.email})))},isClearable:!1,theme:g.g,options:$,className:"react-select select-borderless",classNamePrefix:"select",components:{Option:je},styles:t,getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},getOptionValue:function(e){return e.id}})}),Object(k.jsx)("div",{children:Object(k.jsx)("a",{href:"/",className:"toggle-cc text-body",onClick:be,children:Object(k.jsx)(x.a,{size:14})})})]}):null,Object(k.jsxs)("div",{className:"compose-mail-form-field",children:[Object(k.jsx)(f.N,{for:"email-subject",className:"form-label",children:"Subject:"}),Object(k.jsx)(f.K,{id:"email-subject",placeholder:"Subject"})]}),Object(k.jsx)("div",{id:"message-editor",children:Object(k.jsx)(l.Editor,{placeholder:"Message",toolbarClassName:"rounded-0",wrapperClassName:"toolbar-bottom",editorState:V,onEditorStateChange:function(e){K(e),U(j()(Object(b.convertToRaw)(e.getCurrentContent())))},editorClassName:"rounded-0 border-0",toolbar:{options:["inline","textAlign"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough"]}}})}),Object(k.jsxs)("div",{className:"compose-footer-wrapper",children:[Object(k.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[Object(k.jsx)(f.i,{outline:!0,color:"primary",onClick:function(){!function(){w(!0);var e="".concat(H.uniqueno," Invoices Acknowledgement Mail");h.a.post("/google/sendGmail",{content:W,subject:e,toEmail:E,ccEmail:A,taskinvoiceId:H.id,clientName:H.contactname}).then((function(){R(!1),w(!1),S.b.success("Email send Successfully",{position:"bottom-right"})})),console.log((function(){}))}()},children:"Send"}),Object(k.jsxs)("div",{className:"email-attachement rounded border p-50 ms-50",children:[H.uniqueno,".pdf"]})]}),Object(k.jsx)("div",{className:"footer-action d-flex align-items-center",children:Object(k.jsx)(O.a,{className:"cursor-pointer",size:18,onClick:R})})]})]})})]})})})})})})}}}]);
//# sourceMappingURL=12.e878d7fa.chunk.js.map
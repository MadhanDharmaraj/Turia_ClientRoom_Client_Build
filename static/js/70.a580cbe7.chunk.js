(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[70],{1509:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(5),i=c(12),s=c(0),r=c(23),l=c(25),o=c(6),d=c(14),u=c(8),j=c(10),b=c(747),m=c.n(b),f=c(332),p=c(253),O=c(365),v=c(184),x=c(742),h=c(744),g=c(745),N=c(7),y=c.n(N),w=c(61),I=c(204),k=c(735),A=c(736),S=(c(746),c(481),c(737),c(743),c(13)),C=c(21),D=c(185),B=c.n(D),z=c(186),V=c.n(z),P=c(28),_=c.n(P),E=c(3),T=Object(S.b)(),q=Object(S.a)(),F=Object(S.d)(),L=function(e){var t,c=e.invoice,b=Object(s.useState)(!1),N=Object(i.a)(b,2),S=N[0],D=N[1],z=function(){return Object(E.jsx)(s.Fragment,{children:Object(E.jsx)(A.a,{})})},P={multiValue:function(e,t){return Object(j.a)(t),Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"#7367f0"})}},L=Object(r.g)().id,R=V()(B.a),K=Object(s.useState)([]),H=Object(i.a)(K,2),U=H[0],J=H[1],M=Object(s.useState)([]),Y=Object(i.a)(M,2),G=Y[0],$=Y[1],Q=Object(s.useState)([]),W=Object(i.a)(Q,2),X=W[0],Z=W[1],ee=Object(s.useState)([]),te=Object(i.a)(ee,2),ce=te[0],ne=te[1],ae=Object(s.useState)(0),ie=Object(i.a)(ae,2),se=ie[0],re=ie[1],le=Object(s.useState)(0),oe=Object(i.a)(le,2),de=oe[0],ue=oe[1],je=Object(s.useState)([]),be=Object(i.a)(je,2),me=be[0],fe=be[1],pe=Object(s.useState)([]),Oe=Object(i.a)(pe,2),ve=Oe[0],xe=Oe[1],he=Object(s.useState)({}),ge=Object(i.a)(he,2),Ne=ge[0],ye=ge[1],we=Object(s.useState)([]),Ie=Object(i.a)(we,2),ke=Ie[0],Ae=Ie[1],Se=Object(s.useState)([]),Ce=Object(i.a)(Se,2),De=Ce[0],Be=Ce[1],ze=Object(s.useState)([]),Ve=Object(i.a)(ze,2),Pe=Ve[0],_e=Ve[1],Ee=Object(r.f)(),Te=Object(C.b)(),qe=Object(C.c)((function(e){return e.reimbursementInvoice})),Fe=function(){var e=Object(a.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.post("/organizationusers/dropdown").then((function(e){var t=e.data.organizationusers;xe(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(e){return R.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var t=Object(a.a)(Object(n.a)().mark((function t(c){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.value){t.next=7;break}return t.next=3,Te(Object(I.g)(e));case 3:return R.fire({icon:"success",title:"Deleted!",text:"Conatct has been deleted.",customClass:{confirmButton:"btn btn-success"}}),t.abrupt("return",!0);case 7:if(c.dismiss!==R.DismissReason.cancel){t.next=9;break}return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(s.useEffect)((function(){o.a.post("/clients/dropdown",{status:1}).then((function(e){var t=e.data;J(t.clients)})),o.a.post("/reimbursement/dropdown",{status:1}).then((function(e){var t=e.data;$(t.reimbursements)})),o.a.post("/states/list").then((function(e){var t=e.data;Z(t.states)})),o.a.post("/transactionaccounts/dropdown").then((function(e){var t=e.data;ne(t.transactionaccounts)})),Fe(),o.a.post("/reimbursementinvoice/getparticipants",{invoiceId:L}).then((function(e){var t=e.data.taskinvoiceparticipants.map((function(e){return e.id}));Be(t),_e(e.data.taskinvoiceparticipants)})).catch((function(e){console.log(e)}))}),[]);var Re=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(Object(I.i)(t));case 2:c=e.sent,ye(c.payload);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=h.d().shape({id:h.f(),updatedBy:h.f().default(F),contactId:h.f().required("Please select a Client"),uniqueIdentity:h.f(),contactEmail:h.f(),contactName:h.f(),invoiceDate:h.f(),dueDate:h.f(),paymentDue:h.f(),subTotalAmount:h.f(),totalAmount:h.f(),totalTaxAmount:h.f(),organizationId:h.f().default(T),dueAmount:h.f(),accountDetails:h.d(),bankAccountId:h.f().required("Please select Bank Account"),organizationDetails:h.d(),clientdDetails:h.d(),note:h.f().default(""),status:h.c().default(11),paymentStatus:h.c().default(5),rows:h.a().of(h.d().shape({serviceId:h.f().required("Please Select Service Item"),invoiceId:h.f(),price:h.f(),description:h.f().default(""),organizationId:h.f().default(T),subTotalAmount:h.f().required(1)}))}),He=Object(x.f)({resolver:Object(g.a)(Ke),defaultValues:Ke.cast()}),Ue=He.handleSubmit,Je=He.formState.errors,Me=He.control,Ye=He.setValue,Ge=He.reset,$e=Object(x.e)({control:Me,name:"rows",keyName:"rowid"}),Qe=$e.fields,We=$e.append,Xe=$e.remove,Ze=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me.forEach((function(e,c){me[c].invoiceId=t,me[c].updatedBy=F})),e.next=3,Te(Object(I.m)(me));case 3:if(!(De.length>0)){e.next=9;break}return c=[],De.forEach((function(e){var t=Pe.findIndex((function(t){return t.id===e}));-1!==t&&Pe.length>0&&c.push(Pe[t].id)})),a={users:De,organizationId:T,invoiceId:t,deletedUser:c},e.next=9,Te(Object(I.c)(a));case 9:Ee("/reimbursement/view/".concat(qe.invoiceId));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.invoiceDate=_()(t.invoiceDate).valueOf(),t.paymentDue=_()(t.paymentDue).valueOf(),D(!0),c=t.rows,fe(c),delete t.rows,e.next=8,Te(Object(I.l)(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)(Object(a.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==qe.invoiceId&&me.length>0)){e.next=3;break}return e.next=3,Ze(qe.invoiceId);case 3:case"end":return e.stop()}}),e)}))),[qe.invoiceId,me]);var tt=function(){We({invoiceId:0,organizationId:T,serviceId:"",subTotalAmount:0,taxPrice:0,description:""})};Object(s.useEffect)((function(){tt()}),[]);var ct=function(){var e=Me._formValues.rows,t=0,c=0,n=0;e.forEach((function(e){t=parseFloat(e.subTotalAmount)+parseFloat(t),c=parseFloat(e.price)+parseFloat(c),n=parseFloat(n)+parseFloat(e.taxPrice)})),Me._formValues.subTotalAmount=c,Me._formValues.totalAmount=t,Me._formValues.dueAmount=t,Me._formValues.totalTaxAmount=n,re(t),ue(c)},nt=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(c=Me._formValues.rows[t].id)){e.next=5;break}return e.next=4,Le(c);case 4:a=e.sent;case 5:a&&Xe(t),ct();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e){var t,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Me._formValues.rows[e];if(void 0===a.serviceId||""===a.serviceId)return!1;var i=G.find((function(e){return e.id===a.serviceId}));Ye("rows[".concat(e,"].serviceId"),a.serviceId),n?(t=a.price||0,Ye("rows[".concat(e,"].price"),t),Ye("rows[".concat(e,"].description"),i.description)):(t=a.price,Ye("rows[".concat(e,"].price"),t),Ye("rows[".concat(e,"].description"),c?a.description:i.description)),Ye("rows[".concat(e,"].subTotalAmount"),parseFloat(t||0).toFixed(2)),Ye("rows[".concat(e,"].createdBy"),F),ct()},it=function(e){var t=ce.find((function(t){return t.id===e}));Ae(t),Ye("accountDetails",t),Ye("bankAccountId",null===t||void 0===t?void 0:t.id)};Object(s.useEffect)((function(){ce.length>0&&it(Me._formValues.bankAccountId)}),[ce]),Object(s.useEffect)((function(){if(Object.keys(Ne).length>0){var e,t={city:Ne.billingaddresscity||"",addressLine1:Ne.billingaddressline1||"",addressLine2:Ne.billingaddressline2||"",state:Ne.billingaddressstatesname||"",zipCode:Ne.billingaddresszip||"",contactEmail:Ne.email,contactName:Ne.name,placeOfSupplyId:Ne.placeofsupplyid,placeOfSupply:null!==(e=Ne.placeofsupplyname)&&void 0!==e?e:""};Ye("placeOfSupplyId",Ne.placeofsupplyid),Ye("clientDetails",t);var c={currencyId:Ne.currencyid||q.currencyid,currencySymbol:Ne.currenciessymbol||"",currencyShortName:Ne.currenciescode||"",currencyName:Ne.currenciesname||""};Ye("currencyDetails",c)}}),[Ne]);var st=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=6;break}return e.next=3,Te(Object(I.k)(t));case 3:c=e.sent,Ye("rows",c.payload.reimbursementinvoiceitems),ct();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)(Object(a.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(c).length>0)){e.next=11;break}return Ge({id:c.id,contactId:c.clientid,uniqueIdentity:c.uniqueno,contactEmail:c.contactemail,contactName:c.contactname,invoiceDate:_()(c.invoicedate,"x").toDate(),paymentDue:_()(c.paymentdue,"x").toDate(),placeOfSupplyId:c.placeofsupplyid,subTotalAmount:c.subtotalamount,totalAmount:c.totalamount,totalTaxAmount:c.totaltaxamount,dueAmount:c.dueamount,note:c.note,status:c.status,paymentStatus:c.paymentstatus}),Ye("organizationDetails",c.orgdetails),Ye("accountDetails",c.accountdetails),Ye("bankAccountId",null===(t=c.accountdetails)||void 0===t?void 0:t.id),Ye("placeOfSupplyId",c.clientdetails.placeofsupplyid),Ye("clientDetails",c.clientdetails),e.next=9,Re(c.clientid);case 9:return e.next=11,st(c.id);case 11:case"end":return e.stop()}}),e)}))),[c]);var rt=function(e){var t=Array.isArray(e)?e.map((function(e){return e.id})):[];Be(t)};return Object(E.jsx)(k.a,{blocking:S,loader:Object(E.jsx)(z,{}),children:Object(E.jsx)("form",{onSubmit:Ue(et),children:Object(E.jsx)(d.ib,{className:"invoice-add",children:Object(E.jsxs)(s.Fragment,{children:[Object(E.jsx)(d.B,{xl:10,md:8,sm:12,children:Object(E.jsxs)(d.l,{className:"invoice-preview-card",children:[Object(E.jsxs)(d.m,{className:"invoice-padding pb-0",children:[function(){var e=Object.keys(Je),t=[];return Array.isArray(e)&&e.forEach((function(e){var c;"rows"!==e&&t.push(Object(E.jsxs)(d.I,{children:["$",null===(c=Je[e])||void 0===c?void 0:c.message]},e))})),t}(),Object(E.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0",children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"logo-wrapper",children:[null===c.orgdetails.imageUrl?Object(E.jsx)(w.a,{color:"primary",className:"me-50",content:null!==c.orgdetails.name?null===(t=c.orgdetails.name)||void 0===t?void 0:t.charAt(0):""}):Object(E.jsx)("img",{className:"rounded me-50",height:75,width:75,referrerPolicy:"no-referrer",src:"https://drive.google.com/thumbnail?id=".concat(c.orgdetails.imageUrl,"&authuser=0"),alt:"Organisation Logo"}),Object(E.jsx)("h5",{className:"text-primary invoice-logo",children:c.orgdetails.name})]}),Object(E.jsx)("p",{className:"card-text mb-25",children:c.orgdetails.addressLine1}),Object(E.jsx)("p",{className:"card-text mb-25",children:c.orgdetails.addressLine2}),Object(E.jsxs)("p",{className:"card-text mb-0",children:[c.orgdetails.city," - ",c.orgdetails.zipcode]}),Object(E.jsx)("p",{className:"card-text mb-0",children:c.orgdetails.state})]}),Object(E.jsxs)("div",{className:"invoice-number-date mt-md-0 mt-2",children:[Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-md-end mb-1",children:[Object(E.jsx)("h4",{className:"invoice-title",children:"Challan"}),Object(E.jsxs)(d.L,{className:"input-group-merge invoice-edit-input-group disabled",children:[Object(E.jsx)(d.M,{children:Object(E.jsx)(f.a,{size:15})}),Object(E.jsx)(d.K,{type:"number",className:"invoice-edit-input",value:3171,placeholder:"53634",disabled:!0})]})]}),Object(E.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(E.jsx)("span",{className:"title ",children:"Challan Date:"}),Object(E.jsx)(x.a,{control:Me,name:"invoiceDate",id:"invoiceDate",render:function(e){var t=e.field;return Object(E.jsx)(m.a,{value:t.value,onChange:function(e,c){t.onChange(c)},options:{altInput:!0},className:"form-control invoice-edit-input date-picker"})}})]}),Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)("span",{className:"title required",children:"Due Date:"}),Object(E.jsx)(x.a,{control:Me,name:"paymentDue",id:"paymentDue",render:function(e){var t=e.field;return Object(E.jsx)(m.a,{value:t.value,onChange:function(e,c){t.onChange(c)},options:{altInput:!0},className:"form-control invoice-edit-input due-date-picker"})}})]})]})]})]}),Object(E.jsx)("hr",{className:"invoice-spacing"}),Object(E.jsxs)(d.m,{className:"invoice-padding pt-0",children:[Object(E.jsxs)(d.ib,{className:"row-bill-to invoice-spacing",children:[Object(E.jsxs)(d.B,{className:"col-bill-to ps-0",xl:"6",children:[Object(E.jsx)("h6",{className:"invoice-to-title required",children:"Challan To"}),Object(E.jsx)("div",{className:"invoice-customer",children:Object(E.jsx)(x.a,{control:Me,name:"contactId",id:"contactId",render:function(e){var t=e.field,c=e.ref;return Object(E.jsx)(v.a,Object(u.a)(Object(u.a)({inputRef:c,className:y()("react-select",{"is-invalid":Je.contactId})},t),{},{classNamePrefix:"select",options:U,value:U.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),Re(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})}),Object(E.jsx)(d.B,{className:"pe-0 mt-xl-2",xl:"4",children:Object(E.jsx)("table",{children:Ne&&Object(E.jsxs)("tbody",{children:[Object(E.jsx)("tr",{children:Object(E.jsx)("td",{children:Ne.billingaddressline1})}),Object(E.jsx)("tr",{children:Object(E.jsx)("td",{children:Ne.billingaddressline2})}),Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{children:[Ne.billingaddresscity," ",Ne.billingaddresszip&&"-","  ",Ne.billingaddresszip]})}),Object(E.jsx)("tr",{children:Object(E.jsx)("td",{children:Ne.billingaddressstatesname})})]})})})]}),Object(E.jsx)(d.B,{className:"col-bill-to ps-0",xl:"2"}),Object(E.jsxs)(d.B,{className:"pe-0 mt-xl-0 mt-2",xl:"4",children:[Object(E.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(E.jsx)("table",{children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"pe-1",children:"Bank Name:"}),Object(E.jsx)("td",{children:ke.bankName&&Object(E.jsx)("span",{className:"fw-bolder",children:ke.bankName})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"pe-1",children:"Account name:"}),Object(E.jsx)("td",{children:ke.accountHolderName&&Object(E.jsx)("span",{className:"fw-bolder",children:ke.accountHolderName})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(E.jsxs)("td",{children:[" ",ke.branchAddress&&Object(E.jsx)("span",{className:"fw-bolder",children:ke.branchAddress})]})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"pe-1",children:"IFSC Code:"}),Object(E.jsx)("td",{children:ke.ifscCode&&Object(E.jsxs)("span",{className:"fw-bolder",children:[ke.ifscCode," "]})})]}),Ne.currenciescode&&Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"pe-1",children:"Currency code:"}),Object(E.jsx)("td",{children:Ne.currenciescode})]})]})})]})]}),(null===q||void 0===q?void 0:q.isgstregistered)&&Object(E.jsxs)(d.ib,{className:"row-bill-to invoice-spacing",children:[Object(E.jsxs)(d.B,{className:"col-bill-to ps-0",xl:"6",children:[Object(E.jsx)("h6",{className:"invoice-to-title mt-2 required",children:"Place Of Supply"}),Object(E.jsx)("div",{className:"invoice-customer",children:Object(E.jsx)(x.a,{control:Me,name:"placeOfSupplyId",id:"placeOfSupplyId",render:function(e){var t=e.field,c=e.ref;return Object(E.jsx)(v.a,Object(u.a)(Object(u.a)({inputRef:c,className:y()("react-select",{"is-invalid":Je.placeOfSupplyId})},t),{},{classNamePrefix:"select",options:X,value:X.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})}),""!==Ne.gstin&&void 0!==Ne.gstin&&Object(E.jsxs)("div",{className:"mt-1",children:[" GSTIN : ",Ne.gstin]})]}),Object(E.jsx)(d.B,{className:"col-bill-to ps-0",xl:"2"})]})]}),Object(E.jsxs)(d.m,{className:"invoice-padding invoice-product-details",children:[Qe.map((function(e,t){var c,n,a,i,s,r,l,o;return Object(E.jsx)("div",{className:"repeater-wrapper",children:Object(E.jsx)(d.ib,{children:Object(E.jsxs)(d.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(E.jsxs)(d.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(E.jsxs)(d.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-4 col-sm-12",children:[Object(E.jsx)(d.u,{className:"col-title mb-md-50 mb-0",children:"Item"}),Object(E.jsx)(x.a,{control:Me,defaultValue:"".concat(e.serviceId),name:"rows[".concat(t,"].serviceId"),rules:{required:!0},render:function(e){var c,n,a=e.field,i=e.ref;return Object(E.jsx)(v.a,Object(u.a)(Object(u.a)({},a),{},{inputRef:i,className:y()("react-select",{"is-invalid":null===(c=Je.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.serviceId}),classNamePrefix:"select",options:G,value:G.find((function(e){return e.id===a.value})),onChange:function(e){a.onChange(e.id),at(t,!1,!0)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),(null===(c=Je.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.serviceId)&&Object(E.jsx)(d.I,{children:null===(a=Je.rows)||void 0===a||null===(i=a[t])||void 0===i?void 0:i.serviceId.message}),Object(E.jsx)(x.a,{id:"rows_".concat(t,"_description"),defaultValue:"".concat(e.description),name:"rows[".concat(t,"].description"),control:Me,render:function(e){var c,n,a=e.field;return Object(E.jsx)(d.K,Object(u.a)({className:"mt-1",invalid:(null===(c=Je.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.description)&&!0,onInput:function(e){a.onChange(e),at(t,!0,!1)}},a))}})]}),Object(E.jsxs)(d.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(E.jsx)(d.u,{className:"col-title mb-md-2 mb-0",children:"Price"}),Object(E.jsx)(x.a,{defaultValue:e.price,id:"rows_".concat(t,"_price"),name:"rows[".concat(t,"].price"),control:Me,render:function(e){var c,n,a=e.field;return Object(E.jsx)(d.K,Object(u.a)(Object(u.a)({type:"number",id:"input_rows_".concat(t,"_price"),onInput:function(e){a.onChange(e),at(t,!1,!1)}},a),{},{invalid:(null===(c=Je.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.price)&&!0}))}}),(null===(s=Je.rows)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.price)&&Object(E.jsx)(d.I,{children:null===(l=Je.rows)||void 0===l||null===(o=l[t])||void 0===o?void 0:o.price.message})]}),Object(E.jsxs)(d.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(E.jsx)(d.u,{className:"col-title mb-md-50 mb-0",children:"Amount"}),Me._formValues.rows[t].subTotalAmount]})]}),Object(E.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(E.jsx)(p.a,{size:18,className:"cursor-pointer",onClick:function(){nt(t)}})})]})})},e.rowid)})),Object(E.jsx)(d.ib,{className:"mt-1",children:Object(E.jsx)(d.B,{sm:"12",className:"px-0",children:Object(E.jsxs)(d.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return tt()},children:[Object(E.jsx)(O.a,{size:14,className:"me-25"})," ",Object(E.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(E.jsx)(d.m,{className:"invoice-padding",children:Object(E.jsxs)(d.ib,{className:"invoice-sales-total-wrapper",children:[Object(E.jsx)(d.B,{className:"mt-md-0 mt-3",md:{size:"6",order:1},xs:{size:12,order:2}}),Object(E.jsx)(d.B,{className:"d-flex justify-content-end",md:{size:"6",order:2},xs:{size:12,order:1},children:Object(E.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(E.jsxs)("div",{className:"invoice-total-item",children:[Object(E.jsx)("p",{className:"invoice-total-title",children:"Amount:"}),Object(E.jsx)("p",{className:"invoice-total-amount",children:de})]}),Object(E.jsx)("hr",{className:"my-50"}),Object(E.jsxs)("div",{className:"invoice-total-item",children:[Object(E.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(E.jsx)("p",{className:"invoice-total-amount",children:se})]})]})})]})}),Object(E.jsx)("hr",{className:"invoice-spacing mt-0"}),Object(E.jsx)(d.m,{className:"invoice-padding py-0",children:Object(E.jsx)(d.ib,{children:Object(E.jsx)(d.B,{children:Object(E.jsxs)("div",{className:"mb-2",children:[Object(E.jsx)(d.N,{for:"note",className:"form-label fw-bold",children:"Note:"}),Object(E.jsx)(x.a,{id:"note",name:"note",control:Me,render:function(e){var t=e.field;return Object(E.jsx)(d.K,Object(u.a)({type:"textarea",value:t.value,invalid:Je.note&&!0},t))}})]})})})})]})}),Object(E.jsxs)(d.B,{xl:2,md:4,sm:12,children:[Object(E.jsx)(d.l,{className:"invoice-action-wrapper",children:Object(E.jsxs)(d.m,{children:[Object(E.jsx)(d.i,{color:"primary",type:"submit",block:!0,outline:!0,className:"mb-75",children:"Save"}),Object(E.jsx)(d.i,{color:"warning",block:!0,outline:!0,tag:l.b,to:"/reimbursement/view/".concat(L),children:"Cancel"})]})}),Object(E.jsx)("div",{className:"mt-2",children:Object(E.jsxs)("div",{className:"invoice-payment-option",children:[Object(E.jsx)("p",{className:"mb-50 required",children:"Accept payments via"}),Object(E.jsx)(x.a,{control:Me,name:"bankAccountId",rules:{required:!0},render:function(e){var t=e.field,c=e.ref;return Object(E.jsx)(v.a,Object(u.a)(Object(u.a)({},t),{},{inputRef:c,className:y()("react-select mt-1",{"is-invalid":Je.bankAccountId}),classNamePrefix:"select",options:ce,value:ce.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),it(e.id)},getOptionLabel:function(e){return e.accountHolderName},getOptionValue:function(e){return e.id}}))}})]})}),Object(E.jsx)("div",{className:"mt-2",children:Object(E.jsxs)("div",{className:"invoice-payment-option",children:[Object(E.jsx)("p",{className:"mb-50",children:"Select Employee"}),Object(E.jsx)(x.a,{control:Me,name:"reviewer",id:"reviewer",render:function(e){var t=e.field,c=e.value,n=e.ref;return Object(E.jsx)(v.a,Object(u.a)(Object(u.a)({inputRef:n,className:y()("react-select",{"is-invalid":Je.reviewer})},t),{},{classNamePrefix:"select",options:ve,isMulti:!0,defaultValue:Pe,value:c,onChange:rt,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},styles:P}))}})]})})]})]})})})})};t.default=function(){var e=Object(r.g)().id,t=Object(s.useState)(null),c=Object(i.a)(t,2),u=c[0],j=c[1],b=function(){var t=Object(a.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.a.post("/reimbursementinvoice/get",{id:e}).then((function(e){j(e.data.reimbursementinvoice)})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){b()}),[]),null!==u&&void 0!==u?Object(E.jsx)("div",{className:"invoice-edit-wrapper",children:Object(E.jsx)(d.ib,{className:"invoice-edit",children:Object(E.jsx)(d.B,{xl:12,md:8,sm:12,children:Object(E.jsx)(L,{invoice:u})})})}):Object(E.jsxs)(d.e,{color:"danger",children:[Object(E.jsx)("h4",{className:"alert-heading",children:"Reimbursement not found"}),Object(E.jsxs)("div",{className:"alert-body",children:["Reimbursement with id: ",e," doesn't exist. Check list of all invoices:"," ",Object(E.jsx)(l.b,{to:"/apps/invoice/list",children:"Reimbursement List"})]})]})}},735:function(e,t,c){"use strict";var n=c(8),a=c(27),i=c(0),s=c(7),r=c.n(s),l=c(14),o=(c(738),c(3)),d=function(e){var t,c=e.children,s=e.blocking,l=e.loader,d=e.className,u=e.tag,j=e.overlayColor,b=u;return Object(o.jsxs)(b,{className:r()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",s),t)),children:[c,s?Object(o.jsxs)(i.Fragment,{children:[Object(o.jsx)("div",Object(n.a)({className:"overlay"},s&&j?{style:{backgroundColor:j}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},736:function(e,t,c){"use strict";var n=c(3);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},737:function(e,t,c){},738:function(e,t,c){},743:function(e,t,c){},746:function(e,t,c){}}]);
//# sourceMappingURL=70.a580cbe7.chunk.js.map
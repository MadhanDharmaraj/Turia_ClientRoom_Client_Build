{"version":3,"sources":["views/apps/proposal/shared-sidebar/SidebarSendInvoice.js","views/apps/proposal/preview/PreviewCard.js","views/apps/proposal/preview/PreviewCardINT.js","views/apps/proposal/preview/PreviewActions.js","views/apps/proposal/preview/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","../node_modules/draftjs-to-html/lib/draftjs-to-html.js","../node_modules/react-select/dist/useCreatable-00a6568c.esm.js","../node_modules/react-select/creatable/dist/react-select.esm.js","views/apps/proposal/helper/hepler.js"],"names":["activeOrg","activeOrganization","userData","loggedInUser","SidebarSendInvoice","props","colourStyles","multiValue","styles","backgroundColor","useState","block","setBlock","Loader","toEmail","setToEmail","ccEmail","setCCEmail","data","setData","open","toggleSidebar","invoice","thankyouNote","setThankyouNote","userOptions","setUserOptions","clientOptions","setClientOptions","getCoatctInfo","id","axios","post","contactid","then","res","contactinformations","catch","getThankyouNotes","slug","value","test","emailtemplates","description","replace","paymentdue","length","moment","format","unix","taskinvoiceitemsservicename","contactperson","uniqueno","totalamount","name","replaceAll","temp","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","useEffect","undefined","clientid","Object","keys","organizationusers","ccOpen","setCCOpen","SelectComponent","Option","className","size","initials","content","charAt","email","toggleCC","e","preventDefault","scrollable","fade","keyboard","backdrop","container","isOpen","contentClassName","toggle","modalClassName","blocking","loader","href","onClick","onSubmit","for","isMulti","isClearable","theme","selectThemeColors","options","classNamePrefix","components","onChange","map","i","getOptionLabel","option","getOptionValue","placeholder","toolbarClassName","wrapperClassName","editorState","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","editorClassName","toolbar","inline","inDropdown","outline","color","subject","taskinvoiceId","clientName","contactname","toast","success","position","console","log","sendMail","PreviewCard","amount","useParams","dispatch","useDispatch","invoiceItems","setInvoiceItems","invoiceTaxes","setInvoiceTaxes","dateFormat","a","b","inWords","num","toString","n","substr","match","str","Number","String","txt","toUpperCase","toLowerCase","indianFormattedPrice","val","removedValue","finalVal","includes","slice","indexOf","lastThree","substring","otherNumbers","parser","calculatetaxes","getInvoiceItems","payload","imageid","Math","floor","random","renderOrg","referrerPolicy","height","width","src","alt","addressline1","addressline2","city","pinzipcode","statename","isgstregistered","gstin","invoicedate","billingaddressline1","billingaddressline2","billingaddresscity","billingaddresszipcode","billingaddressstate","parseFloat","dueamount","toFixed","billingcurrencysymbol","bankaccountbankname","bankaccountholdername","bankaccountbranchname","bankaccountifsccode","xl","placeofsupplyname","md","sm","billingcurrencyshortname","responsive","item","ind","servicesName","sacCode","price","taxes","obj","k","taxName","tax_name","taxAmount","tax_amount_calculated","isTaxApplicable","taxGroupName","exemptionReasonName","subTotalAmount","order","lg","split","currencycode","convertionrate","subtotalamount","key","tax_percentage","tax_amount","note","paymentstatusObj","renderStatus","find","o","parseInt","isNaN","paymentstatus","bankaccounttype","placeofsupplyothers","isrcmapplicable","PreviewActions","setSendSidebarOpen","setMarkAsInvoice","participants","setParticipants","invoiceId","taskinvoiceparticipants","err","Can","I","downloadLink","document","createElement","fileName","pdf","download","click","removeChild","window","print","tag","Link","to","user","taskid","uniqueidentity","MySwal","withReactContent","Swal","InvoicePreview","navigate","useNavigate","sendSidebarOpen","active","setActive","store","useSelector","state","proposal","getInvoiceLoc","getInvoice","selectedInvoice","pills","tab","activeTab","tabId","countryshortname","PreviewCardINT","fire","title","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","markAsInvoice","UILoader","children","overlayColor","Tag","classnames","style","defaultProps","ComponentSpinner","module","exports","forEach","callback","hasOwnProperty","call","isEmptyString","trim","blockTypesMapping","unstyled","blockquote","code","getBlockTag","type","getBlockStyle","concat","getHashtagRanges","blockText","hashtagConfig","sections","counter","startIndex","trigger","separator","endIndex","hashtag","push","offset","getSections","lastOffset","sectionRanges","entityRanges","range","sort","s1","s2","r","start","end","entityKey","isAtomicEntityBlock","getStyleArrayForBlock","inlineStyleRanges","inlineStyles","BOLD","Array","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT","COLOR","BGCOLOR","FONTSIZE","FONTFAMILY","getStylesAtOffset","sameStyleAsPrevious","index","sameStyled","addInlineStyleMarkup","getSectionText","ch","join","addStylePropertyMarkup","styleString","getEntityMarkup","entityMap","customEntityTransform","entity","html","url","targetOption","alignment","getInlineStyleSections","styleSections","from","section","trimLeadingZeros","sectionText","replacedText","trimTrailingZeros","getStyleTagSectionMarkup","styleSection","getInlineStyleSectionMarkup","styleTagSections","styleSectionText","stylePropertySection","getSectionMarkup","entityInlineMarkup","getBlockInnerMarkup","blockMarkup","getBlockMarkup","directional","blockHtml","blockTag","blockStyle","isList","blockType","getListMarkup","listBlocks","previousBlock","listHtml","nestedListBlock","nestedBlock","depth","editorContent","blocks","factory","_excluded","compareOption","arguments","accessors","candidate","optionValue","optionLabel","builtins","formatCreateLabel","inputValue","isValidNewOption","selectValue","selectOptions","some","getNewOptionData","label","__isNew__","CreatableSelect","React","forwardRef","ref","selectProps","_ref","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","propsOptions","propsOnChange","restSelectProps","_objectWithoutProperties","_restSelectProps$getO","getOptionValue$1","_restSelectProps$getO2","getOptionLabel$1","isLoading","newOption","useMemo","cleanValue","_toConsumableArray","useCallback","newValue","actionMeta","action","valueArray","isArray","newOptionData","newActionMeta","valueTernary","_objectSpread2","useCreatable","useStateManager","Select","_extends","calculateTax","taxRateInPercentage","TaxType","calculatedTax","JSON","parse","stringify"],"mappings":"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","file":"static/js/45.e3725bd3.chunk.js","sourcesContent":["// ** React Imports\nimport { useState, useEffect, Fragment } from 'react'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Third Party Components\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html'\nimport { EditorState, ContentState, convertFromHTML, convertToRaw } from 'draft-js'\nimport Select, { components } from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n\nimport { Minus, X, Maximize2, Paperclip, MoreVertical, Trash, File } from 'react-feather'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Form,\n  Label,\n  Input,\n  Modal,\n  Button,\n  ModalBody\n} from 'reactstrap'\n\n// ** Utils\nimport { selectThemeColors } from '@utils'\nimport moment from 'moment'\n// ** User Avatars\nimport { activeOrganization, loggedInUser } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nconst userData = loggedInUser()\n// ** Styles\nimport '@styles/react/libs/editor/editor.scss'\nimport '@styles/react/libs/react-select/_react-select.scss'\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\nimport toast from 'react-hot-toast'\nconst SidebarSendInvoice = props => {\n\n  const colourStyles = {\n    multiValue: (styles, { }) => {\n\n      return {\n        ...styles,\n        backgroundColor: '#7367f0'\n      }\n    }\n  }\n\n  const [block, setBlock] = useState(false)\n\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n  const [toEmail, setToEmail] = useState([])\n  const [ccEmail, setCCEmail] = useState([])\n  const [data, setData] = useState('')\n  const { open, toggleSidebar, invoice } = props\n  const [thankyouNote, setThankyouNote] = useState('')\n  const [userOptions, setUserOptions] = useState([])\n  const [clientOptions, setClientOptions] = useState([])\n\n  const getOrganizationUsers = () => {\n    axios.post('/organizationusers/dropdown').then((res) => {\n      setUserOptions(res.data.organizationusers)\n    }).catch(() => { })\n  }\n\n  const getCoatctInfo = (id) => {\n    axios.post('contactinformations/list', { contactid: id }).then((res) => {\n      setClientOptions(res.data.contactinformations)\n    }).catch(() => { })\n\n  }\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const getThankyouNotes = () => {\n    axios.post('/emailtemplates/get', { slug: 'invoice-send-mail' }).then((res) => {\n      const mailSub = res.data.emailtemplates.description\n      const test = mailSub.replace('{invoice_date}', dateFormat(invoice.paymentdue)).replace('{service}', invoice.taskinvoiceitemsservicename).replace('recipient_name', invoice.contactperson).replace('{recipient_name}', invoice.contactperson).replace('{invoice_no}', invoice.uniqueno).replace('{amount}', invoice.totalamount).replace('{invoice_amount}', invoice.totalamount).replace('{your_name}', userData.name).replaceAll('{firm_name}', activeOrg.name).replace('{', '').replace('}', '')\n\n      const temp = EditorState.createWithContent(\n        ContentState.createFromBlockArray(\n          convertFromHTML(test)\n        )\n      )\n      setData(temp)\n      setThankyouNote(test)\n\n    }).catch(() => { })\n  }\n\n  const handleChange = (editorState) => {\n    setData(editorState)\n    setThankyouNote(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n\n  useEffect(() => {\n    if (invoice.clientid !== undefined) {\n      getCoatctInfo(invoice.clientid)\n    }\n    if (invoice.contactid !== undefined) {\n      getCoatctInfo(invoice.contactid)\n    }\n    if (Object.keys(invoice).length > 0) {\n      getOrganizationUsers()\n      getThankyouNotes()\n    }\n  }, [invoice])\n\n  const sendMail = () => {\n    setBlock(true)\n    const subject = `${invoice.uniqueno} Invoices Acknowledgement Mail`\n    axios.post('/google/sendGmail', { content: thankyouNote, subject, toEmail, ccEmail, taskinvoiceId: invoice.id, clientName: invoice.contactname })\n      .then(() => {\n        toggleSidebar(false)\n        setBlock(false)\n        toast.success('Email send Successfully', { position: 'bottom-right' })\n      })\n    console.log(() => { })\n  }\n\n\n  // ** States\n  const [ccOpen, setCCOpen] = useState(false)\n\n  const SelectComponent = ({ data, ...props }) => {\n    return (\n      <components.Option {...props}>\n        <div className='d-flex flex-wrap align-items-center'>\n          <Avatar className='my-0 me-50' size='sm' initials content={data.name?.charAt(0)} />\n          {data.name} - {data.email}\n        </div>\n      </components.Option>\n    )\n  }\n\n  // ** CC Toggle Function\n  const toggleCC = e => {\n    e.preventDefault()\n    setCCOpen(!ccOpen)\n  }\n\n  // ** Toggles Compose POPUP\n  const togglePopUp = e => {\n    e.preventDefault()\n    toggleSidebar()\n  }\n\n  return (\n\n    <div className='email-application'>\n      <div className='content-area-wrapper'>\n        <div className='col-md-12'>\n          <div className='content-body'>\n            <Modal\n              scrollable\n              fade={false}\n              keyboard={false}\n              backdrop={false}\n              id='compose-mail'\n              container='.content-body'\n              className='modal-lg'\n              isOpen={open}\n              contentClassName='p-0'\n              toggle={toggleSidebar}\n              modalClassName='modal-sticky'\n            >\n              <UILoader blocking={block} loader={<Loader />}>\n                <div className='modal-header'>\n                  <h5 className='modal-title'>Compose Mail</h5>\n                  <div className='modal-actions'>\n                    {/* <a href='/' className='text-body me-75' onClick={togglePopUp}>\n                      <Minus size={14} />\n                    </a>\n                    <a href='/' className='text-body me-75' onClick={e => e.preventDefault()}>\n                      <Maximize2 size={14} />\n                    </a> */}\n                    <a href='/' className='text-body' onClick={togglePopUp}>\n                      <X size={14} />\n                    </a>\n                  </div>\n                </div>\n                <ModalBody className='flex-grow-1 p-0'>\n                  <Form className='compose-form' onSubmit={e => e.preventDefault()}>\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-to' className='form-label'>\n                        To:\n                      </Label>\n                      <div className='flex-grow-1'>\n                        <CreatableSelect\n                          isMulti\n                          id='email-to'\n                          isClearable={false}\n                          theme={selectThemeColors}\n                          options={clientOptions}\n                          className='react-select select-borderless'\n                          classNamePrefix='select'\n                          components={{ Option: SelectComponent }}\n                          styles={colourStyles}\n                          onChange={(e) => { setToEmail(e.map(i => i.email)) }}\n                          getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                          getOptionValue={(option) => option.id}\n                        />\n                      </div>\n                      <div>\n                        <a href='/' className='toggle-cc text-body me-1' onClick={toggleCC}>\n                          Cc\n                        </a>\n                      </div>\n                    </div>\n                    {ccOpen === true ? (\n                      <div className='compose-mail-form-field cc-wrapper'>\n                        <Label for='email-cc' className='form-label'>\n                          Cc:\n                        </Label>\n                        <div className='flex-grow-1'>\n                          <Select\n                            isMulti\n                            id='email-cc'\n                            onChange={(e) => { setCCEmail(e.map(i => i.email)) }}\n                            isClearable={false}\n                            theme={selectThemeColors}\n                            options={userOptions}\n                            className='react-select select-borderless'\n                            classNamePrefix='select'\n                            components={{ Option: SelectComponent }}\n                            styles={colourStyles}\n                            getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                            getOptionValue={(option) => option.id}\n                          />\n                        </div>\n                        <div>\n                          <a href='/' className='toggle-cc text-body' onClick={toggleCC}>\n                            <X size={14} />\n                          </a>\n                        </div>\n                      </div>\n                    ) : null}\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-subject' className='form-label'>\n                        Subject:\n                      </Label>\n                      <Input id='email-subject' placeholder='Subject' />\n                    </div>\n                    <div id='message-editor'>\n                      <Editor\n                        placeholder='Message'\n                        toolbarClassName='rounded-0'\n                        wrapperClassName='toolbar-bottom'\n                        editorState={data}\n                        onEditorStateChange={handleChange}\n                        editorClassName='rounded-0 border-0'\n                        toolbar={{\n                          options: ['inline', 'textAlign'],\n                          inline: {\n                            inDropdown: false,\n                            options: ['bold', 'italic', 'underline', 'strikethrough']\n                          }\n                        }}\n                      />\n                    </div>\n                    <div className='compose-footer-wrapper'>\n                      <div className='btn-wrapper d-flex align-items-center'>\n                        <Button outline color='primary' onClick={() => { sendMail() }}>Send</Button>\n                        <div className='email-attachement rounded border p-50 ms-50'>\n                          {invoice.uniqueno}.pdf\n                        </div>\n                      </div>\n                      <div className='footer-action d-flex align-items-center'>\n                        <Trash className='cursor-pointer' size={18} onClick={toggleSidebar} />\n                      </div>\n                    </div>\n                  </Form>\n                </ModalBody>\n              </UILoader>\n            </Modal>\n          </div></div></div>\n    </div>\n\n  )\n}\n\nexport default SidebarSendInvoice\n","// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nimport { parser } from '../helper/hepler'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  //  const accountTypeArr = ['', 'Saving', 'Current']\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n  const [invoiceTaxes, setInvoiceTaxes] = useState([])\n\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n\n    str += (Number(n[1]) !== 0) ? (Number(n[1]) <= 19 ? ` ${a[Number(n[1])]}core` : ` ${b[Number(n[1][0])]} ${a[Number(n[1][1])]}crore`) : ''\n\n    str += (Number(n[2]) !== 0) ? (Number(n[2]) <= 19 ? ` ${a[Number(n[2])]}lakh` : ` ${b[Number(n[2][0])]} ${a[Number(n[2][1])]}lakh`) : ''\n\n    str += (Number(n[3]) !== 0) ? (Number(n[3]) <= 19 ? ` ${a[Number(n[3])]}thousand` : ` ${b[Number(n[3][0])]} ${a[Number(n[3][1])]}thousand`) : ''\n\n    str += (Number(n[4]) !== 0) ? (Number(n[4]) <= 19 ? ` ${a[Number(n[4])]}hundred` : ` ${b[Number(n[4])]}hundred`) : ''\n    n[5] = String(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? ' and ' : ''} ${a[Number(n[5])] || `${b[Number(n[5][0])]} ${a[Number(n[5][1])]}`}`) : ''\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt?.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n\n  const indianFormattedPrice = (val) => {\n\n    const value = String(val)\n\n    let removedValue = ''\n    let finalVal = ''\n    if (value.includes('.')) {\n      removedValue = value.slice(value.indexOf('.'))\n      finalVal = value.replace(removedValue, '')\n      finalVal = finalVal.toString()\n    } else {\n      finalVal = value.toString()\n    }\n    let lastThree = finalVal.substring(finalVal.length - 3)\n    const otherNumbers = finalVal.substring(0, finalVal.length - 3)\n    if (otherNumbers !== '') lastThree = `,${lastThree}`\n    const res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree\n    return res + (removedValue === '' ? '.00' : removedValue)\n  }\n\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} ${amount.split(\".\")[1] !== undefined ? `and Paise ${inWords(amount.split(\".\")[1])} Only` : ''}`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name?.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    setInvoiceTaxes(parser(data.calculatetaxes))\n\n    const res = await dispatch(getInvoiceItems(id))\n    setInvoiceItems(res.payload)\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col><Badge color='light-primary'> <span className='text-md'>Draft</span></Badge></Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid === null ? renderOrg(activeOrg.name) : <img referrerPolicy=\"no-referrer\" className='rounded me-50' height={75} width={75} src={`https://drive.google.com/thumbnail?id=${activeOrg.imageid}&authuser=0`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Profoma Invoice</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between'>\n            <div className='col col-12 col-md-6'>\n              <div className='logo-wrapper mb-0 mb-lg-2'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>\n              {data?.isgstregistered && <CardText className='mb-0'>GSTIN - {activeOrg.gstin} &nbsp;&nbsp; State Code : {activeOrg.gstin.substr(0, 2)}</CardText>}\n            </div>\n\n            <div className='mt-lg-3 mt-1 col-md-3 col-12'>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='col-6 mb-25'>\n                  Invoice\n                </p>\n                <p className='col-6 m-25 invoice-date text-end '>{data.uniqueno}</p>\n              </div>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='invoice-date-title col-6'>Date Issued:</p>\n                <p className='invoice-date col-6 text-end'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date text-end'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between mt-1'>\n            <Col className='p-0 col-12 col-md-9' >\n              <h6 className='mb-2'>Invoice To:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n              <CardText className='mb-25'>{data.billingaddressstate}</CardText>\n              {data?.isgstregistered && <CardText className='mb-25'>GSTIN - {data.gstin}</CardText>}\n            </Col>\n            <Col className='p-0 col-12 col-md-3'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table className='col-12'>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td className='text-end'>\n                      <span className='fw-bold'>{indianFormattedPrice(parseFloat(data.dueamount).toFixed(2))} {data?.billingcurrencysymbol}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td className='text-end'>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td className='text-end'><p className='text-end m-0 text-overflow-ellipsis'>{data.bankaccountholdername}</p>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td className='text-end'>{data.bankaccountbranchname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>IFSC code:</td>\n                    <td className='text-end'>{data.bankaccountifsccode}</td>\n                  </tr>\n                  {/* <tr>\n                    <td className='pe-1'>Account Type:</td>\n                    <td className='text-end'>{accountTypeArr[data.accounttype]}</td>\n                  </tr> */}\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            {data?.isgstregistered &&\n              <Col className='p-0' xl='8'>\n                <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyname}</CardText>\n                <CardText className='mb-25'>State: {data.placeofsupplyname} &nbsp;&nbsp;State Code:  </CardText>\n              </Col>\n            }\n            <Col className='p-0 mt-xl-0 mt-2' md='3' sm='6'>\n              <table className='col-12'>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td className='text-end'>{data.billingcurrencyshortname}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Invoice Description */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              {data?.isgstregistered && <th className='py-1'>SAC Code</th>}\n              <th className='py-1'>Price</th>\n              {data?.isgstregistered && <th className='py-1'>Tax</th>}\n              <th className='py-1'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                    <p className='card-text text-nowrap'>\n                      {item.description}\n                    </p>\n                  </td>\n                  {data?.isgstregistered && <td className='py-1'>\n                    <span className='fw-bold'>{item.sacCode}</span>\n                  </td>}\n                  <td className='py-1'>\n                    <span className='fw-bold'>{indianFormattedPrice(item.price)} {data?.billingcurrencysymbol}</span>\n                  </td>\n                  {data?.isgstregistered &&\n                    <td className='py-1'>\n                      <span className='fw-bold'>\n                        {\n                          item.taxes.map((obj, k) => {\n                            return (<Row key={k}><span>{obj.taxName || obj.tax_name} - {indianFormattedPrice(obj.taxAmount) || indianFormattedPrice(obj.tax_amount_calculated)}</span></Row>)\n                          })\n                        }\n                        {\n                          item.isTaxApplicable === false && (<Row>\n                            <span>{item.taxGroupName}</span>\n                            <span>{item.exemptionReasonName}</span></Row>)\n                        }\n                      </span>\n                    </td>\n                  }\n                  <td className='py-1'>\n                    <span className='fw-bold'>{indianFormattedPrice(item.subTotalAmount)} {data?.billingcurrencysymbol}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Invoice Description */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              <b>Total In Words </b>: {amountInwords(data.totalamount)}\n\n              {data.isgstregistered !== 'IN' &&\n\n                <p className='font-weight-800 mt-1'>Amount in {activeOrg.currencycode} : {parseFloat(data.totalamount * data.convertionrate).toFixed(2)} </p>\n              }\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>{data?.isgstregistered && 'Pre Tax'} Amount:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.subtotalamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n                {data?.isgstregistered && (\n                  <div>\n                    {\n                      invoiceTaxes.length > 0 &&\n                      invoiceTaxes.map((obj, key) => {\n                        return (\n                          <div className='invoice-total-item' key={key}>\n                            <p className='invoice-total-title'>{obj.taxName || `${obj.tax_name}${obj.tax_percentage}%`}</p>\n                            <p className='invoice-total-amount'>{indianFormattedPrice(obj.taxAmount) || indianFormattedPrice(obj.tax_amount)} {data?.billingcurrencysymbol}</p>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>)\n                }\n                <div className='invoice-total-item text-primary'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.totalamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n                <hr className='my-50' />\n                <div className='invoice-total-item text-success'>\n                  <p className='invoice-total-title'>Paid:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.totalamount - data.dueamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n                <div className='invoice-total-item text-danger'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.dueamount)} {data?.billingcurrencysymbol}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Invoice Note */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Invoice Note */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nimport { parser } from '../helper/hepler'\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  const accountTypeArr = ['', 'Savings', 'Checking']\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n  const [invoiceTaxes, setInvoiceTaxes] = useState([])\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n  const paymentstatusObj = [\n    { id: '', name: \"Select All\" },\n    { id: '5', name: \"Pending\", color: 'light-danger' },\n    { id: '6', name: \"Partially Paid\", color: 'light-warning' },\n    { id: '7', name: 'Paid', color: 'light-success' },\n    { id: '11', name: 'Sent', color: 'light-secondary' }\n  ]\n  const renderStatus = (val) => {\n    const obj = paymentstatusObj.find((o) => parseInt(o.id) === parseInt(val))\n    return obj\n  }\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n    n[1] = Number(n[1])\n    str += (Number(n[1]) !== 0) ? (`${a[Number(n[1])] || b[n[1][0]]} ${isNaN(Number(n[1][1])) ? '' : a[n[1][1]]} crore `) : ''\n    n[2] = Number(n[2])\n    str += (Number(n[2]) !== 0) ? (`${a[Number(n[2])] || b[n[2][0]]} ${isNaN(Number(n[2][1])) ? '' : a[n[2][1]]}lakh `) : ''\n    n[3] = Number(n[3])\n    str += (Number(n[3]) !== 0) ? (`${a[Number(n[3])] || b[n[3][0]]} ${isNaN(Number(n[3][1])) ? '' : a[n[3][1]]}thousand `) : ''\n    n[4] = Number(n[4])\n    str += (Number(n[4]) !== 0) ? (`${a[Number(n[4])] || b[n[4][0]]} hundred `) : ''\n    n[5] = Number(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? 'and ' : ''}${a[Number(n[5])] || b[n[5][0]]}`) : 'Zero'\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt?.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} and Paise ${inWords(amount.split(\".\")[1])} Only`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name?.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    setInvoiceTaxes(parser(data.calculatetaxes))\n\n    const res = await dispatch(getInvoiceItems(id))\n    await setInvoiceItems(res.payload)\n\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col>\n        <Badge color={renderStatus(data.paymentstatus).color || 'light-primary'}>{renderStatus(data.paymentstatus).name || data.paymentstatus}</Badge>\n      </Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid ? renderOrg(activeOrg.name) : <img className='rounded me-50' height={75} width={75} referrerPolicy=\"no-referrer\" src={`https://drive.google.com/thumbnail?id=${activeOrg.imageid}&authuser=0`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Profoma Invoice</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex align-items-center justify-content-between'>\n            <div>\n              <div className='logo-wrapper'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>\n\n            </div>\n\n            <div className='mt-3 col-md-4'>\n              <div className='invoice-date-wrapper'>\n                <h4 className=''>\n                  Profoma Invoice<span className='invoice-number'>{data.uniqueno}</span>\n                </h4>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Date Issued:</p>\n                <p className='invoice-date'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' md='8'>\n              <h6 className='mb-2'>Profoma InvoiceTo:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n              <CardText className='mb-25'>{data.billingaddressstate}</CardText>\n            </Col>\n            <Col className='p-0' md='4'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td>\n                      <span className='fw-bold'>{data.dueamount}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td>{data.bankaccountholdername}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td>{data.bankaccountbranchname}</td>\n                  </tr>\n\n                  <tr>\n                    <td className='pe-1'>Account Type:</td>\n                    <td>{accountTypeArr[data.bankaccounttype]}</td>\n                  </tr>\n\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' xl='8'>\n              <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyothers}</CardText>\n            </Col>\n            <Col className='p-0 mt-xl-0 mt-2' xl='4'>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td>{data.billingcurrencyshortname}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Profoma InvoiceDescription */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              <th className='py-1'>Description</th>\n              <th className='py-1'>Price</th>\n              <th className='py-1'>Tax</th>\n              <th className='py-1'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.description}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.price}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>\n                      {\n                        item.taxes.map((obj, k) => {\n                          return (<Row key={k}><span>{obj.taxName || obj.tax_name} - {obj.taxAmount || obj.tax_amount_calculated}</span></Row>)\n                        })\n                      }\n                    </span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.subTotalAmount}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Profoma InvoiceDescription */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              {amountInwords(data.totalamount)}\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{data.totalamount}</p>\n                </div>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Pre Tax Amount:</p>\n                  <p className='invoice-total-amount'>{data.subtotalamount}</p>\n                </div>\n\n                {!data.isrcmapplicable && (\n                  <div>\n                    {\n                      invoiceTaxes.length > 0 &&\n                      invoiceTaxes.map((obj, key) => {\n                        return (\n                          <div className='invoice-total-item' key={key}>\n                            <p className='invoice-total-title'>{obj.taxName || `${obj.tax_name}${obj.tax_percentage}%`}</p>\n                            <p className='invoice-total-amount'>{obj.taxAmount || obj.tax_amount}</p>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>)\n                }\n                <hr className='my-50' />\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{data.dueamount}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Profoma InvoiceNote */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Profoma InvoiceNote */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** React Imports\nimport { Link } from 'react-router-dom'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Card, CardBody, Button, Col, Row, Badge } from 'reactstrap'\nimport { Can } from '@src/utility/context/Can.js'\nimport { useEffect, useState } from 'react'\nconst PreviewActions = ({ id, setSendSidebarOpen, setMarkAsInvoice, invoice }) => {\n\n  const [participants, setParticipants] = useState([])\n\n  const downloadPdf = () => {\n    axios.post('/pdfmaker/pdf', { id: invoice.id })\n      .then((res) => {\n        const downloadLink = document.createElement(\"a\")\n        const fileName = `${invoice.uniqueno}.pdf`\n        downloadLink.href = res.data.pdf\n        downloadLink.download = fileName\n        downloadLink.click()\n        document.removeChild(downloadLink)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  const getParticipants = () => {\n\n    axios.post('/taskinvoices/getparticipants', { invoiceId: invoice.id })\n      .then((res) => { setParticipants(res.data.taskinvoiceparticipants) })\n      .catch((err) => { console.log(err) })\n\n  }\n\n  useEffect(() => {\n    getParticipants()\n  }, [])\n\n  return (\n    <Card className='invoice-action-wrapper'>\n      <CardBody>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='primary' block className='mb-75' onClick={() => setSendSidebarOpen(true)}>\n            Send Proposal\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button color='primary' outline block className='mb-75' onClick={() => setMarkAsInvoice(true)}>\n            Mark as Invoice\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { downloadPdf() }}>\n            Download\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { window.print() }}>\n            Print\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button tag={Link} to={`/invoice/edit/${id}`} color='secondary' block outline className='mb-75'>\n            Edit\n          </Button>\n        </Can>\n\n        {participants.length > 0 &&\n          <Col className='mt-2'>\n            <h4>Tagged Employees</h4>\n            <Row className='mt-1'>\n              {\n                participants.map((user, k) => {\n                  return <Badge key={k} className='mt-md-75 py-md-75' color='primary'>{user.name}</Badge>\n                })\n              }\n            </Row>\n          </Col>\n        }\n\n        <Col className='mt-2'>\n\n          <Row className='mt-1'>\n            <h5>Task ID</h5>\n            <Col md={12} tag={Link} to={`/task/view/${invoice.taskid}`}>{invoice.uniqueidentity}</Col>\n          </Row>\n\n          <Row className='mt-1'>\n            <h5>Task Description</h5>\n            <Col md={12}>{invoice.description}</Col>\n          </Row>\n        </Col>\n\n      </CardBody>\n    </Card>\n  )\n}\n\n\nexport default PreviewActions\n","// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { useParams, Link, useNavigate } from 'react-router-dom'\n\n// ** Reactstrap Imports\nimport { Row, Col, Alert, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'\n\n// ** Invoice Preview Components\nimport PreviewCard from './PreviewCard'\nimport PreviewCardINT from './PreviewCardINT'\nimport PreviewActions from './PreviewActions'\nimport SendInvoiceSidebar from '../shared-sidebar/SidebarSendInvoice'\n\n// ** Styles\nimport '@styles/base/pages/app-invoice.scss'\nimport { User, Lock } from 'react-feather'\nimport { markAsInvoice, getInvoice } from '../store/index'\n\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst MySwal = withReactContent(Swal)\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nconst InvoicePreview = () => {\n  // ** HooksVars\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  // ** States\n  const [sendSidebarOpen, setSendSidebarOpen] = useState(false)\n  const [active, setActive] = useState('1')\n  // ** Functions to toggle add & send sidebar\n  const toggleSendSidebar = () => setSendSidebarOpen(!sendSidebarOpen)\n  const store = useSelector(state => state.proposal)\n  const getInvoiceLoc = async () => {\n\n    await dispatch(getInvoice(id))\n\n  }\n\n  useEffect(() => {\n    getInvoiceLoc()\n  }, [])\n\n  const setMarkAsInvoice = () => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, Mark As Invoice!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(markAsInvoice(id))\n\n        MySwal.fire({\n          icon: 'success',\n          title: 'Mark as Invoice.',\n          text: 'Proposal Marked As Invoice.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n        navigate(`/invoice/view/${id}`)\n      }\n    })\n  }\n\n  const toggleTab = tab => {\n    if (active !== tab) {\n      setActive(tab)\n    }\n  }\n\n  // ** Get invoice on mount based on id\n\n  return store.selectedInvoice !== null && store.selectedInvoice !== undefined ? (\n    <div className='invoice-preview-wrapper'>\n      <Row className='invoice-preview'>\n        <Col xl={10} md={8} sm={12}>\n\n          <Nav pills className='mb-2'>\n            <NavItem>\n              <NavLink active={active === '1'} onClick={() => toggleTab('1')}>\n                <User className='font-medium-3 me-50' />\n                <span className='fw-bold'>Profoma Invoice</span>\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <TabContent activeTab={active}>\n            <TabPane tabId='1'>\n              {activeOrg.countryshortname === 'IN' ? <PreviewCard data={store.selectedInvoice} tabId={active} /> : <PreviewCardINT data={store.selectedInvoice} tabId={active} />}\n            </TabPane>\n          </TabContent>\n\n        </Col>\n        <Col xl={2} md={4} sm={12}>\n          <PreviewActions id={id} setSendSidebarOpen={setSendSidebarOpen} setMarkAsInvoice={setMarkAsInvoice} invoice={store.selectedInvoice} />\n        </Col>\n      </Row>\n      <SendInvoiceSidebar toggleSidebar={toggleSendSidebar} open={sendSidebarOpen} invoice={store.selectedInvoice} />\n    </div>\n  ) : (\n    <Alert color='danger'>\n      <h4 className='alert-heading'>Profoma Invoice not found</h4>\n      <div className='alert-body'>\n        Profoma Invoice with id: {id} doesn't exist. Check list of all Profoma Invoice:{' '}\n        <Link to='/Proposal/list'>Profoma Invoice List</Link>\n      </div>\n    </Alert>\n  )\n}\n\nexport default InvoicePreview\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.draftjsToHtml = factory());\n}(this, (function () { 'use strict';\n\n  /**\n  * Utility function to execute callback for eack key->value pair.\n  */\n  function forEach(obj, callback) {\n    if (obj) {\n      for (var key in obj) {\n        // eslint-disable-line no-restricted-syntax\n        if ({}.hasOwnProperty.call(obj, key)) {\n          callback(key, obj[key]);\n        }\n      }\n    }\n  }\n  /**\n  * The function returns true if the string passed to it has no content.\n  */\n\n  function isEmptyString(str) {\n    if (str === undefined || str === null || str.length === 0 || str.trim().length === 0) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n  * Mapping block-type to corresponding html tag.\n  */\n\n  var blockTypesMapping = {\n    unstyled: 'p',\n    'header-one': 'h1',\n    'header-two': 'h2',\n    'header-three': 'h3',\n    'header-four': 'h4',\n    'header-five': 'h5',\n    'header-six': 'h6',\n    'unordered-list-item': 'ul',\n    'ordered-list-item': 'ol',\n    blockquote: 'blockquote',\n    code: 'pre'\n  };\n  /**\n  * Function will return HTML tag for a block.\n  */\n\n  function getBlockTag(type) {\n    return type && blockTypesMapping[type];\n  }\n  /**\n  * Function will return style string for a block.\n  */\n\n  function getBlockStyle(data) {\n    var styles = '';\n    forEach(data, function (key, value) {\n      if (value) {\n        styles += \"\".concat(key, \":\").concat(value, \";\");\n      }\n    });\n    return styles;\n  }\n  /**\n  * The function returns an array of hashtag-sections in blocks.\n  * These will be areas in block which have hashtags applicable to them.\n  */\n\n  function getHashtagRanges(blockText, hashtagConfig) {\n    var sections = [];\n\n    if (hashtagConfig) {\n      var counter = 0;\n      var startIndex = 0;\n      var text = blockText;\n      var trigger = hashtagConfig.trigger || '#';\n      var separator = hashtagConfig.separator || ' ';\n\n      for (; text.length > 0 && startIndex >= 0;) {\n        if (text[0] === trigger) {\n          startIndex = 0;\n          counter = 0;\n          text = text.substr(trigger.length);\n        } else {\n          startIndex = text.indexOf(separator + trigger);\n\n          if (startIndex >= 0) {\n            text = text.substr(startIndex + (separator + trigger).length);\n            counter += startIndex + separator.length;\n          }\n        }\n\n        if (startIndex >= 0) {\n          var endIndex = text.indexOf(separator) >= 0 ? text.indexOf(separator) : text.length;\n          var hashtag = text.substr(0, endIndex);\n\n          if (hashtag && hashtag.length > 0) {\n            sections.push({\n              offset: counter,\n              length: hashtag.length + trigger.length,\n              type: 'HASHTAG'\n            });\n          }\n\n          counter += trigger.length;\n        }\n      }\n    }\n\n    return sections;\n  }\n  /**\n  * The function returns an array of entity-sections in blocks.\n  * These will be areas in block which have same entity or no entity applicable to them.\n  */\n\n\n  function getSections(block, hashtagConfig) {\n    var sections = [];\n    var lastOffset = 0;\n    var sectionRanges = block.entityRanges.map(function (range) {\n      var offset = range.offset,\n          length = range.length,\n          key = range.key;\n      return {\n        offset: offset,\n        length: length,\n        key: key,\n        type: 'ENTITY'\n      };\n    });\n    sectionRanges = sectionRanges.concat(getHashtagRanges(block.text, hashtagConfig));\n    sectionRanges = sectionRanges.sort(function (s1, s2) {\n      return s1.offset - s2.offset;\n    });\n    sectionRanges.forEach(function (r) {\n      if (r.offset > lastOffset) {\n        sections.push({\n          start: lastOffset,\n          end: r.offset\n        });\n      }\n\n      sections.push({\n        start: r.offset,\n        end: r.offset + r.length,\n        entityKey: r.key,\n        type: r.type\n      });\n      lastOffset = r.offset + r.length;\n    });\n\n    if (lastOffset < block.text.length) {\n      sections.push({\n        start: lastOffset,\n        end: block.text.length\n      });\n    }\n\n    return sections;\n  }\n  /**\n  * Function to check if the block is an atomic entity block.\n  */\n\n\n  function isAtomicEntityBlock(block) {\n    if (block.entityRanges.length > 0 && (isEmptyString(block.text) || block.type === 'atomic')) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n  * The function will return array of inline styles applicable to the block.\n  */\n\n\n  function getStyleArrayForBlock(block) {\n    var text = block.text,\n        inlineStyleRanges = block.inlineStyleRanges;\n    var inlineStyles = {\n      BOLD: new Array(text.length),\n      ITALIC: new Array(text.length),\n      UNDERLINE: new Array(text.length),\n      STRIKETHROUGH: new Array(text.length),\n      CODE: new Array(text.length),\n      SUPERSCRIPT: new Array(text.length),\n      SUBSCRIPT: new Array(text.length),\n      COLOR: new Array(text.length),\n      BGCOLOR: new Array(text.length),\n      FONTSIZE: new Array(text.length),\n      FONTFAMILY: new Array(text.length),\n      length: text.length\n    };\n\n    if (inlineStyleRanges && inlineStyleRanges.length > 0) {\n      inlineStyleRanges.forEach(function (range) {\n        var offset = range.offset;\n        var length = offset + range.length;\n\n        for (var i = offset; i < length; i += 1) {\n          if (range.style.indexOf('color-') === 0) {\n            inlineStyles.COLOR[i] = range.style.substring(6);\n          } else if (range.style.indexOf('bgcolor-') === 0) {\n            inlineStyles.BGCOLOR[i] = range.style.substring(8);\n          } else if (range.style.indexOf('fontsize-') === 0) {\n            inlineStyles.FONTSIZE[i] = range.style.substring(9);\n          } else if (range.style.indexOf('fontfamily-') === 0) {\n            inlineStyles.FONTFAMILY[i] = range.style.substring(11);\n          } else if (inlineStyles[range.style]) {\n            inlineStyles[range.style][i] = true;\n          }\n        }\n      });\n    }\n\n    return inlineStyles;\n  }\n  /**\n  * The function will return inline style applicable at some offset within a block.\n  */\n\n\n  function getStylesAtOffset(inlineStyles, offset) {\n    var styles = {};\n\n    if (inlineStyles.COLOR[offset]) {\n      styles.COLOR = inlineStyles.COLOR[offset];\n    }\n\n    if (inlineStyles.BGCOLOR[offset]) {\n      styles.BGCOLOR = inlineStyles.BGCOLOR[offset];\n    }\n\n    if (inlineStyles.FONTSIZE[offset]) {\n      styles.FONTSIZE = inlineStyles.FONTSIZE[offset];\n    }\n\n    if (inlineStyles.FONTFAMILY[offset]) {\n      styles.FONTFAMILY = inlineStyles.FONTFAMILY[offset];\n    }\n\n    if (inlineStyles.UNDERLINE[offset]) {\n      styles.UNDERLINE = true;\n    }\n\n    if (inlineStyles.ITALIC[offset]) {\n      styles.ITALIC = true;\n    }\n\n    if (inlineStyles.BOLD[offset]) {\n      styles.BOLD = true;\n    }\n\n    if (inlineStyles.STRIKETHROUGH[offset]) {\n      styles.STRIKETHROUGH = true;\n    }\n\n    if (inlineStyles.CODE[offset]) {\n      styles.CODE = true;\n    }\n\n    if (inlineStyles.SUBSCRIPT[offset]) {\n      styles.SUBSCRIPT = true;\n    }\n\n    if (inlineStyles.SUPERSCRIPT[offset]) {\n      styles.SUPERSCRIPT = true;\n    }\n\n    return styles;\n  }\n  /**\n  * Function returns true for a set of styles if the value of these styles at an offset\n  * are same as that on the previous offset.\n  */\n\n  function sameStyleAsPrevious(inlineStyles, styles, index) {\n    var sameStyled = true;\n\n    if (index > 0 && index < inlineStyles.length) {\n      styles.forEach(function (style) {\n        sameStyled = sameStyled && inlineStyles[style][index] === inlineStyles[style][index - 1];\n      });\n    } else {\n      sameStyled = false;\n    }\n\n    return sameStyled;\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n  function addInlineStyleMarkup(style, content) {\n    if (style === 'BOLD') {\n      return \"<strong>\".concat(content, \"</strong>\");\n    }\n\n    if (style === 'ITALIC') {\n      return \"<em>\".concat(content, \"</em>\");\n    }\n\n    if (style === 'UNDERLINE') {\n      return \"<ins>\".concat(content, \"</ins>\");\n    }\n\n    if (style === 'STRIKETHROUGH') {\n      return \"<del>\".concat(content, \"</del>\");\n    }\n\n    if (style === 'CODE') {\n      return \"<code>\".concat(content, \"</code>\");\n    }\n\n    if (style === 'SUPERSCRIPT') {\n      return \"<sup>\".concat(content, \"</sup>\");\n    }\n\n    if (style === 'SUBSCRIPT') {\n      return \"<sub>\".concat(content, \"</sub>\");\n    }\n\n    return content;\n  }\n  /**\n  * The function returns text for given section of block after doing required character replacements.\n  */\n\n  function getSectionText(text) {\n    if (text && text.length > 0) {\n      var chars = text.map(function (ch) {\n        switch (ch) {\n          case '\\n':\n            return '<br>';\n\n          case '&':\n            return '&amp;';\n\n          case '<':\n            return '&lt;';\n\n          case '>':\n            return '&gt;';\n\n          default:\n            return ch;\n        }\n      });\n      return chars.join('');\n    }\n\n    return '';\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n\n  function addStylePropertyMarkup(styles, text) {\n    if (styles && (styles.COLOR || styles.BGCOLOR || styles.FONTSIZE || styles.FONTFAMILY)) {\n      var styleString = 'style=\"';\n\n      if (styles.COLOR) {\n        styleString += \"color: \".concat(styles.COLOR, \";\");\n      }\n\n      if (styles.BGCOLOR) {\n        styleString += \"background-color: \".concat(styles.BGCOLOR, \";\");\n      }\n\n      if (styles.FONTSIZE) {\n        styleString += \"font-size: \".concat(styles.FONTSIZE).concat(/^\\d+$/.test(styles.FONTSIZE) ? 'px' : '', \";\");\n      }\n\n      if (styles.FONTFAMILY) {\n        styleString += \"font-family: \".concat(styles.FONTFAMILY, \";\");\n      }\n\n      styleString += '\"';\n      return \"<span \".concat(styleString, \">\").concat(text, \"</span>\");\n    }\n\n    return text;\n  }\n  /**\n  * Function will return markup for Entity.\n  */\n\n  function getEntityMarkup(entityMap, entityKey, text, customEntityTransform) {\n    var entity = entityMap[entityKey];\n\n    if (typeof customEntityTransform === 'function') {\n      var html = customEntityTransform(entity, text);\n\n      if (html) {\n        return html;\n      }\n    }\n\n    if (entity.type === 'MENTION') {\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" class=\\\"wysiwyg-mention\\\" data-mention data-value=\\\"\").concat(entity.data.value, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'LINK') {\n      var targetOption = entity.data.targetOption || '_self';\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" target=\\\"\").concat(targetOption, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'IMAGE') {\n      var alignment = entity.data.alignment;\n\n      if (alignment && alignment.length) {\n        return \"<div style=\\\"text-align:\".concat(alignment, \";\\\"><img src=\\\"\").concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/></div>\");\n      }\n\n      return \"<img src=\\\"\".concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/>\");\n    }\n\n    if (entity.type === 'EMBEDDED_LINK') {\n      return \"<iframe width=\\\"\".concat(entity.data.width, \"\\\" height=\\\"\").concat(entity.data.height, \"\\\" src=\\\"\").concat(entity.data.src, \"\\\" frameBorder=\\\"0\\\"></iframe>\");\n    }\n\n    return text;\n  }\n  /**\n  * For a given section in a block the function will return a further list of sections,\n  * with similar inline styles applicable to them.\n  */\n\n\n  function getInlineStyleSections(block, styles, start, end) {\n    var styleSections = [];\n    var text = Array.from(block.text);\n\n    if (text.length > 0) {\n      var inlineStyles = getStyleArrayForBlock(block);\n      var section;\n\n      for (var i = start; i < end; i += 1) {\n        if (i !== start && sameStyleAsPrevious(inlineStyles, styles, i)) {\n          section.text.push(text[i]);\n          section.end = i + 1;\n        } else {\n          section = {\n            styles: getStylesAtOffset(inlineStyles, i),\n            text: [text[i]],\n            start: i,\n            end: i + 1\n          };\n          styleSections.push(section);\n        }\n      }\n    }\n\n    return styleSections;\n  }\n  /**\n  * Replace leading blank spaces by &nbsp;\n  */\n\n\n  function trimLeadingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = 0; i < replacedText.length; i += 1) {\n        if (sectionText[i] === ' ') {\n          replacedText = replacedText.replace(' ', '&nbsp;');\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * Replace trailing blank spaces by &nbsp;\n  */\n\n  function trimTrailingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = replacedText.length - 1; i >= 0; i -= 1) {\n        if (replacedText[i] === ' ') {\n          replacedText = \"\".concat(replacedText.substring(0, i), \"&nbsp;\").concat(replacedText.substring(i + 1));\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  * like BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE, SUPERSCRIPT, SUBSCRIPT are applicable.\n  */\n\n  function getStyleTagSectionMarkup(styleSection) {\n    var styles = styleSection.styles,\n        text = styleSection.text;\n    var content = getSectionText(text);\n    forEach(styles, function (style, value) {\n      content = addInlineStyleMarkup(style, content);\n    });\n    return content;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  like color, background-color, font-size are applicable.\n  */\n\n\n  function getInlineStyleSectionMarkup(block, styleSection) {\n    var styleTagSections = getInlineStyleSections(block, ['BOLD', 'ITALIC', 'UNDERLINE', 'STRIKETHROUGH', 'CODE', 'SUPERSCRIPT', 'SUBSCRIPT'], styleSection.start, styleSection.end);\n    var styleSectionText = '';\n    styleTagSections.forEach(function (stylePropertySection) {\n      styleSectionText += getStyleTagSectionMarkup(stylePropertySection);\n    });\n    styleSectionText = addStylePropertyMarkup(styleSection.styles, styleSectionText);\n    return styleSectionText;\n  }\n  /*\n  * The method returns markup for an entity section.\n  * An entity section is a continuous section in a block\n  * to which same entity or no entity is applicable.\n  */\n\n\n  function getSectionMarkup(block, entityMap, section, customEntityTransform) {\n    var entityInlineMarkup = [];\n    var inlineStyleSections = getInlineStyleSections(block, ['COLOR', 'BGCOLOR', 'FONTSIZE', 'FONTFAMILY'], section.start, section.end);\n    inlineStyleSections.forEach(function (styleSection) {\n      entityInlineMarkup.push(getInlineStyleSectionMarkup(block, styleSection));\n    });\n    var sectionText = entityInlineMarkup.join('');\n\n    if (section.type === 'ENTITY') {\n      if (section.entityKey !== undefined && section.entityKey !== null) {\n        sectionText = getEntityMarkup(entityMap, section.entityKey, sectionText, customEntityTransform); // eslint-disable-line max-len\n      }\n    } else if (section.type === 'HASHTAG') {\n      sectionText = \"<a href=\\\"\".concat(sectionText, \"\\\" class=\\\"wysiwyg-hashtag\\\">\").concat(sectionText, \"</a>\");\n    }\n\n    return sectionText;\n  }\n  /**\n  * Function will return the markup for block preserving the inline styles and\n  * special characters like newlines or blank spaces.\n  */\n\n\n  function getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform) {\n    var blockMarkup = [];\n    var sections = getSections(block, hashtagConfig);\n    sections.forEach(function (section, index) {\n      var sectionText = getSectionMarkup(block, entityMap, section, customEntityTransform);\n\n      if (index === 0) {\n        sectionText = trimLeadingZeros(sectionText);\n      }\n\n      if (index === sections.length - 1) {\n        sectionText = trimTrailingZeros(sectionText);\n      }\n\n      blockMarkup.push(sectionText);\n    });\n    return blockMarkup.join('');\n  }\n  /**\n  * Function will return html for the block.\n  */\n\n  function getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var blockHtml = [];\n\n    if (isAtomicEntityBlock(block)) {\n      blockHtml.push(getEntityMarkup(entityMap, block.entityRanges[0].key, undefined, customEntityTransform));\n    } else {\n      var blockTag = getBlockTag(block.type);\n\n      if (blockTag) {\n        blockHtml.push(\"<\".concat(blockTag));\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          blockHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          blockHtml.push(' dir = \"auto\"');\n        }\n\n        blockHtml.push('>');\n        blockHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        blockHtml.push(\"</\".concat(blockTag, \">\"));\n      }\n    }\n\n    blockHtml.push('\\n');\n    return blockHtml.join('');\n  }\n\n  /**\n  * Function to check if a block is of type list.\n  */\n\n  function isList(blockType) {\n    return blockType === 'unordered-list-item' || blockType === 'ordered-list-item';\n  }\n  /**\n  * Function will return html markup for a list block.\n  */\n\n  function getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var listHtml = [];\n    var nestedListBlock = [];\n    var previousBlock;\n    listBlocks.forEach(function (block) {\n      var nestedBlock = false;\n\n      if (!previousBlock) {\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.type !== block.type) {\n        listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.depth === block.depth) {\n        if (nestedListBlock && nestedListBlock.length > 0) {\n          listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n          nestedListBlock = [];\n        }\n      } else {\n        nestedBlock = true;\n        nestedListBlock.push(block);\n      }\n\n      if (!nestedBlock) {\n        listHtml.push('<li');\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          listHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          listHtml.push(' dir = \"auto\"');\n        }\n\n        listHtml.push('>');\n        listHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        listHtml.push('</li>\\n');\n        previousBlock = block;\n      }\n    });\n\n    if (nestedListBlock && nestedListBlock.length > 0) {\n      listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n    }\n\n    listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n    return listHtml.join('');\n  }\n\n  /**\n  * The function will generate html markup for given draftjs editorContent.\n  */\n\n  function draftToHtml(editorContent, hashtagConfig, directional, customEntityTransform) {\n    var html = [];\n\n    if (editorContent) {\n      var blocks = editorContent.blocks,\n          entityMap = editorContent.entityMap;\n\n      if (blocks && blocks.length > 0) {\n        var listBlocks = [];\n        blocks.forEach(function (block) {\n          if (isList(block.type)) {\n            listBlocks.push(block);\n          } else {\n            if (listBlocks.length > 0) {\n              var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, customEntityTransform); // eslint-disable-line max-len\n\n              html.push(listHtml);\n              listBlocks = [];\n            }\n\n            var blockHtml = getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform);\n            html.push(blockHtml);\n          }\n        });\n\n        if (listBlocks.length > 0) {\n          var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform); // eslint-disable-line max-len\n\n          html.push(listHtml);\n          listBlocks = [];\n        }\n      }\n    }\n\n    return html.join('');\n  }\n\n  return draftToHtml;\n\n})));\n","import { I as cleanValue, D as valueTernary, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { g as getOptionValue, a as getOptionLabel } from './Select-09b3775e.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\n\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\n\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n      allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n      _ref$createOptionPosi = _ref.createOptionPosition,\n      createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n      _ref$formatCreateLabe = _ref.formatCreateLabel,\n      formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n      _ref$isValidNewOption = _ref.isValidNewOption,\n      isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n      _ref$getNewOptionData = _ref.getNewOptionData,\n      getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n      onCreateOption = _ref.onCreateOption,\n      _ref$options = _ref.options,\n      propsOptions = _ref$options === void 0 ? [] : _ref$options,\n      propsOnChange = _ref.onChange,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n      getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n      _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n      getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n      inputValue = restSelectProps.inputValue,\n      isLoading = restSelectProps.isLoading,\n      isMulti = restSelectProps.isMulti,\n      value = restSelectProps.value,\n      name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport React from 'react';\nimport { S as Select } from '../../dist/Select-09b3775e.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-783b07d5.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-00a6568c.esm.js';\nimport '../../dist/index-c7a4d7ce.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\nimport '@babel/runtime/helpers/slicedToArray';\n\nvar CreatableSelect = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var creatableProps = useStateManager(props);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\n\nexport default CreatableSelect;\n","export const calculateTax = (amount, taxRateInPercentage, TaxType) => {\n    let calculatedTax = 0\n    if (TaxType === 1) { //Inclusive\n        calculatedTax = parseFloat(amount) - (parseFloat(amount) * (100 / (100 + parseFloat(taxRateInPercentage))))\n        // calculatedTax = parseFloat(amount) - parseFloat(calculatedTax);\n\n    } else if (TaxType === 2) { //Exclusive\n        calculatedTax = (parseFloat(amount) * parseFloat(taxRateInPercentage)) / 100\n    }\n    return parseFloat(calculatedTax)\n}\n\nexport const parser = (str) => {\n\n    return JSON.parse(Array.isArray(str) ? JSON.stringify(str).replace(/\\\\/g, '') : str.replace(/\\\\/g, ''))\n\n}"],"sourceRoot":""}
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[97],{1401:function(e,t,c){"use strict";c.r(t);var a=c(8),s=c(2),n=c(5),r=c(12),i=c(23),l=c(25),o=c(63),d=c(26),j=c(7),b=c.n(j),m=c(744),u=c(742),f=c(745),O=c(109),x=c(112),h=c(14),p=c(21),v=c(735),g=c(736),N=(c(759),c(0)),y=c(6),k=c(187),w=c(3);t.default=function(){var e,t,j,C=Object(o.a)().skin,E=Object(N.useState)(!1),T=Object(r.a)(E,2),B=T[0],S=T[1],P=Object(N.useState)(!1),A=Object(r.a)(P,2),V=A[0],F=A[1],I=function(){return Object(w.jsx)(N.Fragment,{children:Object(w.jsx)(g.a,{})})},L="dark"===C?"two-steps-verification-illustration-dark.svg":"two-steps-verification-illustration.svg",U=c(784)("./".concat(L)).default,q=Object(p.b)(),K=Object(p.c)((function(e){return e.register})),D=m.d().shape({email:m.f().required("Email required"),emailCode:m.f().required("Please Enter Verify Code").matches(/^[0-9\- ]{4,4}$/,{message:"Please Enter Valid verify Code",excludeEmptyString:!0}),acceptTermsAndCondition:m.b().oneOf([!0],"Please Accept terms and Condition")}),J=Object(i.f)(),R=Object(N.useState)(""),H=Object(r.a)(R,2),$=H[0],z=H[1],G=Object(i.e)().search,M=new URLSearchParams(G),Q=Object(u.f)({defaultValues:{emailCode:"",acceptTermsAndCondition:!0},resolver:Object(f.a)(D)}),W=Q.control,X=Q.handleSubmit,Y=Q.formState.errors,Z=Q.setError,_=Q.setValue,ee=function(){var e=Object(n.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:$},e.next=3,q(Object(O.e)(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.emailCode&&t.emailCode.length>0)){e.next=5;break}return S(!0),e.next=4,q(Object(O.i)(t));case 4:S(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(N.useEffect)(Object(n.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==K.verifyError&&(S(!1),Object.keys(K.verifyError).map((function(e){Z(e,{type:"custom",message:K.verifyError[e][0]})})));case 1:case"end":return e.stop()}}),e)}))),[K.verifyError]);var ce=function(e){$&&y.a.post("/users/sendcode",{email:null!==e&&void 0!==e?e:$}).then((function(e){k.b.success(e.data.users,{position:"bottom-right"}),F(!0)})).catch((function(e){k.b.error(e.response.data.errors,{position:"bottom-right"})}))};return Object(N.useEffect)((function(){M.get("email")?(z(M.get("email")),ce(M.get("email")),_("email",M.get("email"))):J("/login")}),[]),Object(N.useEffect)(Object(n.a)(Object(s.a)().mark((function e(){var t,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K.accessToken){e.next=9;break}return(c={}).users=K.loginUser,c.token=K.accessToken,e.next=6,q(Object(x.b)(c));case 6:return e.next=8,q(Object(O.g)(null===(t=K.loginUser)||void 0===t?void 0:t.id));case 8:J("/dashboard");case 9:case"end":return e.stop()}}),e)}))),[K.accessToken]),Object(w.jsx)("div",{className:"auth-wrapper auth-cover",children:Object(w.jsxs)(h.ib,{className:"auth-inner m-0",children:[Object(w.jsxs)(l.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:[Object(w.jsx)("img",{src:d.a.app.appLogoImage,alt:"Turia Logo",width:45,height:35}),Object(w.jsx)("h1",{className:"brand-text text-primary",children:"Turia"})]}),Object(w.jsx)(h.B,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(w.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(w.jsx)("img",{className:"img-fluid",src:U,alt:"Login Cover"})})}),Object(w.jsx)(h.B,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(w.jsx)(v.a,{blocking:B,loader:Object(w.jsx)(I,{}),children:Object(w.jsx)(h.B,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:Object(w.jsxs)(h.H,{onSubmit:X(te),children:[Object(w.jsx)("p",{children:"Please check mail inbox and spam folder for verification code"}),Object.keys(Y).map((function(e,t){var c;return Object(w.jsxs)(h.I,{children:[" ",null===(c=Y[e])||void 0===c?void 0:c.message]},t)})),Object(w.jsxs)(h.ib,{className:"gx-2 mb-1",children:[!V&&Object(w.jsx)(N.Fragment,{children:Object(w.jsxs)(h.B,{sm:12,className:"mb-1",children:[Object(w.jsx)(h.N,{className:"form-label",for:"email",children:"Email"}),Object(w.jsx)(u.a,{name:"email",control:W,render:function(e){var t=e.field;return Object(w.jsx)(h.K,Object(a.a)(Object(a.a)({},t),{},{type:"email",id:"email",placeholder:"jhon@email.com",onChange:function(e){z(e.target.value),_("email",e.target.value)},className:b()("form-control",{"is-invalid":Y.email})}))}}),Object(w.jsxs)(h.ib,{className:"d-flex justify-content-between",children:[Object(w.jsx)(h.B,{children:Y.email&&Object(w.jsxs)(h.I,{children:[null===(e=Y.email)||void 0===e?void 0:e.message," "]})}),Object(w.jsx)(h.B,{className:"d-flex justify-content-end mt-50",children:Object(w.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){ce()},children:"Send"})})]})]})}),V&&Object(w.jsxs)(N.Fragment,{children:[Object(w.jsxs)(h.B,{sm:12,className:"mb-1",children:[Object(w.jsx)(h.N,{className:"form-label",for:"credit-card",children:"Verification Code"}),Object(w.jsx)(u.a,{name:"emailCode",control:W,render:function(e){var t=e.field;return Object(w.jsx)(h.K,Object(a.a)(Object(a.a)({},t),{},{type:"number",id:"credit-card",placeholder:"1356",className:b()("form-control",{"is-invalid":Y.emailCode})}))}}),Object(w.jsxs)(h.ib,{className:"d-flex justify-content-between",children:[Object(w.jsx)(h.B,{children:Y.emailCode&&Object(w.jsxs)(h.I,{children:[null===(t=Y.emailCode)||void 0===t?void 0:t.message," "]})}),Object(w.jsx)(h.B,{className:"d-flex justify-content-end mt-50",children:Object(w.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){ee()},children:"Resend"})})]})]}),Object(w.jsx)(h.B,{sm:12,className:"mb-1 ",children:Object(w.jsxs)("div",{className:"form-check form-check-inline",children:[Object(w.jsx)(u.a,{name:"acceptTermsAndCondition",control:W,render:function(e){var t=e.field;return Object(w.jsx)(h.K,Object(a.a)(Object(a.a)({},t),{},{type:"checkbox",defaultChecked:!0,name:"acceptTermsAndCondition",id:"acceptTermsAndCondition"}))}}),Y.action&&Object(w.jsx)("p",{className:"text-danger",children:null===(j=Y.action)||void 0===j?void 0:j.message}),Object(w.jsx)(h.N,{className:b()("form-label",{"text-danger":Y.emailCode}),children:Object(w.jsxs)("p",{children:["By choosing ",Object(w.jsx)("b",{children:"Submit"})," you agree to ",Object(w.jsxs)("b",{children:["Turia's ",Object(w.jsx)("a",{href:"https://www.turia.in/terms",children:"Terms of Use"}),", ",Object(w.jsx)("a",{href:"https://www.turia.in/privacy",children:"Privacy"})," and ",Object(w.jsx)("a",{href:"https://www.turia.in/privacy",children:"Data Protection Policies"}),"."]})]})})]})})]})]}),V&&Object(w.jsx)("div",{className:"d-flex justify-content-between mt-2",children:Object(w.jsx)(h.i,{type:"submit",color:"primary",className:"btn-next",children:Object(w.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Submit"})})})]})})})})]})})}},735:function(e,t,c){"use strict";var a=c(8),s=c(27),n=c(0),r=c(7),i=c.n(r),l=c(14),o=(c(738),c(3)),d=function(e){var t,c=e.children,r=e.blocking,l=e.loader,d=e.className,j=e.tag,b=e.overlayColor,m=j;return Object(o.jsxs)(m,{className:i()("ui-loader",(t={},Object(s.a)(t,d,d),Object(s.a)(t,"show",r),t)),children:[c,r?Object(o.jsxs)(n.Fragment,{children:[Object(o.jsx)("div",Object(a.a)({className:"overlay"},r&&b?{style:{backgroundColor:b}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},736:function(e,t,c){"use strict";var a=c(3);t.a=function(){return Object(a.jsx)("div",{className:"fallback-spinner",children:Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("div",{className:"effect-1 effects"}),Object(a.jsx)("div",{className:"effect-2 effects"}),Object(a.jsx)("div",{className:"effect-3 effects"})]})})}},738:function(e,t,c){},759:function(e,t,c){}}]);
//# sourceMappingURL=97.5eb3be2c.chunk.js.map
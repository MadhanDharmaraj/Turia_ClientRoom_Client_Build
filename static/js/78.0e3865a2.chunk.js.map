{"version":3,"sources":["views/pages/account-settings/Invoice/store/reimbursement.js","views/pages/account-settings/Invoice/Reimbursement.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js"],"names":["userId","orgUserId","getData","createAsyncThunk","params","axios","post","response","data","exemptionreason","addReimbursement","dispatch","getState","reimbursement","updateReimbursement","deleteReimbursement","id","updatedBy","createSlice","name","initialState","total","allData","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","activeOrgId","activeOrganizationid","InvoiceAccounts","MySwal","withReactContent","Swal","useState","setData","selected","setSelected","block","setBlock","Loader","formModal","setFormModal","useDispatch","schema","yup","shape","organizationId","default","required","createdBy","useForm","resolver","yupResolver","defaultValues","cast","handleSubmit","errors","formState","control","reset","getList","then","res","catch","err","console","log","closeModal","onSubmit","eventname","toast","success","position","useEffect","blocking","loader","className","color","size","onClick","lg","map","card","index","status","organizationid","openEditModal","fire","title","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","value","dismiss","DismissReason","cancel","isOpen","toggle","Object","keys","key","message","tag","Form","fieldLabel","fieldName","reqflag","md","sm","classnames","for","render","field","invalid","getRow","xs","type","UILoader","props","children","overlayColor","Tag","style","backgroundColor","defaultProps","ComponentSpinner"],"mappings":"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","file":"static/js/78.0e3865a2.chunk.js","sourcesContent":["// ** Redux Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\n\n// ** Axios Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { orgUserId } from '@src/helper/sassHelper'\nconst userId = orgUserId()\n\nexport const getData = createAsyncThunk('appInvoiceSetting/getData', async params => {\n  const response = await axios.post(`/transactionaccounts/list`, params)\n  return {\n    params,\n    data: response.data.exemptionreason\n  }\n})\nexport const addReimbursement = createAsyncThunk('appInvoiceSetting/addReimbursement', async (data, { dispatch, getState }) => {\n\n  await axios.post(`/reimbursement/create`, data)\n  await dispatch(getData(getState().reimbursement.params))\n  return []\n\n})\n\nexport const updateReimbursement = createAsyncThunk('appInvoiceSetting/updateReimbursement', async (data, { dispatch, getState }) => {\n  await axios.post(`/reimbursement/update`, data)\n  await dispatch(getData(getState().reimbursement.params))\n  return []\n})\n\nexport const deleteReimbursement = createAsyncThunk('appInvoiceSetting/deleteReimbursement', async (id, { dispatch, getState }) => {\n  await axios.post('/reimbursement/delete', { id, updatedBy: userId })\n  await dispatch(getData(getState().reimbursement.params))\n  return id\n})\n\nexport const appInvoiceAccountSlice = createSlice({\n  name: 'appInvoiceSetting',\n  initialState: {\n    data: [],\n    total: 1,\n    params: {},\n    allData: []\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder\n      .addCase(getData.fulfilled, (state, action) => {\n        state.data = action.payload.data\n        state.params = action.payload.params\n      })\n\n  }\n})\n\nexport default appInvoiceAccountSlice.reducer\n","// ** React Imports\nimport { Fragment, useEffect, useState } from 'react'\n\n// ** Reactstrap Imports\nimport {\n  Row,\n  Col,\n  Card,\n  Form,\n  Badge,\n  Label,\n  Input,\n  Button,\n  CardBody,\n  FormFeedback,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  Table,\n  CardHeader\n} from 'reactstrap'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { addReimbursement, updateReimbursement, deleteReimbursement } from './store/reimbursement'\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nconst activeOrgId = activeOrganizationid()\nconst userId = orgUserId()\n// ** Third Party Components\nimport classnames from 'classnames'\nimport { useDispatch } from 'react-redux'\nimport toast from 'react-hot-toast'\nimport { Edit, Trash, Plus } from 'react-feather'\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\n\nconst InvoiceAccounts = () => {\n  const MySwal = withReactContent(Swal)\n  const [data, setData] = useState([])\n  const [selected, setSelected] = useState(null)\n  const [block, setBlock] = useState(false)\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n  const [formModal, setFormModal] = useState(false)\n  const dispatch = useDispatch()\n\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    name: yup.string().required('Please Enter Reimbursement'),\n    updatedBy: yup.string().default(userId),\n    createdBy: yup.string().default(userId)\n  })\n\n  const { handleSubmit, formState: { errors }, control, reset } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n\n  const getList = () => {\n    axios.post('/reimbursement/list')\n      .then((res) => {\n        setData(res.data.reimbursement)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n\n  const deletefn = (id) => {\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(deleteReimbursement(id))\n        MySwal.fire({\n          icon: 'success',\n          title: 'Deleted!',\n          text: 'Account has been deleted.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n        getList()\n        return true\n      } else if (result.dismiss === MySwal.DismissReason.cancel) {\n        return false\n      }\n    })\n  }\n\n  const closeModal = () => {\n\n    setFormModal(false)\n    reset({\n      organizationId: activeOrgId,\n      id: '',\n      name: ''\n    })\n  }\n\n  const onSubmit = async data => {\n    setBlock(true)\n    let eventname\n    if (selected !== null) {\n      await dispatch(updateReimbursement(data))\n      reset({ name: '' })\n      eventname = 'Added'\n      setSelected(null)\n    } else {\n      await dispatch(addReimbursement(data))\n      eventname = 'Updated'\n      reset({ name: '' })\n    }\n    closeModal()\n    setBlock(false)\n    toast.success(`Reimbursement Reason ${eventname} Succesfully`, { position: 'bottom-right' })\n    getList()\n  }\n\n  const getRow = (fieldLabel, fieldName, reqflag = true) => {\n    return (\n      <Col md={12}>\n        <Label sm='12' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Col>\n    )\n  }\n\n  useEffect(async () => {\n    getList()\n  }, [])\n\n  const openEditModal = card => {\n    setSelected(card)\n    setFormModal(true)\n    reset({\n      organizationId: activeOrgId,\n      id: card.id,\n      name: card.name\n    })\n  }\n\n  return (\n    <Fragment>\n      <UILoader blocking={block} loader={<Loader />}>\n        <Card>\n          <CardHeader className='d-flex justify-content-between'>\n            <h5>Reimbursement</h5>\n\n            <Button color='primary' size='sm' onClick={() => { setFormModal(true) }}> <Plus size={15} />Add</Button>\n\n          </CardHeader>\n          <CardBody className='py-25'>\n            <Row className='gx-4'>\n              <Col lg='12' className='mt-2 mt-lg-0'>\n                <Table className='table table-hover table-bordered'>\n                  <thead>\n                    <tr>\n                      <th>Name</th>\n                      <th>Status</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {data.map((card, index) => {\n                      return (\n                        <tr key={index}>\n                          <td className='mb-0'>{card.name}</td>\n                          <td>\n                            {card.status === '1' ? (\n                              <Badge color='light-success' className='ms-50'>\n                                Active\n                              </Badge>\n                            ) : (\n                              <Badge color='light-danger' className='ms-50'>\n                                InActive\n                              </Badge>\n                            )}\n                          </td>\n                          <td className=''>\n                            {card.organizationid !== null &&\n                              <div className='d-flex'>\n                                <Edit size={15} className='me-75' onClick={() => openEditModal(card)}>\n                                  Edit\n                                </Edit>\n                                <Trash size={15} onClick={() => { deletefn(card.id) }}>Delete</Trash>\n                              </div>\n                            }\n                          </td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </Table>\n              </Col>\n\n              <Modal isOpen={formModal} toggle={() => setFormModal(!formModal)} className='modal-dialog-centered'>\n                <ModalHeader toggle={() => closeModal()}>Reimbursement Name</ModalHeader>\n                <ModalBody>\n                  <Row lg='12'>\n                    {\n                      Object.keys(errors).map((key) => {\n\n                        return <FormFeedback key={key}>${errors[key]?.message}</FormFeedback>\n\n                      })\n                    }\n                    <Row tag={Form} className='gx-2 gy-1' onSubmit={handleSubmit(onSubmit)}>\n\n                      {getRow('Reimbursement Name', 'name')}\n\n                      <Col className='mt-2 pt-1' xs={12}>\n                        <Button type='submit' className='me-1' color='primary'>\n                          Submit\n                        </Button>\n                        <Button type='button' className='me-1' color='warning' onClick={() => closeModal()}>\n                          Cancel\n                        </Button>\n                      </Col>\n\n                    </Row>\n                  </Row>\n                </ModalBody>\n              </Modal>\n            </Row>\n          </CardBody>\n        </Card>\n      </UILoader>\n    </Fragment>\n  )\n}\n\nexport default InvoiceAccounts\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n"],"sourceRoot":""}
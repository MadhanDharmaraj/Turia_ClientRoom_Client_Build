(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[131],{1389:function(e,t,c){"use strict";c.r(t);var n=c(8),a=c(2),r=c(5),s=c(12),i=c(0),o=c(14),l=c(184),d=c(742),u=c(744),b=c(745),j=c(242),m=c(13),f=c(185),O=c.n(f),h=c(186),x=c.n(h),N=c(735),p=c(736),v=c(7),y=c.n(v),g=c(21),k=c(187),C=c(365),B=c(316),A=c(387),P=c(356),w=c(288),I=c(3),S=Object(m.a)(),z=Object(m.b)(),H=Object(m.d)();t.default=function(){var e=x()(O.a),t=Object(i.useState)([]),c=Object(s.a)(t,2),m=c[0],f=c[1],h=Object(i.useState)(null),v=Object(s.a)(h,2),T=v[0],q=v[1],E=Object(i.useState)(!1),F=Object(s.a)(E,2),V=F[0],X=F[1],D=function(){return Object(I.jsx)(i.Fragment,{children:Object(I.jsx)(p.a,{})})},R=Object(i.useState)(!1),J=Object(s.a)(R,2),K=J[0],Y=J[1],_=Object(g.c)((function(e){return e.invoiceaccount})),G=Object(g.b)(),L=u.d().shape({organizationId:u.f().default(z),bankName:u.f().required("Please Enter Bank Name"),accountBusinessName:u.f().required("Please Enter Account Name"),countryCode:u.f().default(S.countryshortname),ifscCode:u.f().default("").when("countryCode",{is:function(e){return"IN"===e},then:u.f().required("Please IFSC Code")}),accountNumber:u.f().required("Please Enter Account Number"),branchAddress:u.f().default("").when("countryCode",{is:function(e){return"IN"===e},then:u.f().required("Please Enter Branch Name")}),accountType:u.f().required("Please Select Account Type"),description:u.f(),isPrimary:u.b().default(!1),bankCode:u.f().default("1"),accountHolderName:u.f(),updatedBy:u.f().default(H),createdBy:u.f().default(H)}),M=Object(d.f)({resolver:Object(b.a)(L),defaultValues:L.cast()}),Q=M.handleSubmit,U=M.formState.errors,$=M.control,W=M.reset,Z=M.setValue,ee=function(){Y(!1),W({organizationId:z,bankName:"",id:null,accountBusinessName:"",ifscCode:"",accountNumber:"",branchAddress:"",accountType:1,description:"",isPrimary:"",bankCode:"",accountHolderName:""})},te=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(!0),c="",null===T){e.next=9;break}return e.next=5,G(Object(j.e)(t));case 5:q(null),c="Added",e.next=12;break;case 9:return e.next=11,G(Object(j.a)(t));case 11:c="Updated";case 12:return X(!1),ee(),k.b.success("Bank Account ".concat(c," Succesfully"),{position:"bottom-right"}),e.next=17,G(Object(j.d)({}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)(Object(r.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(Object(j.d)({}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(i.useEffect)((function(){var e,t=null!==(e=_.accounts.find((function(e){return e.isPrimary})))&&void 0!==e?e:{};Z("isPrimary",0===Object.keys(t).length),f(_.accounts)}),[_.accounts]);var ce=function(){var e=$._formValues.bankName,t=$._formValues.accountNumber;if(t){var c="".concat(e," - XXXX").concat(t.substr(-4,4));Z("accountHolderName",c)}},ne=[{id:1,name:"Savings"},{id:2,name:"".concat("IN"===S.countryshortname?"Current":"Checking")}],ae=function(e,t){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(I.jsxs)(o.B,{md:6,children:[Object(I.jsx)(o.N,{sm:"12",className:y()("form-label ".concat(c?"required":"")),for:t,children:e}),Object(I.jsxs)(o.B,{children:[Object(I.jsx)(d.a,{id:t,name:t,control:$,render:function(e){var c=e.field;return Object(I.jsx)(o.K,Object(n.a)(Object(n.a)({invalid:U[t]&&!0},c),{},{onInput:function(){"bankName"!==t&&"accountNumber"!==t||ce()}}))}}),U[t]&&Object(I.jsx)(o.I,{children:U[t].message})]})]})};return Object(I.jsx)(i.Fragment,{children:Object(I.jsx)(N.a,{blocking:V,loader:Object(I.jsx)(D,{}),children:Object(I.jsx)(o.l,{children:Object(I.jsx)(o.m,{className:"py-25",children:Object(I.jsxs)(o.ib,{className:"gx-4",children:[Object(I.jsxs)(o.B,{lg:"12",className:"mt-2 mt-lg-0",children:[Object(I.jsx)(o.ib,{className:"mb-50",children:Object(I.jsx)(o.B,{children:Object(I.jsxs)(o.i,{color:"primary",size:"sm",onClick:function(){Y(!0)},children:[" ",Object(I.jsx)(C.a,{size:15}),"Add Account"]})})}),Object(I.jsxs)(o.mb,{className:"table table-hover table-bordered",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Bank Name"}),Object(I.jsx)("th",{children:"Account Holder Name"}),Object(I.jsx)("th",{children:"Status"}),Object(I.jsx)("th",{children:"Account Name "}),Object(I.jsx)("th",{children:"Actions"})]})}),Object(I.jsx)("tbody",{children:Array.isArray(m)&&m.map((function(t,c){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"text-primary",children:t.bankName}),Object(I.jsx)("td",{children:t.accountBusinessName}),Object(I.jsx)("td",{children:t.isPrimary&&Object(I.jsx)(o.f,{color:"light-primary",className:"ms-50",children:"Primary"})}),Object(I.jsx)("td",{className:"card-number ",children:t.accountHolderName}),Object(I.jsx)("td",{className:"text-start text-lg-end",children:Object(I.jsxs)("div",{className:"d-flex align-items-center order-sm-0 order-1 mt-1 mt-sm-0",children:["Cash"!==t.accountHolderName&&Object(I.jsxs)("div",{className:"d-flex order-sm-0 order-1 mt-1 mt-sm-0",children:[Object(I.jsx)(B.a,{onClick:function(){return function(e){q(e),Y(!0),W({organizationId:z,bankName:e.bankName,id:e.id,accountBusinessName:e.accountBusinessName,ifscCode:e.ifscCode,accountNumber:e.accountNumber,branchAddress:e.branchAddress,accountType:parseInt(e.accountType),description:e.description,isPrimary:e.isPrimary,bankCode:e.bankCode,accountHolderName:e.accountHolderName})}(t)},size:14}),!t.isPrimary&&Object(I.jsx)("div",{className:"d-flex",children:Object(I.jsx)(A.a,{className:"ms-1 me-1",onClick:function(){var c;c=t.id,e.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.value){t.next=9;break}return t.next=3,G(Object(j.c)(c));case 3:return e.fire({icon:"success",title:"Deleted!",text:"Account has been deleted.",customClass:{confirmButton:"btn btn-success"}}),t.next=6,G(Object(j.d)({}));case 6:return t.abrupt("return",!0);case 9:if(n.dismiss!==e.DismissReason.cancel){t.next=11;break}return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},size:14})})]}),!t.isPrimary&&Object(I.jsxs)(o.wb,{children:[Object(I.jsx)(o.G,{tag:"div",className:"btn btn-sm p-0",children:Object(I.jsx)(P.a,{size:14,className:"cursor-pointer"})}),Object(I.jsx)(o.F,{children:Object(I.jsxs)(o.E,{className:"w-100",onClick:function(){var e;e=t.id,G(Object(j.f)(e))},children:[Object(I.jsx)(w.a,{size:14,className:"me-50"}),Object(I.jsx)("span",{className:"align-middle",children:"Mark as Primary"})]})})]})]})})]},c)}))})]})]}),Object(I.jsxs)(o.Q,{isOpen:K,toggle:function(){return Y(!K)},className:"modal-dialog-centered",children:[Object(I.jsx)(o.T,{toggle:function(){return ee()},children:"Invoice Account"}),Object(I.jsx)(o.R,{children:Object(I.jsxs)(o.B,{lg:"12",children:[Object.keys(U).map((function(e){var t;return Object(I.jsxs)(o.I,{children:["$",null===(t=U[e])||void 0===t?void 0:t.message]},e)})),Object(I.jsxs)(o.ib,{tag:o.H,className:"gx-2 gy-1",onSubmit:Q(te),children:[ae("Bank Name","bankName"),ae("Account Name","accountBusinessName"),ae("Account Number","accountNumber"),"IN"===S.countryshortname&&ae("IFSC Code","ifscCode"),"IN"===S.countryshortname?ae("Branch Name","branchAddress"):ae("Branch Name","branchAddress",!1),function(e,t,c){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(I.jsxs)(o.B,{md:6,children:[Object(I.jsx)(o.N,{sm:"12",className:y()("form-label ".concat(r?"required":"")),for:t,children:e}),Object(I.jsxs)(o.B,{children:[Object(I.jsx)(d.a,{control:$,name:t,id:t,render:function(e){var a=e.field,r=e.ref;return Object(I.jsx)(l.a,Object(n.a)(Object(n.a)({inputRef:r,className:y()("react-select",{"is-invalid":U[t]})},a),{},{classNamePrefix:"select",options:c,value:c.find((function(e){return e.id===a.value})),onChange:function(e){return a.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),U[t]&&Object(I.jsx)(o.I,{className:"text-danger",children:null===(a=U[t])||void 0===a?void 0:a.message})]})]})}("Account Type","accountType",ne,!0),Object(I.jsxs)(o.B,{md:12,children:[Object(I.jsx)(o.N,{className:"form-label",for:"description",children:"Description"}),Object(I.jsx)(d.a,{id:"description",name:"description",control:$,render:function(e){var t=e.field;return Object(I.jsx)(o.K,Object(n.a)({type:"textarea",invalid:U.description&&!0},t))}}),U.description&&Object(I.jsx)(o.I,{children:U.description.message})]}),Object(I.jsxs)(o.B,{className:"mt-2 pt-1",xs:12,children:[Object(I.jsx)(o.i,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),Object(I.jsx)(o.i,{type:"button",className:"me-1",color:"warning",onClick:function(){return ee()},children:"Cancel"})]})]})]})})]})]})})})})})}},735:function(e,t,c){"use strict";var n=c(8),a=c(27),r=c(0),s=c(7),i=c.n(s),o=c(14),l=(c(738),c(3)),d=function(e){var t,c=e.children,s=e.blocking,o=e.loader,d=e.className,u=e.tag,b=e.overlayColor,j=u;return Object(l.jsxs)(j,{className:i()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",s),t)),children:[c,s?Object(l.jsxs)(r.Fragment,{children:[Object(l.jsx)("div",Object(n.a)({className:"overlay"},s&&b?{style:{backgroundColor:b}}:{})),Object(l.jsx)("div",{className:"loader",children:o})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(o.jb,{color:"primary"})}},736:function(e,t,c){"use strict";var n=c(3);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},738:function(e,t,c){}}]);
//# sourceMappingURL=131.c40e18e1.chunk.js.map
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[45],{1014:function(e,t,c){"use strict";var n=c(41),a=c(12),s=c(8),i=c(10),r=c(0),l=c(61),o=c(770),d=c(763),j=c.n(d),b=c(766),m=c(15),u=c(184),h=c(781),O=c(253),x=c(387),p=c(6),f=c(14),v=c(55),N=c(28),g=c.n(N),y=c(13),w=(c(760),c(481),c(735)),C=c(736),I=c(187),S=c(3),k=["data"],T=Object(y.a)(),E=Object(y.c)();t.a=function(e){var t={multiValue:function(e,t){return Object(i.a)(t),Object(s.a)(Object(s.a)({},e),{},{backgroundColor:"#7367f0"})}},c=Object(r.useState)(!1),d=Object(a.a)(c,2),N=d[0],y=d[1],L=function(){return Object(S.jsx)(r.Fragment,{children:Object(S.jsx)(C.a,{})})},A=Object(r.useState)([]),B=Object(a.a)(A,2),R=B[0],D=B[1],P=Object(r.useState)([]),M=Object(a.a)(P,2),F=M[0],Y=M[1],_=Object(r.useState)(""),U=Object(a.a)(_,2),G=U[0],H=U[1],z=e.open,K=e.toggleSidebar,V=e.invoice,Z=Object(r.useState)(""),q=Object(a.a)(Z,2),W=q[0],J=q[1],$=Object(r.useState)([]),Q=Object(a.a)($,2),X=Q[0],ee=Q[1],te=Object(r.useState)([]),ce=Object(a.a)(te,2),ne=ce[0],ae=ce[1],se=function(e){p.a.post("contactinformations/list",{contactid:e}).then((function(e){ae(e.data.contactinformations)})).catch((function(){}))},ie=function(){p.a.post("/emailtemplates/get",{slug:"invoice-send-mail"}).then((function(e){var t,c=e.data.emailtemplates.description.replace("{invoice_date}",(t=V.paymentdue,13===t.length?g()(t,"x").format("MMM DD, YYYY"):g.a.unix(t).format("MMM DD, YYYY"))).replace("{service}",V.taskinvoiceitemsservicename).replace("recipient_name",V.contactperson).replace("{recipient_name}",V.contactperson).replace("{invoice_no}",V.uniqueno).replace("{amount}",V.totalamount).replace("{invoice_amount}",V.totalamount).replace("{your_name}",E.name).replaceAll("{firm_name}",T.name).replace("{","").replace("}",""),n=b.EditorState.createWithContent(b.ContentState.createFromBlockArray(Object(b.convertFromHTML)(c)));H(n),J(c)})).catch((function(){}))};Object(r.useEffect)((function(){void 0!==V.clientid&&se(V.clientid),void 0!==V.contactid&&se(V.contactid),Object.keys(V).length>0&&(p.a.post("/organizationusers/dropdown").then((function(e){ee(e.data.organizationusers)})).catch((function(){})),ie())}),[V]);var re=Object(r.useState)(!1),le=Object(a.a)(re,2),oe=le[0],de=le[1],je=function(e){var t,c=e.data,a=Object(n.a)(e,k);return Object(S.jsx)(m.q.Option,Object(s.a)(Object(s.a)({},a),{},{children:Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(S.jsx)(l.a,{className:"my-0 me-50",size:"sm",initials:!0,content:null===(t=c.name)||void 0===t?void 0:t.charAt(0)}),c.name," - ",c.email]})}))},be=function(e){e.preventDefault(),de(!oe)};return Object(S.jsx)("div",{className:"email-application",children:Object(S.jsx)("div",{className:"content-area-wrapper",children:Object(S.jsx)("div",{className:"col-md-12",children:Object(S.jsx)("div",{className:"content-body",children:Object(S.jsx)(f.Q,{scrollable:!0,fade:!1,keyboard:!1,backdrop:!1,id:"compose-mail",container:".content-body",className:"modal-lg",isOpen:z,contentClassName:"p-0",toggle:K,modalClassName:"modal-sticky",children:Object(S.jsxs)(w.a,{blocking:N,loader:Object(S.jsx)(L,{}),children:[Object(S.jsxs)("div",{className:"modal-header",children:[Object(S.jsx)("h5",{className:"modal-title",children:"Compose Mail"}),Object(S.jsx)("div",{className:"modal-actions",children:Object(S.jsx)("a",{href:"/",className:"text-body",onClick:function(e){e.preventDefault(),K()},children:Object(S.jsx)(O.a,{size:14})})})]}),Object(S.jsx)(f.R,{className:"flex-grow-1 p-0",children:Object(S.jsxs)(f.H,{className:"compose-form",onSubmit:function(e){return e.preventDefault()},children:[Object(S.jsxs)("div",{className:"compose-mail-form-field",children:[Object(S.jsx)(f.N,{for:"email-to",className:"form-label",children:"To:"}),Object(S.jsx)("div",{className:"flex-grow-1",children:Object(S.jsx)(h.a,{isMulti:!0,id:"email-to",isClearable:!1,theme:v.g,options:ne,className:"react-select select-borderless",classNamePrefix:"select",components:{Option:je},styles:t,onChange:function(e){D(e.map((function(e){return e.email})))},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},getOptionValue:function(e){return e.id}})}),Object(S.jsx)("div",{children:Object(S.jsx)("a",{href:"/",className:"toggle-cc text-body me-1",onClick:be,children:"Cc"})})]}),!0===oe?Object(S.jsxs)("div",{className:"compose-mail-form-field cc-wrapper",children:[Object(S.jsx)(f.N,{for:"email-cc",className:"form-label",children:"Cc:"}),Object(S.jsx)("div",{className:"flex-grow-1",children:Object(S.jsx)(u.a,{isMulti:!0,id:"email-cc",onChange:function(e){Y(e.map((function(e){return e.email})))},isClearable:!1,theme:v.g,options:X,className:"react-select select-borderless",classNamePrefix:"select",components:{Option:je},styles:t,getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},getOptionValue:function(e){return e.id}})}),Object(S.jsx)("div",{children:Object(S.jsx)("a",{href:"/",className:"toggle-cc text-body",onClick:be,children:Object(S.jsx)(O.a,{size:14})})})]}):null,Object(S.jsxs)("div",{className:"compose-mail-form-field",children:[Object(S.jsx)(f.N,{for:"email-subject",className:"form-label",children:"Subject:"}),Object(S.jsx)(f.K,{id:"email-subject",placeholder:"Subject"})]}),Object(S.jsx)("div",{id:"message-editor",children:Object(S.jsx)(o.Editor,{placeholder:"Message",toolbarClassName:"rounded-0",wrapperClassName:"toolbar-bottom",editorState:G,onEditorStateChange:function(e){H(e),J(j()(Object(b.convertToRaw)(e.getCurrentContent())))},editorClassName:"rounded-0 border-0",toolbar:{options:["inline","textAlign"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough"]}}})}),Object(S.jsxs)("div",{className:"compose-footer-wrapper",children:[Object(S.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[Object(S.jsx)(f.i,{outline:!0,color:"primary",onClick:function(){!function(){y(!0);var e="".concat(V.uniqueno," Invoices Acknowledgement Mail");p.a.post("/google/sendGmail",{content:W,subject:e,toEmail:R,ccEmail:F,taskinvoiceId:V.id,clientName:V.contactname}).then((function(){K(!1),y(!1),I.b.success("Email send Successfully",{position:"bottom-right"})})),console.log((function(){}))}()},children:"Send"}),Object(S.jsxs)("div",{className:"email-attachement rounded border p-50 ms-50",children:[V.uniqueno,".pdf"]})]}),Object(S.jsx)("div",{className:"footer-action d-flex align-items-center",children:Object(S.jsx)(x.a,{className:"cursor-pointer",size:18,onClick:K})})]})]})})]})})})})})})}},1471:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(5),s=c(12),i=c(0),r=c(23),l=c(25),o=c(14),d=c(28),j=c.n(d),b=c(21),m=c(198),u=c(13),h=c(790),O=c(61),x=c(3),p=Object(u.a)(),f=function(e){var t,c=e.data,l=Object(r.g)().id,d=Object(b.b)(),u=Object(i.useState)([]),f=Object(s.a)(u,2),v=f[0],N=f[1],g=Object(i.useState)([]),y=Object(s.a)(g,2),w=y[0],C=y[1],I=function(e){return 13===e.length?j()(e,"x").format("MMM DD, YYYY"):j.a.unix(e).format("MMM DD, YYYY")},S=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],k=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],T=function(e){if(void 0===e)return"zero";if((e===e.toString()).length>9)return"overflow";var t="000000000".concat(e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(t){var c="";return c+=0!==Number(t[1])?Number(t[1])<=19?" ".concat(S[Number(t[1])],"core"):" ".concat(k[Number(t[1][0])]," ").concat(S[Number(t[1][1])],"crore"):"",c+=0!==Number(t[2])?Number(t[2])<=19?" ".concat(S[Number(t[2])],"lakh"):" ".concat(k[Number(t[2][0])]," ").concat(S[Number(t[2][1])],"lakh"):"",c+=0!==Number(t[3])?Number(t[3])<=19?" ".concat(S[Number(t[3])],"thousand"):" ".concat(k[Number(t[3][0])]," ").concat(S[Number(t[3][1])],"thousand"):"",c+=0!==Number(t[4])?Number(t[4])<=19?" ".concat(S[Number(t[4])],"hundred"):" ".concat(k[Number(t[4])],"hundred"):"",t[5]=String(t[5]),(c+=0!==Number(t[5])?"".concat(""!==c?" and ":""," ").concat(S[Number(t[5])]||"".concat(k[Number(t[5][0])]," ").concat(S[Number(t[5][1])])):"").replace(/\w\S*/g,(function(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+e.substr(1).toLowerCase()}))}},E=function(e){var t=String(e),c="",n="";t.includes(".")?(c=t.slice(t.indexOf(".")),n=(n=t.replace(c,"")).toString()):n=t.toString();var a=n.substring(n.length-3),s=n.substring(0,n.length-3);return""!==s&&(a=",".concat(a)),s.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a+(""===c?".00":c)};return Object(i.useEffect)(Object(a.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(Object(h.b)(c.calculatetaxes)),e.next=3,d(Object(m.k)(l));case 3:t=e.sent,N(t.payload);case 5:case"end":return e.stop()}}),e)}))),[c]),null!==c?Object(x.jsxs)(o.l,{className:"invoice-preview-card",children:[Object(x.jsx)(o.B,{children:Object(x.jsxs)(o.f,{color:"light-primary",children:[" ",Object(x.jsx)("span",{className:"text-md",children:"Draft"})]})}),Object(x.jsxs)("div",{className:"invoice-container",children:[Object(x.jsxs)(o.m,{className:"invoice-padding pb-0",children:[Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[null===p.imageid?function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(x.jsx)(O.a,{color:t,className:"me-50",content:null!==e?null===e||void 0===e?void 0:e.charAt(0):""})}(p.name):Object(x.jsx)("img",{referrerPolicy:"no-referrer",className:"rounded me-50",height:75,width:75,src:"https://drive.google.com/thumbnail?id=".concat(p.imageid,"&authuser=0"),alt:"Organisation Logo"}),Object(x.jsx)("h3",{className:"text-primary",children:"Profoma Invoice"}),Object(x.jsx)("h5",{children:"Original for recepient"})]}),Object(x.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between",children:[Object(x.jsxs)("div",{className:"col col-12 col-md-6",children:[Object(x.jsx)("div",{className:"logo-wrapper mb-0 mb-lg-2",children:Object(x.jsx)("h4",{className:"text-primary ms-0 mt-2",children:p.name})}),Object(x.jsx)(o.u,{className:"mb-25",children:p.addressline1}),Object(x.jsx)(o.u,{className:"mb-25",children:p.addressline2}),Object(x.jsxs)(o.u,{className:"mb-0",children:[p.city," - ",p.pinzipcode]}),Object(x.jsx)(o.u,{className:"mb-0",children:p.statename}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsxs)(o.u,{className:"mb-0",children:["GSTIN - ",p.gstin," \xa0\xa0 State Code : ",p.gstin.substr(0,2)]})]}),Object(x.jsxs)("div",{className:"mt-lg-3 mt-1 col-md-3 col-12",children:[Object(x.jsxs)("div",{className:"invoice-date-wrapper justify-content-between",children:[Object(x.jsx)("p",{className:"col-6 mb-25",children:"Invoice"}),Object(x.jsx)("p",{className:"col-6 m-25 invoice-date text-end ",children:c.uniqueno})]}),Object(x.jsxs)("div",{className:"invoice-date-wrapper justify-content-between",children:[Object(x.jsx)("p",{className:"invoice-date-title col-6",children:"Date Issued:"}),Object(x.jsx)("p",{className:"invoice-date col-6 text-end",children:I(c.invoicedate)})]}),Object(x.jsxs)("div",{className:"invoice-date-wrapper justify-content-between",children:[Object(x.jsx)("p",{className:"invoice-date-title",children:"Due Date:"}),Object(x.jsx)("p",{className:"invoice-date text-end",children:I(c.paymentdue)})]})]})]})]}),Object(x.jsxs)(o.m,{className:"invoice-padding pt-0",children:[Object(x.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between mt-1",children:[Object(x.jsxs)(o.B,{className:"p-0 col-12 col-md-9",children:[Object(x.jsx)("h6",{className:"mb-2",children:"Invoice To:"}),Object(x.jsx)("h6",{className:"mb-25",children:c.contactname}),Object(x.jsx)(o.u,{className:"mb-25",children:c.billingaddressline1}),Object(x.jsx)(o.u,{className:"mb-25",children:c.billingaddressline2}),Object(x.jsxs)(o.u,{className:"mb-25",children:[c.billingaddresscity," - ",c.billingaddresszipcode]}),Object(x.jsx)(o.u,{className:"mb-25",children:c.billingaddressstate}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsxs)(o.u,{className:"mb-25",children:["GSTIN - ",c.gstin]})]}),Object(x.jsxs)(o.B,{className:"p-0 col-12 col-md-3",children:[Object(x.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(x.jsx)("table",{className:"col-12",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Total Due:"}),Object(x.jsx)("td",{className:"text-end",children:Object(x.jsxs)("span",{className:"fw-bold",children:[E(parseFloat(c.dueamount).toFixed(2))," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Bank name:"}),Object(x.jsx)("td",{className:"text-end",children:c.bankaccountbankname})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Account Name:"}),Object(x.jsx)("td",{className:"text-end",children:Object(x.jsx)("p",{className:"text-end m-0 text-overflow-ellipsis",children:c.bankaccountholdername})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(x.jsx)("td",{className:"text-end",children:c.bankaccountbranchname})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"IFSC code:"}),Object(x.jsx)("td",{className:"text-end",children:c.bankaccountifsccode})]})]})})]})]}),Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsxs)(o.B,{className:"p-0",xl:"8",children:[Object(x.jsxs)(o.u,{className:"mb-25",children:["Place Of Supply: ",c.placeofsupplyname]}),Object(x.jsxs)(o.u,{className:"mb-25",children:["State: ",c.placeofsupplyname," \xa0\xa0State Code:  "]})]}),Object(x.jsx)(o.B,{className:"p-0 mt-xl-0 mt-2",md:"3",sm:"6",children:Object(x.jsx)("table",{className:"col-12",children:Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Currency code: "}),Object(x.jsx)("td",{className:"text-end",children:c.billingcurrencyshortname})]})})})})]})]}),Object(x.jsxs)(o.mb,{responsive:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"py-1",children:"Item"}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsx)("th",{className:"py-1",children:"SAC Code"}),Object(x.jsx)("th",{className:"py-1",children:"Price"}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsx)("th",{className:"py-1",children:"Tax"}),Object(x.jsx)("th",{className:"py-1",children:"Total"})]})}),Object(x.jsx)("tbody",{children:v.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{className:"py-1",children:[Object(x.jsx)("p",{className:"card-text fw-bold mb-25",children:e.servicesName}),Object(x.jsx)("p",{className:"card-text text-nowrap",children:e.description})]}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsx)("td",{className:"py-1",children:Object(x.jsx)("span",{className:"fw-bold",children:e.sacCode})}),Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("span",{className:"fw-bold",children:[E(e.price)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("span",{className:"fw-bold",children:[e.taxes.map((function(e,t){return Object(x.jsx)(o.ib,{children:Object(x.jsxs)("span",{children:[e.taxName||e.tax_name," - ",E(e.taxAmount)||E(e.tax_amount_calculated)]})},t)})),!1===e.isTaxApplicable&&Object(x.jsxs)(o.ib,{children:[Object(x.jsx)("span",{children:e.taxGroupName}),Object(x.jsx)("span",{children:e.exemptionReasonName})]})]})}),Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("span",{className:"fw-bold",children:[E(e.subTotalAmount)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})})]},t)}))})]}),Object(x.jsx)(o.m,{className:"invoice-padding pb-0",children:Object(x.jsxs)(o.ib,{className:"invoice-sales-total-wrapper",children:[Object(x.jsxs)(o.B,{className:"mt-md-0 mt-3",md:"6",order:{md:1,lg:2},children:[Object(x.jsx)("b",{children:"Total In Words "}),": ",(t=c.totalamount,"".concat(T(t.split(".")[0])," ").concat(void 0!==t.split(".")[1]?"and Paise ".concat(T(t.split(".")[1])," Only"):"")),"IN"!==c.isgstregistered&&Object(x.jsxs)("p",{className:"font-weight-800 mt-1",children:["Amount in ",p.currencycode," : ",parseFloat(c.totalamount*c.convertionrate).toFixed(2)," "]})]}),Object(x.jsx)(o.B,{className:"d-flex justify-content-end",md:"6",order:{md:2,lg:1},children:Object(x.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(x.jsxs)("div",{className:"invoice-total-item",children:[Object(x.jsxs)("p",{className:"invoice-total-title",children:[(null===c||void 0===c?void 0:c.isgstregistered)&&"Pre Tax"," Amount:"]}),Object(x.jsxs)("p",{className:"invoice-total-amount",children:[E(c.subtotalamount)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})]}),(null===c||void 0===c?void 0:c.isgstregistered)&&Object(x.jsx)("div",{children:w.length>0&&w.map((function(e,t){return Object(x.jsxs)("div",{className:"invoice-total-item",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:e.taxName||"".concat(e.tax_name).concat(e.tax_percentage,"%")}),Object(x.jsxs)("p",{className:"invoice-total-amount",children:[E(e.taxAmount)||E(e.tax_amount)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})]},t)}))}),Object(x.jsxs)("div",{className:"invoice-total-item text-primary",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(x.jsxs)("p",{className:"invoice-total-amount",children:[E(c.totalamount)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})]}),Object(x.jsx)("hr",{className:"my-50"}),Object(x.jsxs)("div",{className:"invoice-total-item text-success",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:"Paid:"}),Object(x.jsxs)("p",{className:"invoice-total-amount",children:[E(c.totalamount-c.dueamount)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})]}),Object(x.jsxs)("div",{className:"invoice-total-item text-danger",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:"Balance Due:"}),Object(x.jsxs)("p",{className:"invoice-total-amount",children:[E(c.dueamount)," ",null===c||void 0===c?void 0:c.billingcurrencysymbol]})]})]})})]})}),Object(x.jsx)("hr",{className:"invoice-spacing"}),Object(x.jsx)(o.m,{className:"invoice-padding pt-0",children:Object(x.jsx)(o.ib,{children:Object(x.jsxs)(o.B,{sm:"12",children:[Object(x.jsx)("span",{className:"fw-bold",children:"Note: "}),Object(x.jsx)("span",{children:c.note})]})})})]})]}):null},v=Object(u.a)(),N=function(e){var t,c=e.data,l=Object(r.g)().id,d=Object(b.b)(),u=Object(i.useState)([]),p=Object(s.a)(u,2),f=p[0],N=p[1],g=Object(i.useState)([]),y=Object(s.a)(g,2),w=y[0],C=y[1],I=function(e){return 13===e.length?j()(e,"x").format("MMM DD, YYYY"):j.a.unix(e).format("MMM DD, YYYY")},S=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],k=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],T=[{id:"",name:"Select All"},{id:"5",name:"Pending",color:"light-danger"},{id:"6",name:"Partially Paid",color:"light-warning"},{id:"7",name:"Paid",color:"light-success"},{id:"11",name:"Sent",color:"light-secondary"}],E=function(e){return T.find((function(t){return parseInt(t.id)===parseInt(e)}))},L=function(e){if(void 0===e)return"zero";if((e===e.toString()).length>9)return"overflow";var t="000000000".concat(e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(t){var c="";return t[1]=Number(t[1]),c+=0!==Number(t[1])?"".concat(S[Number(t[1])]||k[t[1][0]]," ").concat(isNaN(Number(t[1][1]))?"":S[t[1][1]]," crore "):"",t[2]=Number(t[2]),c+=0!==Number(t[2])?"".concat(S[Number(t[2])]||k[t[2][0]]," ").concat(isNaN(Number(t[2][1]))?"":S[t[2][1]],"lakh "):"",t[3]=Number(t[3]),c+=0!==Number(t[3])?"".concat(S[Number(t[3])]||k[t[3][0]]," ").concat(isNaN(Number(t[3][1]))?"":S[t[3][1]],"thousand "):"",t[4]=Number(t[4]),c+=0!==Number(t[4])?"".concat(S[Number(t[4])]||k[t[4][0]]," hundred "):"",t[5]=Number(t[5]),(c+=0!==Number(t[5])?"".concat(""!==c?"and ":"").concat(S[Number(t[5])]||k[t[5][0]]):"Zero").replace(/\w\S*/g,(function(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+e.substr(1).toLowerCase()}))}};return Object(i.useEffect)(Object(a.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(Object(h.b)(c.calculatetaxes)),e.next=3,d(Object(m.k)(l));case 3:return t=e.sent,e.next=6,N(t.payload);case 6:case"end":return e.stop()}}),e)}))),[c]),null!==c?Object(x.jsxs)(o.l,{className:"invoice-preview-card",children:[Object(x.jsx)(o.B,{children:Object(x.jsx)(o.f,{color:E(c.paymentstatus).color||"light-primary",children:E(c.paymentstatus).name||c.paymentstatus})}),Object(x.jsxs)("div",{className:"invoice-container",children:[Object(x.jsxs)(o.m,{className:"invoice-padding pb-0",children:[Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[v.imageid?function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(x.jsx)(O.a,{color:t,className:"me-50",content:null!==e?null===e||void 0===e?void 0:e.charAt(0):""})}(v.name):Object(x.jsx)("img",{className:"rounded me-50",height:75,width:75,referrerPolicy:"no-referrer",src:"https://drive.google.com/thumbnail?id=".concat(v.imageid,"&authuser=0"),alt:"Organisation Logo"}),Object(x.jsx)("h3",{className:"text-primary",children:"Profoma Invoice"}),Object(x.jsx)("h5",{children:"Original for recepient"})]}),Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"logo-wrapper",children:Object(x.jsx)("h4",{className:"text-primary ms-0 mt-2",children:v.name})}),Object(x.jsx)(o.u,{className:"mb-25",children:v.addressline1}),Object(x.jsx)(o.u,{className:"mb-25",children:v.addressline2}),Object(x.jsxs)(o.u,{className:"mb-0",children:[v.city," - ",v.pinzipcode]}),Object(x.jsx)(o.u,{className:"mb-0",children:v.statename})]}),Object(x.jsxs)("div",{className:"mt-3 col-md-4",children:[Object(x.jsx)("div",{className:"invoice-date-wrapper",children:Object(x.jsxs)("h4",{className:"",children:["Profoma Invoice",Object(x.jsx)("span",{className:"invoice-number",children:c.uniqueno})]})}),Object(x.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(x.jsx)("p",{className:"invoice-date-title",children:"Date Issued:"}),Object(x.jsx)("p",{className:"invoice-date",children:I(c.invoicedate)})]}),Object(x.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(x.jsx)("p",{className:"invoice-date-title",children:"Due Date:"}),Object(x.jsx)("p",{className:"invoice-date",children:I(c.paymentdue)})]})]})]})]}),Object(x.jsxs)(o.m,{className:"invoice-padding pt-0",children:[Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[Object(x.jsxs)(o.B,{className:"p-0",md:"8",children:[Object(x.jsx)("h6",{className:"mb-2",children:"Profoma InvoiceTo:"}),Object(x.jsx)("h6",{className:"mb-25",children:c.contactname}),Object(x.jsx)(o.u,{className:"mb-25",children:c.billingaddressline1}),Object(x.jsx)(o.u,{className:"mb-25",children:c.billingaddressline2}),Object(x.jsxs)(o.u,{className:"mb-25",children:[c.billingaddresscity," - ",c.billingaddresszipcode]}),Object(x.jsx)(o.u,{className:"mb-25",children:c.billingaddressstate})]}),Object(x.jsxs)(o.B,{className:"p-0",md:"4",children:[Object(x.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(x.jsx)("table",{children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Total Due:"}),Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"fw-bold",children:c.dueamount})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Bank name:"}),Object(x.jsx)("td",{children:c.bankaccountbankname})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Account Name:"}),Object(x.jsx)("td",{children:c.bankaccountholdername})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(x.jsx)("td",{children:c.bankaccountbranchname})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Account Type:"}),Object(x.jsx)("td",{children:["","Savings","Checking"][c.bankaccounttype]})]})]})})]})]}),Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[Object(x.jsx)(o.B,{className:"p-0",xl:"8",children:Object(x.jsxs)(o.u,{className:"mb-25",children:["Place Of Supply: ",c.placeofsupplyothers]})}),Object(x.jsx)(o.B,{className:"p-0 mt-xl-0 mt-2",xl:"4",children:Object(x.jsx)("table",{children:Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pe-1",children:"Currency code: "}),Object(x.jsx)("td",{children:c.billingcurrencyshortname})]})})})})]})]}),Object(x.jsxs)(o.mb,{responsive:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"py-1",children:"Item"}),Object(x.jsx)("th",{className:"py-1",children:"Description"}),Object(x.jsx)("th",{className:"py-1",children:"Price"}),Object(x.jsx)("th",{className:"py-1",children:"Tax"}),Object(x.jsx)("th",{className:"py-1",children:"Total"})]})}),Object(x.jsx)("tbody",{children:f.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"py-1",children:Object(x.jsx)("p",{className:"card-text fw-bold mb-25",children:e.servicesName})}),Object(x.jsx)("td",{className:"py-1",children:Object(x.jsx)("span",{className:"fw-bold",children:e.description})}),Object(x.jsx)("td",{className:"py-1",children:Object(x.jsx)("span",{className:"fw-bold",children:e.price})}),Object(x.jsx)("td",{className:"py-1",children:Object(x.jsx)("span",{className:"fw-bold",children:e.taxes.map((function(e,t){return Object(x.jsx)(o.ib,{children:Object(x.jsxs)("span",{children:[e.taxName||e.tax_name," - ",e.taxAmount||e.tax_amount_calculated]})},t)}))})}),Object(x.jsx)("td",{className:"py-1",children:Object(x.jsx)("span",{className:"fw-bold",children:e.subTotalAmount})})]},t)}))})]}),Object(x.jsx)(o.m,{className:"invoice-padding pb-0",children:Object(x.jsxs)(o.ib,{className:"invoice-sales-total-wrapper",children:[Object(x.jsx)(o.B,{className:"mt-md-0 mt-3",md:"6",order:{md:1,lg:2},children:(t=c.totalamount,"".concat(L(t.split(".")[0])," and Paise ").concat(L(t.split(".")[1])," Only"))}),Object(x.jsx)(o.B,{className:"d-flex justify-content-end",md:"6",order:{md:2,lg:1},children:Object(x.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(x.jsxs)("div",{className:"invoice-total-item",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(x.jsx)("p",{className:"invoice-total-amount",children:c.totalamount})]}),Object(x.jsxs)("div",{className:"invoice-total-item",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:"Pre Tax Amount:"}),Object(x.jsx)("p",{className:"invoice-total-amount",children:c.subtotalamount})]}),!c.isrcmapplicable&&Object(x.jsx)("div",{children:w.length>0&&w.map((function(e,t){return Object(x.jsxs)("div",{className:"invoice-total-item",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:e.taxName||"".concat(e.tax_name).concat(e.tax_percentage,"%")}),Object(x.jsx)("p",{className:"invoice-total-amount",children:e.taxAmount||e.tax_amount})]},t)}))}),Object(x.jsx)("hr",{className:"my-50"}),Object(x.jsxs)("div",{className:"invoice-total-item",children:[Object(x.jsx)("p",{className:"invoice-total-title",children:"Balance Due:"}),Object(x.jsx)("p",{className:"invoice-total-amount",children:c.dueamount})]})]})})]})}),Object(x.jsx)("hr",{className:"invoice-spacing"}),Object(x.jsx)(o.m,{className:"invoice-padding pt-0",children:Object(x.jsx)(o.ib,{children:Object(x.jsxs)(o.B,{sm:"12",children:[Object(x.jsx)("span",{className:"fw-bold",children:"Note: "}),Object(x.jsx)("span",{children:c.note})]})})})]})]}):null},g=c(6),y=c(70),w=function(e){var t=e.id,c=e.setSendSidebarOpen,n=e.setMarkAsInvoice,a=e.invoice,r=Object(i.useState)([]),d=Object(s.a)(r,2),j=d[0],b=d[1];return Object(i.useEffect)((function(){g.a.post("/taskinvoices/getparticipants",{invoiceId:a.id}).then((function(e){b(e.data.taskinvoiceparticipants)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsx)(o.l,{className:"invoice-action-wrapper",children:Object(x.jsxs)(o.m,{children:[Object(x.jsx)(y.b,{I:"read",a:"invoice",children:Object(x.jsx)(o.i,{color:"primary",block:!0,className:"mb-75",onClick:function(){return c(!0)},children:"Send Proposal"})}),Object(x.jsx)(y.b,{I:"write",a:"invoice",children:Object(x.jsx)(o.i,{color:"primary",outline:!0,block:!0,className:"mb-75",onClick:function(){return n(!0)},children:"Mark as Invoice"})}),Object(x.jsx)(y.b,{I:"export",a:"invoice",children:Object(x.jsx)(o.i,{color:"secondary",block:!0,outline:!0,className:"mb-75",onClick:function(){g.a.post("/pdfmaker/pdf",{id:a.id}).then((function(e){var t=document.createElement("a"),c="".concat(a.uniqueno,".pdf");t.href=e.data.pdf,t.download=c,t.click(),document.removeChild(t)})).catch((function(e){console.log(e)}))},children:"Download"})}),Object(x.jsx)(y.b,{I:"export",a:"invoice",children:Object(x.jsx)(o.i,{color:"secondary",block:!0,outline:!0,className:"mb-75",onClick:function(){window.print()},children:"Print"})}),Object(x.jsx)(y.b,{I:"write",a:"invoice",children:Object(x.jsx)(o.i,{tag:l.b,to:"/invoice/edit/".concat(t),color:"secondary",block:!0,outline:!0,className:"mb-75",children:"Edit"})}),j.length>0&&Object(x.jsxs)(o.B,{className:"mt-2",children:[Object(x.jsx)("h4",{children:"Tagged Employees"}),Object(x.jsx)(o.ib,{className:"mt-1",children:j.map((function(e,t){return Object(x.jsx)(o.f,{className:"mt-md-75 py-md-75",color:"primary",children:e.name},t)}))})]}),Object(x.jsxs)(o.B,{className:"mt-2",children:[Object(x.jsxs)(o.ib,{className:"mt-1",children:[Object(x.jsx)("h5",{children:"Task ID"}),Object(x.jsx)(o.B,{md:12,tag:l.b,to:"/task/view/".concat(a.taskid),children:a.uniqueidentity})]}),Object(x.jsxs)(o.ib,{className:"mt-1",children:[Object(x.jsx)("h5",{children:"Task Description"}),Object(x.jsx)(o.B,{md:12,children:a.description})]})]})]})})},C=c(1014),I=(c(743),c(394)),S=c(185),k=c.n(S),T=c(186),E=c.n(T)()(k.a),L=Object(u.a)();t.default=function(){var e=Object(r.g)().id,t=Object(r.f)(),c=Object(b.b)(),d=Object(i.useState)(!1),j=Object(s.a)(d,2),u=j[0],h=j[1],O=Object(i.useState)("1"),p=Object(s.a)(O,2),v=p[0],g=p[1],y=Object(b.c)((function(e){return e.proposal})),S=function(){var t=Object(a.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(Object(m.j)(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){S()}),[]);return null!==y.selectedInvoice&&void 0!==y.selectedInvoice?Object(x.jsxs)("div",{className:"invoice-preview-wrapper",children:[Object(x.jsxs)(o.ib,{className:"invoice-preview",children:[Object(x.jsxs)(o.B,{xl:10,md:8,sm:12,children:[Object(x.jsx)(o.U,{pills:!0,className:"mb-2",children:Object(x.jsx)(o.V,{children:Object(x.jsxs)(o.W,{active:"1"===v,onClick:function(){var e;v!==(e="1")&&g(e)},children:[Object(x.jsx)(I.a,{className:"font-medium-3 me-50"}),Object(x.jsx)("span",{className:"fw-bold",children:"Profoma Invoice"})]})})}),Object(x.jsx)(o.kb,{activeTab:v,children:Object(x.jsx)(o.lb,{tabId:"1",children:"IN"===L.countryshortname?Object(x.jsx)(f,{data:y.selectedInvoice,tabId:v}):Object(x.jsx)(N,{data:y.selectedInvoice,tabId:v})})})]}),Object(x.jsx)(o.B,{xl:2,md:4,sm:12,children:Object(x.jsx)(w,{id:e,setSendSidebarOpen:h,setMarkAsInvoice:function(){return E.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Mark As Invoice!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var s=Object(a.a)(Object(n.a)().mark((function a(s){return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s.value){n.next=5;break}return n.next=3,c(Object(m.l)(e));case 3:E.fire({icon:"success",title:"Mark as Invoice.",text:"Proposal Marked As Invoice.",customClass:{confirmButton:"btn btn-success"}}),t("/invoice/view/".concat(e));case 5:case"end":return n.stop()}}),a)})));return function(e){return s.apply(this,arguments)}}())},invoice:y.selectedInvoice})})]}),Object(x.jsx)(C.a,{toggleSidebar:function(){return h(!u)},open:u,invoice:y.selectedInvoice})]}):Object(x.jsxs)(o.e,{color:"danger",children:[Object(x.jsx)("h4",{className:"alert-heading",children:"Profoma Invoice not found"}),Object(x.jsxs)("div",{className:"alert-body",children:["Profoma Invoice with id: ",e," doesn't exist. Check list of all Profoma Invoice:"," ",Object(x.jsx)(l.b,{to:"/Proposal/list",children:"Profoma Invoice List"})]})]})}},735:function(e,t,c){"use strict";var n=c(8),a=c(27),s=c(0),i=c(7),r=c.n(i),l=c(14),o=(c(738),c(3)),d=function(e){var t,c=e.children,i=e.blocking,l=e.loader,d=e.className,j=e.tag,b=e.overlayColor,m=j;return Object(o.jsxs)(m,{className:r()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",i),t)),children:[c,i?Object(o.jsxs)(s.Fragment,{children:[Object(o.jsx)("div",Object(n.a)({className:"overlay"},i&&b?{style:{backgroundColor:b}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},736:function(e,t,c){"use strict";var n=c(3);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},738:function(e,t,c){},743:function(e,t,c){},760:function(e,t,c){},763:function(e,t,c){e.exports=function(){"use strict";function e(e,t){if(e)for(var c in e)({}).hasOwnProperty.call(e,c)&&t(c,e[c])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}var c={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function n(e){return e&&c[e]}function a(t){var c="";return e(t,(function(e,t){t&&(c+="".concat(e,":").concat(t,";"))})),c}function s(e,t){var c=[];if(t)for(var n=0,a=0,s=e,i=t.trigger||"#",r=t.separator||" ";s.length>0&&a>=0;)if(s[0]===i?(a=0,n=0,s=s.substr(i.length)):(a=s.indexOf(r+i))>=0&&(s=s.substr(a+(r+i).length),n+=a+r.length),a>=0){var l=s.indexOf(r)>=0?s.indexOf(r):s.length,o=s.substr(0,l);o&&o.length>0&&c.push({offset:n,length:o.length+i.length,type:"HASHTAG"}),n+=i.length}return c}function i(e,t){var c=[],n=0,a=e.entityRanges.map((function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}}));return(a=(a=a.concat(s(e.text,t))).sort((function(e,t){return e.offset-t.offset}))).forEach((function(e){e.offset>n&&c.push({start:n,end:e.offset}),c.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),n=e.offset+e.length})),n<e.text.length&&c.push({start:n,end:e.text.length}),c}function r(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function l(e){var t=e.text,c=e.inlineStyleRanges,n={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return c&&c.length>0&&c.forEach((function(e){for(var t=e.offset,c=t+e.length,a=t;a<c;a+=1)0===e.style.indexOf("color-")?n.COLOR[a]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?n.BGCOLOR[a]=e.style.substring(8):0===e.style.indexOf("fontsize-")?n.FONTSIZE[a]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?n.FONTFAMILY[a]=e.style.substring(11):n[e.style]&&(n[e.style][a]=!0)})),n}function o(e,t){var c={};return e.COLOR[t]&&(c.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(c.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(c.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(c.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(c.UNDERLINE=!0),e.ITALIC[t]&&(c.ITALIC=!0),e.BOLD[t]&&(c.BOLD=!0),e.STRIKETHROUGH[t]&&(c.STRIKETHROUGH=!0),e.CODE[t]&&(c.CODE=!0),e.SUBSCRIPT[t]&&(c.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(c.SUPERSCRIPT=!0),c}function d(e,t,c){var n=!0;return c>0&&c<e.length?t.forEach((function(t){n=n&&e[t][c]===e[t][c-1]})):n=!1,n}function j(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function b(e){return e&&e.length>0?e.map((function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}})).join(""):""}function m(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var c='style="';return e.COLOR&&(c+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(c+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(c+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(c+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(c+='"',">").concat(t,"</span>")}return t}function u(e,t,c,n){var a=e[t];if("function"===typeof n){var s=n(a,c);if(s)return s}if("MENTION"===a.type)return'<a href="'.concat(a.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(a.data.value,'">').concat(c,"</a>");if("LINK"===a.type){var i=a.data.targetOption||"_self";return'<a href="'.concat(a.data.url,'" target="').concat(i,'">').concat(c,"</a>")}if("IMAGE"===a.type){var r=a.data.alignment;return r&&r.length?'<div style="text-align:'.concat(r,';"><img src="').concat(a.data.src,'" alt="').concat(a.data.alt,'" style="height: ').concat(a.data.height,";width: ").concat(a.data.width,'"/></div>'):'<img src="'.concat(a.data.src,'" alt="').concat(a.data.alt,'" style="height: ').concat(a.data.height,";width: ").concat(a.data.width,'"/>')}return"EMBEDDED_LINK"===a.type?'<iframe width="'.concat(a.data.width,'" height="').concat(a.data.height,'" src="').concat(a.data.src,'" frameBorder="0"></iframe>'):c}function h(e,t,c,n){var a=[],s=Array.from(e.text);if(s.length>0)for(var i,r=l(e),j=c;j<n;j+=1)j!==c&&d(r,t,j)?(i.text.push(s[j]),i.end=j+1):(i={styles:o(r,j),text:[s[j]],start:j,end:j+1},a.push(i));return a}function O(e){if(e){for(var t=e,c=0;c<t.length&&" "===e[c];c+=1)t=t.replace(" ","&nbsp;");return t}return e}function x(e){if(e){for(var t=e,c=t.length-1;c>=0&&" "===t[c];c-=1)t="".concat(t.substring(0,c),"&nbsp;").concat(t.substring(c+1));return t}return e}function p(t){var c=t.styles,n=b(t.text);return e(c,(function(e,t){n=j(e,n)})),n}function f(e,t){var c=h(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),n="";return c.forEach((function(e){n+=p(e)})),n=m(t.styles,n)}function v(e,t,c,n){var a=[];h(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],c.start,c.end).forEach((function(t){a.push(f(e,t))}));var s=a.join("");return"ENTITY"===c.type?void 0!==c.entityKey&&null!==c.entityKey&&(s=u(t,c.entityKey,s,n)):"HASHTAG"===c.type&&(s='<a href="'.concat(s,'" class="wysiwyg-hashtag">').concat(s,"</a>")),s}function N(e,t,c,n){var a=[],s=i(e,c);return s.forEach((function(c,i){var r=v(e,t,c,n);0===i&&(r=O(r)),i===s.length-1&&(r=x(r)),a.push(r)})),a.join("")}function g(e,t,c,s,i){var l=[];if(r(e))l.push(u(t,e.entityRanges[0].key,void 0,i));else{var o=n(e.type);if(o){l.push("<".concat(o));var d=a(e.data);d&&l.push(' style="'.concat(d,'"')),s&&l.push(' dir = "auto"'),l.push(">"),l.push(N(e,t,c,i)),l.push("</".concat(o,">"))}}return l.push("\n"),l.join("")}function y(e){return"unordered-list-item"===e||"ordered-list-item"===e}function w(e,t,c,s,i){var r,l=[],o=[];return e.forEach((function(e){var d=!1;if(r?r.type!==e.type?(l.push("</".concat(n(r.type),">\n")),l.push("<".concat(n(e.type),">\n"))):r.depth===e.depth?o&&o.length>0&&(l.push(w(o,t,c,s,i)),o=[]):(d=!0,o.push(e)):l.push("<".concat(n(e.type),">\n")),!d){l.push("<li");var j=a(e.data);j&&l.push(' style="'.concat(j,'"')),s&&l.push(' dir = "auto"'),l.push(">"),l.push(N(e,t,c,i)),l.push("</li>\n"),r=e}})),o&&o.length>0&&l.push(w(o,t,c,s,i)),l.push("</".concat(n(r.type),">\n")),l.join("")}function C(e,t,c,n){var a=[];if(e){var s=e.blocks,i=e.entityMap;if(s&&s.length>0){var r=[];if(s.forEach((function(e){if(y(e.type))r.push(e);else{if(r.length>0){var s=w(r,i,t,n);a.push(s),r=[]}var l=g(e,i,t,c,n);a.push(l)}})),r.length>0){var l=w(r,i,t,c,n);a.push(l),r=[]}}}return a.join("")}return C}()},781:function(e,t,c){"use strict";var n=c(11),a=c(0),s=c.n(a),i=c(78),r=c(196),l=c(15),o=c(18),d=c(41),j=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],b=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,c=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=String(t.getOptionValue(e)).toLowerCase(),a=String(t.getOptionLabel(e)).toLowerCase();return n===c||a===c},m={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,c,n){return!(!e||t.some((function(t){return b(e,t,n)}))||c.some((function(t){return b(e,t,n)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};c(485),c(487),c(103),c(106),c(107),c(194),c(93),c(36),c(486),c(104);var u=s.a.forwardRef((function(e,t){var c=function(e){var t=e.allowCreateWhileLoading,c=void 0!==t&&t,n=e.createOptionPosition,s=void 0===n?"last":n,r=e.formatCreateLabel,b=void 0===r?m.formatCreateLabel:r,u=e.isValidNewOption,h=void 0===u?m.isValidNewOption:u,O=e.getNewOptionData,x=void 0===O?m.getNewOptionData:O,p=e.onCreateOption,f=e.options,v=void 0===f?[]:f,N=e.onChange,g=Object(d.a)(e,j),y=g.getOptionValue,w=void 0===y?i.c:y,C=g.getOptionLabel,I=void 0===C?i.b:C,S=g.inputValue,k=g.isLoading,T=g.isMulti,E=g.value,L=g.name,A=Object(a.useMemo)((function(){return h(S,Object(l.i)(E),v,{getOptionValue:w,getOptionLabel:I})?x(S,b(S)):void 0}),[b,x,I,w,S,h,v,E]),B=Object(a.useMemo)((function(){return!c&&k||!A?v:"first"===s?[A].concat(Object(o.a)(v)):[].concat(Object(o.a)(v),[A])}),[c,s,k,A,v]),R=Object(a.useCallback)((function(e,t){if("select-option"!==t.action)return N(e,t);var c=Array.isArray(e)?e:[e];if(c[c.length-1]!==A)N(e,t);else if(p)p(S);else{var n=x(S,S),a={action:"create-option",name:L,option:n};N(Object(l.d)(T,[].concat(Object(o.a)(Object(l.i)(E)),[n]),n),a)}}),[x,S,T,L,A,p,N,E]);return Object(l.o)(Object(l.o)({},g),{},{options:B,onChange:R})}(Object(r.a)(e));return s.a.createElement(i.a,Object(n.a)({ref:t},c))}));t.a=u},790:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a}));var n=function(e,t,c){var n=0;return 1===c?n=parseFloat(e)-parseFloat(e)*(100/(100+parseFloat(t))):2===c&&(n=parseFloat(e)*parseFloat(t)/100),parseFloat(n)},a=function(e){return JSON.parse(Array.isArray(e)?JSON.stringify(e).replace(/\\/g,""):e.replace(/\\/g,""))}}}]);
//# sourceMappingURL=45.f749f0bb.chunk.js.map
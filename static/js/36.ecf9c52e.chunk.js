(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[36],{1012:function(e,t,n){"use strict";var c=n(41),a=n(12),s=n(8),i=n(10),r=n(0),l=n(61),o=n(770),d=n(763),j=n.n(d),u=n(766),b=n(15),m=n(184),h=n(781),O=n(253),f=n(387),p=n(6),x=n(14),N=n(55),v=n(28),g=n.n(v),y=n(13),w=(n(760),n(481),n(735)),C=n(736),S=n(187),I=n(3),k=["data"],A=Object(y.a)(),T=Object(y.c)();t.a=function(e){var t={multiValue:function(e,t){return Object(i.a)(t),Object(s.a)(Object(s.a)({},e),{},{backgroundColor:"#7367f0"})}},n=Object(r.useState)(!1),d=Object(a.a)(n,2),v=d[0],y=d[1],P=function(){return Object(I.jsx)(r.Fragment,{children:Object(I.jsx)(C.a,{})})},D=Object(r.useState)([]),B=Object(a.a)(D,2),E=B[0],F=B[1],L=Object(r.useState)([]),R=Object(a.a)(L,2),M=R[0],Y=R[1],H=Object(r.useState)(""),_=Object(a.a)(H,2),z=_[0],q=_[1],V=e.open,U=e.toggleSidebar,G=e.invoice,K=Object(r.useState)(""),W=Object(a.a)(K,2),Z=W[0],J=W[1],$=Object(r.useState)([]),Q=Object(a.a)($,2),X=Q[0],ee=Q[1],te=Object(r.useState)([]),ne=Object(a.a)(te,2),ce=ne[0],ae=ne[1],se=function(e){p.a.post("contactinformations/list",{contactid:e}).then((function(e){ae(e.data.contactinformations)})).catch((function(){}))},ie=function(){p.a.post("/emailtemplates/get",{slug:"invoice-send-mail"}).then((function(e){var t,n=e.data.emailtemplates.description.replace("{invoice_date}",(t=G.paymentdue,13===t.length?g()(t,"x").format("MMM DD, YYYY"):g.a.unix(t).format("MMM DD, YYYY"))).replace("{service}",G.taskinvoiceitemsservicename).replace("recipient_name",G.contactperson).replace("{recipient_name}",G.contactperson).replace("{invoice_no}",G.uniqueno).replace("{amount}",G.totalamount).replace("{invoice_amount}",G.totalamount).replace("{your_name}",T.name).replaceAll("{firm_name}",A.name).replace("{","").replace("}",""),c=u.EditorState.createWithContent(u.ContentState.createFromBlockArray(Object(u.convertFromHTML)(n)));q(c),J(n)})).catch((function(){}))};Object(r.useEffect)((function(){void 0!==G.clientid&&se(G.clientid),void 0!==G.contactid&&se(G.contactid),Object.keys(G).length>0&&(p.a.post("/organizationusers/dropdown").then((function(e){ee(e.data.organizationusers)})).catch((function(){})),ie())}),[G]);var re=Object(r.useState)(!1),le=Object(a.a)(re,2),oe=le[0],de=le[1],je=function(e){var t,n=e.data,a=Object(c.a)(e,k);return Object(I.jsx)(b.q.Option,Object(s.a)(Object(s.a)({},a),{},{children:Object(I.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(I.jsx)(l.a,{className:"my-0 me-50",size:"sm",initials:!0,content:null===(t=n.name)||void 0===t?void 0:t.charAt(0)}),n.name," - ",n.email]})}))},ue=function(e){e.preventDefault(),de(!oe)};return Object(I.jsx)("div",{className:"email-application",children:Object(I.jsx)("div",{className:"content-area-wrapper",children:Object(I.jsx)("div",{className:"col-md-12",children:Object(I.jsx)("div",{className:"content-body",children:Object(I.jsx)(x.Q,{scrollable:!0,fade:!1,keyboard:!1,backdrop:!1,id:"compose-mail",container:".content-body",className:"modal-lg",isOpen:V,contentClassName:"p-0",toggle:U,modalClassName:"modal-sticky",children:Object(I.jsxs)(w.a,{blocking:v,loader:Object(I.jsx)(P,{}),children:[Object(I.jsxs)("div",{className:"modal-header",children:[Object(I.jsx)("h5",{className:"modal-title",children:"Compose Mail"}),Object(I.jsx)("div",{className:"modal-actions",children:Object(I.jsx)("a",{href:"/",className:"text-body",onClick:function(e){e.preventDefault(),U()},children:Object(I.jsx)(O.a,{size:14})})})]}),Object(I.jsx)(x.R,{className:"flex-grow-1 p-0",children:Object(I.jsxs)(x.H,{className:"compose-form",onSubmit:function(e){return e.preventDefault()},children:[Object(I.jsxs)("div",{className:"compose-mail-form-field",children:[Object(I.jsx)(x.N,{for:"email-to",className:"form-label",children:"To:"}),Object(I.jsx)("div",{className:"flex-grow-1",children:Object(I.jsx)(h.a,{isMulti:!0,id:"email-to",isClearable:!1,theme:N.g,options:ce,className:"react-select select-borderless",classNamePrefix:"select",components:{Option:je},styles:t,onChange:function(e){F(e.map((function(e){return e.email})))},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},getOptionValue:function(e){return e.id}})}),Object(I.jsx)("div",{children:Object(I.jsx)("a",{href:"/",className:"toggle-cc text-body me-1",onClick:ue,children:"Cc"})})]}),!0===oe?Object(I.jsxs)("div",{className:"compose-mail-form-field cc-wrapper",children:[Object(I.jsx)(x.N,{for:"email-cc",className:"form-label",children:"Cc:"}),Object(I.jsx)("div",{className:"flex-grow-1",children:Object(I.jsx)(m.a,{isMulti:!0,id:"email-cc",onChange:function(e){Y(e.map((function(e){return e.email})))},isClearable:!1,theme:N.g,options:X,className:"react-select select-borderless",classNamePrefix:"select",components:{Option:je},styles:t,getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},getOptionValue:function(e){return e.id}})}),Object(I.jsx)("div",{children:Object(I.jsx)("a",{href:"/",className:"toggle-cc text-body",onClick:ue,children:Object(I.jsx)(O.a,{size:14})})})]}):null,Object(I.jsxs)("div",{className:"compose-mail-form-field",children:[Object(I.jsx)(x.N,{for:"email-subject",className:"form-label",children:"Subject:"}),Object(I.jsx)(x.K,{id:"email-subject",placeholder:"Subject"})]}),Object(I.jsx)("div",{id:"message-editor",children:Object(I.jsx)(o.Editor,{placeholder:"Message",toolbarClassName:"rounded-0",wrapperClassName:"toolbar-bottom",editorState:z,onEditorStateChange:function(e){q(e),J(j()(Object(u.convertToRaw)(e.getCurrentContent())))},editorClassName:"rounded-0 border-0",toolbar:{options:["inline","textAlign"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough"]}}})}),Object(I.jsxs)("div",{className:"compose-footer-wrapper",children:[Object(I.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[Object(I.jsx)(x.i,{outline:!0,color:"primary",onClick:function(){!function(){y(!0);var e="".concat(G.uniqueno," Invoices Acknowledgement Mail");p.a.post("/google/sendGmail",{content:Z,subject:e,toEmail:E,ccEmail:M,taskinvoiceId:G.id,clientName:G.contactname}).then((function(){U(!1),y(!1),S.b.success("Email send Successfully",{position:"bottom-right"})})),console.log((function(){}))}()},children:"Send"}),Object(I.jsxs)("div",{className:"email-attachement rounded border p-50 ms-50",children:[G.uniqueno,".pdf"]})]}),Object(I.jsx)("div",{className:"footer-action d-flex align-items-center",children:Object(I.jsx)(f.a,{className:"cursor-pointer",size:18,onClick:U})})]})]})})]})})})})})})}},1442:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(5),s=n(12),i=n(0),r=n(23),l=n(25),o=n(6),d=n(14),j=n(28),u=n.n(j),b=n(21),m=n(189),h=n(13),O=n(795),f=n(61),p=n(3),x=Object(h.a)(),N=function(e){var t,n=e.data,l=Object(r.g)().id,o=Object(b.b)(),j=Object(i.useState)([]),h=Object(s.a)(j,2),N=h[0],v=h[1],g=Object(i.useState)([]),y=Object(s.a)(g,2),w=y[0],C=y[1],S=function(e){return 13===e.length?u()(e,"x").format("MMM DD, YYYY"):u.a.unix(e).format("MMM DD, YYYY")},I=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],k=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],A=[{id:"",name:"Select All"},{id:"4",name:"Draft",color:"light-primary"},{id:"5",name:"Pending",color:"light-danger"},{id:"6",name:"Partially Paid",color:"light-warning"},{id:"7",name:"Paid",color:"light-success"},{id:"11",name:"Sent",color:"light-secondary"}],T=function(e){return A.find((function(t){return parseInt(t.id)===parseInt(e)}))},P=function(e){if(void 0===e)return"zero";if((e===e.toString()).length>9)return"overflow";var t="000000000".concat(e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(t){var n="";return n+=0!==Number(t[1])?Number(t[1])<=19?" ".concat(I[Number(t[1])],"core"):" ".concat(k[Number(t[1][0])]," ").concat(I[Number(t[1][1])],"crore"):"",n+=0!==Number(t[2])?Number(t[2])<=19?" ".concat(I[Number(t[2])],"lakh"):" ".concat(k[Number(t[2][0])]," ").concat(I[Number(t[2][1])],"lakh"):"",n+=0!==Number(t[3])?Number(t[3])<=19?" ".concat(I[Number(t[3])],"thousand"):" ".concat(k[Number(t[3][0])]," ").concat(I[Number(t[3][1])],"thousand"):"",n+=0!==Number(t[4])?Number(t[4])<=19?" ".concat(I[Number(t[4])],"hundred"):" ".concat(k[Number(t[4])],"hundred"):"",t[5]=String(t[5]),(n+=0!==Number(t[5])?"".concat(""!==n?" and ":""," ").concat(I[Number(t[5])]||"".concat(k[Number(t[5][0])]," ").concat(I[Number(t[5][1])])):"").replace(/\w\S*/g,(function(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+e.substr(1).toLowerCase()}))}},D=function(e){var t=String(e),n="",c="";t.includes(".")?(n=t.slice(t.indexOf(".")),c=(c=t.replace(n,"")).toString()):c=t.toString();var a=c.substring(c.length-3),s=c.substring(0,c.length-3);return""!==s&&(a=",".concat(a)),s.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a+(""===n?".00":".".concat(n.toString().split(".")[1]))};return Object(i.useEffect)(Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(Object(O.b)(n.calculatetaxes)),e.next=3,o(Object(m.k)(l));case 3:return t=e.sent,e.next=6,v(t.payload);case 6:case"end":return e.stop()}}),e)}))),[n]),null!==n?Object(p.jsxs)(d.l,{className:"invoice-preview-card",children:[Object(p.jsx)(d.B,{children:Object(p.jsx)(d.f,{color:T(n.paymentstatus).color||"light-primary",children:T(n.paymentstatus).name||n.paymentstatus})}),Object(p.jsxs)("div",{className:"invoice-container",children:[Object(p.jsxs)(d.m,{className:"invoice-padding pb-0",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[null===x.imageid?function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(p.jsx)(f.a,{color:t,className:"me-50",content:null!==e?null===e||void 0===e?void 0:e.charAt(0):""})}(x.name):Object(p.jsx)("img",{referrerPolicy:"no-referrer",className:"rounded me-50",height:75,width:75,src:"https://drive.google.com/thumbnail?id=".concat(x.imageid,"&authuser=0"),alt:"Organisation Logo"}),Object(p.jsx)("h3",{className:"text-primary",children:"Invoice"}),Object(p.jsx)("h5",{children:"Original for recepient"})]}),Object(p.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between",children:[Object(p.jsxs)("div",{className:"col col-12 col-md-6",children:[Object(p.jsx)("div",{className:"logo-wrapper mb-0 mb-lg-2",children:Object(p.jsx)("h4",{className:"text-primary ms-0 mt-2",children:x.name})}),Object(p.jsx)(d.u,{className:"mb-25",children:x.addressline1}),Object(p.jsx)(d.u,{className:"mb-25",children:x.addressline2}),Object(p.jsxs)(d.u,{className:"mb-0",children:[x.city," - ",x.pinzipcode]}),Object(p.jsx)(d.u,{className:"mb-0",children:x.statename}),(null===n||void 0===n?void 0:n.isgstregistered)&&Object(p.jsxs)(d.u,{className:"mb-0",children:["GSTIN - ",x.gstin," \xa0\xa0 State Code : ",x.gstin.substr(0,2)]})]}),Object(p.jsxs)("div",{className:"mt-lg-3 mt-1 col-md-3 col-12",children:[Object(p.jsxs)("div",{className:"invoice-date-wrapper justify-content-between",children:[Object(p.jsx)("p",{className:"col-6 mb-25",children:"Invoice"}),Object(p.jsx)("p",{className:"col-6 m-25 invoice-date text-end ",children:n.uniqueno})]}),Object(p.jsxs)("div",{className:"invoice-date-wrapper justify-content-between",children:[Object(p.jsx)("p",{className:"invoice-date-title col-6",children:"Date Issued:"}),Object(p.jsx)("p",{className:"invoice-date col-6 text-end",children:S(n.invoicedate)})]}),Object(p.jsxs)("div",{className:"invoice-date-wrapper justify-content-between",children:[Object(p.jsx)("p",{className:"invoice-date-title",children:"Due Date:"}),Object(p.jsx)("p",{className:"invoice-date text-end",children:S(n.paymentdue)})]})]})]})]}),Object(p.jsxs)(d.m,{className:"invoice-padding pt-0",children:[Object(p.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between mt-1",children:[Object(p.jsxs)(d.B,{className:"p-0 col-12 col-md-9",children:[Object(p.jsx)("h6",{className:"mb-2",children:"Invoice To:"}),Object(p.jsx)("h6",{className:"mb-25",children:n.contactname}),Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressline1}),Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressline2}),Object(p.jsxs)(d.u,{className:"mb-25",children:[n.billingaddresscity," - ",n.billingaddresszipcode]}),""!==n.billingaddressstate&&Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressstate}),""!==n.billingaddressstateothers&&Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressstateothers}),(null===n||void 0===n?void 0:n.isgstregistered)&&""!==n.gstin&&Object(p.jsxs)(d.u,{className:"mb-25",children:["GSTIN - ",n.gstin]})]}),Object(p.jsxs)(d.B,{className:"p-0 col-12 col-md-3",children:[Object(p.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(p.jsx)("table",{className:"col-12",children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Total Due:"}),Object(p.jsx)("td",{className:"text-end",children:Object(p.jsxs)("span",{className:"fw-bold",children:[D(parseFloat(n.dueamount).toFixed(2))," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Bank name:"}),Object(p.jsx)("td",{className:"text-end",children:n.bankaccountbankname})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Account Name:"}),Object(p.jsx)("td",{className:"text-end",children:Object(p.jsx)("p",{className:"text-end m-0 text-overflow-ellipsis",children:n.bankaccountholdername})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(p.jsx)("td",{className:"text-end",children:n.bankaccountbranchname})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"IFSC code:"}),Object(p.jsx)("td",{className:"text-end",children:n.bankaccountifsccode})]})]})})]})]}),Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[console.log(n.isgstregistered),(null===n||void 0===n?void 0:n.isgstregistered)&&n.placeofsupplyname&&Object(p.jsxs)(d.B,{className:"p-0",xl:"8",children:[Object(p.jsxs)(d.u,{className:"mb-25",children:["Place Of Supply: ",n.placeofsupplyname]}),Object(p.jsxs)(d.u,{className:"mb-25",children:["State: ",n.placeofsupplyname," \xa0\xa0State Code:  "]})]}),""!==n.placeofsupplyothers&&Object(p.jsx)(d.B,{className:"p-0",xl:"8",children:Object(p.jsxs)(d.u,{className:"mb-25",children:["Place Of Supply: ",n.placeofsupplyothers]})}),Object(p.jsx)(d.B,{className:"p-0 mt-xl-0 mt-2",md:"3",sm:"6",children:Object(p.jsx)("table",{className:"col-12",children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Currency code: "}),Object(p.jsx)("td",{className:"text-end",children:n.billingcurrencyshortname})]})})})})]})]}),Object(p.jsxs)(d.mb,{responsive:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"py-1",children:"Item"}),(null===n||void 0===n?void 0:n.isgstregistered)&&Object(p.jsx)("th",{className:"py-1",children:"SAC Code"}),Object(p.jsx)("th",{className:"py-1",children:"Price"}),(null===n||void 0===n?void 0:n.isgstregistered)&&Object(p.jsx)("th",{className:"py-1",children:"Tax"}),Object(p.jsx)("th",{className:"py-1",children:"Total"})]})}),Object(p.jsx)("tbody",{children:N.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{className:"py-1",children:[Object(p.jsx)("p",{className:"card-text fw-bold mb-25",children:e.servicesName}),Object(p.jsx)("p",{className:"card-text text-nowrap",children:e.description})]}),(null===n||void 0===n?void 0:n.isgstregistered)&&Object(p.jsx)("td",{className:"py-1",children:Object(p.jsx)("span",{className:"fw-bold",children:e.sacCode})}),Object(p.jsx)("td",{className:"py-1",children:Object(p.jsxs)("span",{className:"fw-bold",children:[D(e.price)," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})}),(null===n||void 0===n?void 0:n.isgstregistered)&&Object(p.jsx)("td",{className:"py-1",children:Object(p.jsxs)("span",{className:"fw-bold",children:[e.taxes.map((function(e,t){return Object(p.jsx)(d.ib,{children:Object(p.jsxs)("span",{children:[e.taxName||e.tax_name," - ",D(e.taxAmount)||D(e.tax_amount_calculated)]})},t)})),!1===e.isTaxApplicable&&Object(p.jsxs)(d.ib,{children:[Object(p.jsx)("span",{children:e.taxGroupName}),Object(p.jsx)("span",{children:e.exemptionReasonName})]})]})}),Object(p.jsx)("td",{className:"py-1",children:Object(p.jsxs)("span",{className:"fw-bold",children:[D(e.subTotalAmount)," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})})]},t)}))})]}),Object(p.jsx)(d.m,{className:"invoice-padding pb-0",children:Object(p.jsxs)(d.ib,{className:"invoice-sales-total-wrapper",children:[Object(p.jsxs)(d.B,{className:"mt-md-0 mt-3",md:"6",order:{md:1,lg:2},children:[Object(p.jsx)("b",{children:"Total In Words "}),":",(t=n.totalamount,"".concat(P(t.split(".")[0])," ").concat(void 0!==t.split(".")[1]?"and Paise ".concat(P(t.split(".")[1])," Only"):"")),x.signatureflag&&Object(p.jsxs)(d.ib,{children:[Object(p.jsx)("p",{className:"font-weight-800 mt-1",children:"Authorized and signed by"}),x.signatureimageid&&Object(p.jsx)("img",{className:"img-fluid width-20-per ms-2",referrerPolicy:"no-referrer",src:"https://drive.google.com/thumbnail?id=".concat(x.signatureimageid,"&authuser=0")})]}),"IN"!==n.isgstregistered&&Object(p.jsxs)("p",{className:"font-weight-800 mt-1",children:["Amount in ",x.currencycode," : ",parseFloat(n.totalamount*n.convertionrate).toFixed(2)]})]}),Object(p.jsx)(d.B,{className:"d-flex justify-content-end",md:"6",order:{md:2,lg:1},children:Object(p.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(p.jsxs)("div",{className:"invoice-total-item",children:[Object(p.jsxs)("p",{className:"invoice-total-title",children:[(null===n||void 0===n?void 0:n.isgstregistered)&&"Pre Tax","  Amount:"]}),Object(p.jsxs)("p",{className:"invoice-total-amount",children:[D(n.subtotalamount)," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})]}),(null===n||void 0===n?void 0:n.isgstregistered)&&Object(p.jsx)("div",{children:w.length>0&&w.map((function(e,t){return Object(p.jsxs)("div",{className:"invoice-total-item",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:e.taxName||"".concat(e.tax_name).concat(e.tax_percentage,"%")}),Object(p.jsxs)("p",{className:"invoice-total-amount",children:[D(e.taxAmount)||D(e.tax_amount)," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})]},t)}))}),Object(p.jsxs)("div",{className:"invoice-total-item text-primary",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(p.jsxs)("p",{className:"invoice-total-amount",children:[D(n.totalamount)," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})]}),Object(p.jsx)("hr",{className:"my-50"}),Object(p.jsxs)("div",{className:"invoice-total-item text-success",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:"Paid:"}),Object(p.jsxs)("p",{className:"invoice-total-amount",children:[D(n.totalamount-n.dueamount)," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})]}),Object(p.jsxs)("div",{className:"invoice-total-item text-danger",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:"Balance Due:"}),Object(p.jsxs)("p",{className:"invoice-total-amount",children:[D(parseFloat(n.dueamount).toFixed(2))," ",null===n||void 0===n?void 0:n.billingcurrencysymbol]})]})]})})]})}),Object(p.jsx)("hr",{className:"invoice-spacing"}),Object(p.jsx)(d.m,{className:"invoice-padding pt-0",children:Object(p.jsx)(d.ib,{children:Object(p.jsxs)(d.B,{sm:"12",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Note: "}),Object(p.jsx)("span",{children:n.note})]})})})]})]}):null},v=Object(h.a)(),g=function(e){var t,n=e.data,l=Object(r.g)().id,o=Object(b.b)(),j=Object(i.useState)([]),h=Object(s.a)(j,2),x=h[0],N=h[1],g=Object(i.useState)([]),y=Object(s.a)(g,2),w=y[0],C=y[1],S=function(e){return 13===e.length?u()(e,"x").format("MMM DD, YYYY"):u.a.unix(e).format("MMM DD, YYYY")},I=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],k=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],A=[{id:"",name:"Select All"},{id:"5",name:"Pending",color:"light-danger"},{id:"6",name:"Partially Paid",color:"light-warning"},{id:"7",name:"Paid",color:"light-success"},{id:"11",name:"Sent",color:"light-secondary"}],T=function(e){return A.find((function(t){return parseInt(t.id)===parseInt(e)}))},P=function(e){if(void 0===e)return"zero";if((e===e.toString()).length>9)return"overflow";var t="000000000".concat(e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(t){var n="";return t[1]=Number(t[1]),n+=0!==Number(t[1])?"".concat(I[Number(t[1])]||k[t[1][0]]," ").concat(isNaN(Number(t[1][1]))?"":I[t[1][1]]," crore "):"",t[2]=Number(t[2]),n+=0!==Number(t[2])?"".concat(I[Number(t[2])]||k[t[2][0]]," ").concat(isNaN(Number(t[2][1]))?"":I[t[2][1]],"lakh "):"",t[3]=Number(t[3]),n+=0!==Number(t[3])?"".concat(I[Number(t[3])]||k[t[3][0]]," ").concat(isNaN(Number(t[3][1]))?"":I[t[3][1]],"thousand "):"",t[4]=Number(t[4]),n+=0!==Number(t[4])?"".concat(I[Number(t[4])]||k[t[4][0]]," hundred "):"",t[5]=Number(t[5]),(n+=0!==Number(t[5])?"".concat(""!==n?"and ":"").concat(I[Number(t[5])]||k[t[5][0]]):"Zero").replace(/\w\S*/g,(function(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+e.substr(1).toLowerCase()}))}};return Object(i.useEffect)(Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(Object(O.b)(n.calculatetaxes)),e.next=3,o(Object(m.k)(l));case 3:return t=e.sent,e.next=6,N(t.payload);case 6:case"end":return e.stop()}}),e)}))),[n]),null!==n?Object(p.jsxs)(d.l,{className:"invoice-preview-card",children:[Object(p.jsx)(d.B,{children:Object(p.jsx)(d.f,{color:T(n.paymentstatus).color||"light-primary",children:T(n.paymentstatus).name||n.paymentstatus})}),Object(p.jsxs)("div",{className:"invoice-container",children:[Object(p.jsxs)(d.m,{className:"invoice-padding pb-0",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[null===v.imageid?function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(p.jsx)(f.a,{color:t,className:"me-50",content:null!==e?null===e||void 0===e?void 0:e.charAt(0):""})}(v.name):Object(p.jsx)("img",{className:"rounded me-50",height:75,width:75,referrerPolicy:"no-referrer",src:"https://drive.google.com/thumbnail?id=".concat(v.imageid,"&authuser=0"),alt:"Organisation Logo"}),Object(p.jsx)("h3",{className:"text-primary",children:"Invoice"}),Object(p.jsx)("h5",{children:"Original for recepient"})]}),Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"logo-wrapper",children:Object(p.jsx)("h4",{className:"text-primary ms-0 mt-2",children:v.name})}),Object(p.jsx)(d.u,{className:"mb-25",children:v.addressline1}),Object(p.jsx)(d.u,{className:"mb-25",children:v.addressline2}),Object(p.jsxs)(d.u,{className:"mb-0",children:[v.city," - ",v.pinzipcode]}),Object(p.jsx)(d.u,{className:"mb-0",children:v.statename})]}),Object(p.jsxs)("div",{className:"mt-3 col-md-4",children:[Object(p.jsx)("div",{className:"invoice-date-wrapper",children:Object(p.jsxs)("h4",{className:"",children:["Invoice ",Object(p.jsx)("span",{className:"invoice-number",children:n.uniqueno})]})}),Object(p.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(p.jsx)("p",{className:"invoice-date-title",children:"Date Issued:"}),Object(p.jsx)("p",{className:"invoice-date",children:S(n.invoicedate)})]}),Object(p.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(p.jsx)("p",{className:"invoice-date-title",children:"Due Date:"}),Object(p.jsx)("p",{className:"invoice-date",children:S(n.paymentdue)})]})]})]})]}),Object(p.jsxs)(d.m,{className:"invoice-padding pt-0",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[Object(p.jsxs)(d.B,{className:"p-0",md:"8",children:[Object(p.jsx)("h6",{className:"mb-2",children:"Invoice To:"}),Object(p.jsx)("h6",{className:"mb-25",children:n.contactname}),Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressline1}),Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressline2}),Object(p.jsxs)(d.u,{className:"mb-25",children:[n.billingaddresscity," - ",n.billingaddresszipcode]}),Object(p.jsx)(d.u,{className:"mb-25",children:n.billingaddressstate})]}),Object(p.jsxs)(d.B,{className:"p-0",md:"4",children:[Object(p.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(p.jsx)("table",{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Total Due:"}),Object(p.jsx)("td",{children:Object(p.jsx)("span",{className:"fw-bold",children:n.dueamount})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Bank name:"}),Object(p.jsx)("td",{children:n.bankaccountbankname})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Account Name:"}),Object(p.jsx)("td",{children:n.bankaccountholdername})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(p.jsx)("td",{children:n.bankaccountbranchname})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Accouont Type:"}),Object(p.jsx)("td",{children:["","Saving","Checking"][n.bankaccounttype]})]})]})})]})]}),Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[Object(p.jsx)(d.B,{className:"p-0",xl:"8",children:Object(p.jsxs)(d.u,{className:"mb-25",children:["Place Of Supply: ",n.placeofsupplyname]})}),Object(p.jsx)(d.B,{className:"p-0 mt-xl-0 mt-2",xl:"4",children:Object(p.jsx)("table",{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"pe-1",children:"Currency code: "}),Object(p.jsx)("td",{children:n.billingcurrencyshortname})]})})})})]})]}),Object(p.jsxs)(d.mb,{responsive:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"py-1",children:"Item"}),Object(p.jsx)("th",{className:"py-1",children:"Description"}),Object(p.jsx)("th",{className:"py-1",children:"Price"}),Object(p.jsx)("th",{className:"py-1",children:"Tax"}),Object(p.jsx)("th",{className:"py-1",children:"Total"})]})}),Object(p.jsx)("tbody",{children:x.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"py-1",children:Object(p.jsx)("p",{className:"card-text fw-bold mb-25",children:e.servicesName})}),Object(p.jsx)("td",{className:"py-1",children:Object(p.jsx)("span",{className:"fw-bold",children:e.description})}),Object(p.jsx)("td",{className:"py-1",children:Object(p.jsx)("span",{className:"fw-bold",children:e.price})}),Object(p.jsx)("td",{className:"py-1",children:Object(p.jsx)("span",{className:"fw-bold",children:e.taxes.map((function(e,t){return Object(p.jsx)(d.ib,{children:Object(p.jsxs)("span",{children:[e.taxName||e.tax_name," - ",e.taxAmount||e.tax_amount_calculated]})},t)}))})}),Object(p.jsx)("td",{className:"py-1",children:Object(p.jsx)("span",{className:"fw-bold",children:e.subTotalAmount})})]},t)}))})]}),Object(p.jsx)(d.m,{className:"invoice-padding pb-0",children:Object(p.jsxs)(d.ib,{className:"invoice-sales-total-wrapper",children:[Object(p.jsx)(d.B,{className:"mt-md-0 mt-3",md:"6",order:{md:1,lg:2},children:(t=n.totalamount,"".concat(P(t.split(".")[0])," and Paise ").concat(P(t.split(".")[1])," Only"))}),Object(p.jsx)(d.B,{className:"d-flex justify-content-end",md:"6",order:{md:2,lg:1},children:Object(p.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(p.jsxs)("div",{className:"invoice-total-item",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(p.jsx)("p",{className:"invoice-total-amount",children:n.totalamount})]}),Object(p.jsxs)("div",{className:"invoice-total-item",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:"Pre Tax Amount:"}),Object(p.jsx)("p",{className:"invoice-total-amount",children:n.subtotalamount})]}),!n.isrcmapplicable&&Object(p.jsx)("div",{children:w.length>0&&w.map((function(e,t){return Object(p.jsxs)("div",{className:"invoice-total-item",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:e.taxName||"".concat(e.tax_name).concat(e.tax_percentage,"%")}),Object(p.jsx)("p",{className:"invoice-total-amount",children:e.taxAmount||e.tax_amount})]},t)}))}),Object(p.jsx)("hr",{className:"my-50"}),Object(p.jsxs)("div",{className:"invoice-total-item",children:[Object(p.jsx)("p",{className:"invoice-total-title",children:"Balance Due:"}),Object(p.jsx)("p",{className:"invoice-total-amount",children:n.dueamount})]})]})})]})}),Object(p.jsx)("hr",{className:"invoice-spacing"}),Object(p.jsx)(d.m,{className:"invoice-padding pt-0",children:Object(p.jsx)(d.ib,{children:Object(p.jsxs)(d.B,{sm:"12",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Note: "}),Object(p.jsx)("span",{children:n.note})]})})})]})]}):null},y=n(70),w=function(e){var t=e.id,n=e.setSendSidebarOpen,c=e.setAddPaymentOpen,a=e.invoice,r=Object(i.useState)([]),j=Object(s.a)(r,2),u=j[0],b=j[1];return Object(i.useEffect)((function(){o.a.post("/taskinvoices/getparticipants",{invoiceId:a.id}).then((function(e){b(e.data.taskinvoiceparticipants)})).catch((function(e){console.log(e)}))}),[]),Object(p.jsx)(d.l,{className:"invoice-action-wrapper",children:Object(p.jsxs)(d.m,{children:[Object(p.jsx)(y.b,{I:"read",a:"invoice",children:Object(p.jsx)(d.i,{color:"primary",block:!0,className:"mb-75",onClick:function(){return n(!0)},children:"Send Invoice"})}),Object(p.jsx)(y.b,{I:"export",a:"invoice",children:Object(p.jsx)(d.i,{color:"secondary",block:!0,outline:!0,className:"mb-75",onClick:function(){o.a.post("/pdfmaker/pdf",{id:a.id}).then((function(e){var t=document.createElement("a"),n="".concat(a.uniqueno,".pdf");t.href=e.data.pdf,t.download=n,t.click(),document.removeChild(t)})).catch((function(e){console.log(e)}))},children:"Download"})}),Object(p.jsx)(y.b,{I:"read",a:"invoice",children:Object(p.jsx)(d.i,{color:"secondary",block:!0,outline:!0,className:"mb-75",onClick:function(){window.print()},children:"Print"})}),Object(p.jsx)(y.b,{I:"write",a:"invoice",children:Object(p.jsx)(d.i,{tag:l.b,to:"/invoice/edit/".concat(t),color:"secondary",block:!0,outline:!0,className:"mb-75",children:"Edit"})}),Object(p.jsx)(y.b,{I:"write",a:"invoice",children:Object(p.jsx)(d.i,{color:"success",block:!0,onClick:function(){return c(!0)},children:"Add Payment"})}),u.length>0&&Object(p.jsxs)(d.B,{className:"mt-2",children:[Object(p.jsx)("h4",{children:"Tagged Employees"}),Object(p.jsx)(d.ib,{className:"mt-1",children:u.map((function(e,t){return Object(p.jsx)(d.f,{className:"mt-md-75 py-md-75",color:"primary",children:e.name},t)}))})]}),Object(p.jsxs)(d.B,{className:"mt-2",children:[Object(p.jsxs)(d.ib,{className:"mt-1",children:[Object(p.jsx)("h5",{children:"Task ID"}),Object(p.jsx)(d.B,{md:12,tag:l.b,to:"/task/view/".concat(a.taskid),children:a.uniqueidentity})]}),Object(p.jsxs)(d.ib,{className:"mt-1",children:[Object(p.jsx)("h5",{children:"Task Description"}),Object(p.jsx)(d.B,{md:12,children:a.description})]})]})]})})},C=n(213),S=n(316),I=n(387),k=n(185),A=n.n(k),T=n(186),P=n.n(T),D=n(8),B=n(747),E=n.n(B),F=n(184),L=n(7),R=n.n(L),M=n(880),Y=(n(737),n(743),n(742)),H=n(744),_=n(745),z=Object(h.b)(),q=Object(h.d)(),V=function(e){var t=e.open,n=e.toggleSidebar,l=e.selectedPayment,j=e.data,m=Object(b.b)(),h=Object(i.useState)(!1),O=Object(s.a)(h,2),f=O[0],x=O[1],N=Object(i.useState)([]),v=Object(s.a)(N,2),g=v[0],y=v[1],w=Object(i.useState)(!1),S=Object(s.a)(w,2),I=S[0],k=S[1],A=Object(r.g)().id,T=H.d().shape({organizationId:H.f().default(z),id:H.f().default(0),updatedBy:H.f().default(q),contactId:H.f().default(""),isTaxDeducted:H.b().default(!1),amountWithHeld:H.f().when("isTaxDeducted",{is:function(e){return e},then:H.f().required("Please Enter Amount with Held")}).default(0),totalAmountPaid:H.f().required("Please Enter Amount"),paymentDate:H.f().required("Please Enter Payment Date"),referenceOfMainId:H.f().default(""),pendingAmountBeforeRecord:H.f().default(""),transactionAccountId:H.f().required("Please Select Account").default(""),referenceNo:H.f(),billingCurrency:H.f().default(""),billingAddress:H.f().default(""),notes:H.f().default(""),paymentConfirmation:H.b().default(!1)}),P=Object(Y.f)({resolver:Object(_.a)(T),defaultValues:T.cast()}),B=P.handleSubmit,L=P.control,V=P.formState.errors,U=P.reset,G=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var a,s,i,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=parseFloat(L._formValues.totalAmountPaid),s=parseFloat(L._formValues.totalAmountPaid)+parseFloat(L._formValues.amountWithHeld),!f){e.next=9;break}if(i=parseFloat(L._formValues.amountWithHeld),!(parseFloat(l.pendingamountbeforerecord)<a+i)){e.next=7;break}return k(!0),e.abrupt("return",!1);case 7:e.next=12;break;case 9:if(!(parseFloat(l.pendingamountbeforerecord)<a)){e.next=12;break}return k(!0),e.abrupt("return",!1);case 12:return t.paymentDate=u()(t.paymentDate).valueOf(),e.next=15,m(Object(C.e)(t));case 15:return r={updatedBy:q,id:A,dueamount:parseFloat(t.pendingAmountBeforeRecord)-parseFloat(s),status:parseFloat(j.dueamount)===a?7:6},e.next=18,m(Object(C.f)(r));case 18:n();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){"object"===typeof l&&(U({organizationId:z,updatedBy:q,id:l.id,contactId:l.contactid,isTaxDeducted:l.istaxdeducted,amountWithHeld:l.amountwithheld,totalAmountPaid:l.totalamountpaid,paymentDate:u()(l.paymentdate,"x").toDate(),referenceOfMainId:l.referenceofmainid,pendingAmountBeforeRecord:l.pendingamountbeforerecord,transactionAccountId:l.transactionaccountid,referenceNo:l.referenceno,billingCurrency:l.billingcurrency,billingAddress:l.billingaddress,notes:l.notes||"",paymentConfirmation:!1}),x(l.istaxdeducted))}),[l]);var K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(p.jsxs)(d.ib,{children:[Object(p.jsx)(d.N,{sm:"12",size:"lg",className:R()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(p.jsxs)(d.B,{sm:"12",children:[Object(p.jsx)(Y.a,{id:t,name:t,control:L,render:function(e){var n=e.field;return Object(p.jsx)(d.K,Object(D.a)({invalid:V[t]&&!0},n))}}),V[t]&&Object(p.jsx)(d.I,{children:V[t].message})]})]})};return Object(i.useEffect)((function(){o.a.post("/transactionaccounts/dropdown").then((function(e){var t=e.data;y(t.transactionaccounts)}))}),[]),Object(p.jsx)(M.a,{size:"lg",open:t,title:"Add Payment",headerClassName:"mb-1",contentClassName:"p-0",toggleSidebar:n,children:Object(p.jsxs)(d.H,{onSubmit:B(G),children:[Object(p.jsx)(d.ib,{children:Object(p.jsxs)("span",{className:"fw-bold ps-1",children:["Invoice Balance ",j.billingcurrencysymbol||""," ",j.dueamount||0]})}),I&&Object(p.jsx)("p",{className:"text-danger",children:"Total Payment Amount should Lesserthan or Equal to Invoice Balance "}),K("Payment Amount","totalAmountPaid",!0),Object(p.jsxs)(d.ib,{children:[Object(p.jsx)(d.N,{sm:"12",size:"lg",className:R()("form-label'required"),for:"paymentDate",children:"Payment Date"}),Object(p.jsx)(d.B,{sm:"12",children:Object(p.jsx)(Y.a,{control:L,name:"paymentDate",id:"paymentDate",render:function(e){var t=e.field;return Object(p.jsx)(E.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0},className:"form-control invoice-edit-input due-date-picker"})}})})]}),function(e,t,n){var c,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(p.jsxs)(d.ib,{children:[Object(p.jsx)(d.N,{sm:"12",size:"lg",className:R()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(p.jsxs)(d.B,{sm:"12",children:[Object(p.jsx)(Y.a,{control:L,name:t,id:t,render:function(e){var c=e.field,a=e.ref;return Object(p.jsx)(F.a,Object(D.a)(Object(D.a)({inputRef:a,className:R()("react-select",{"is-invalid":V[t]})},c),{},{classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===c.value})),onChange:function(e){return c.onChange(e.id)},getOptionLabel:function(e){return e.accountHolderName},getOptionValue:function(e){return e.id}}))}}),V[t]&&Object(p.jsx)(d.I,{className:"text-danger",children:null===(c=V[t])||void 0===c?void 0:c.message})]})]})}("Payment Account","transactionAccountId",g,!0),K("Reference Number","referenceNo",!0),Object(p.jsxs)(d.ib,{className:"form-switch form-check-primary  px-0 py-1",children:[Object(p.jsx)(d.N,{for:"isTaxDeducted",className:"form-check-label",children:"Tax Deducted?"}),Object(p.jsx)(Y.a,{control:L,id:"isTaxDeducted",name:"isTaxDeducted",render:function(e){var t=e.field;return Object(p.jsx)(d.K,Object(D.a)(Object(D.a)({type:"switch",onInput:function(e){t.onChange(e),x(!f)}},t),{},{defaultChecked:t.value}))}})]}),f&&K("Amount With Held","amountWithHeld",!0),K("Payment Notes","notes",!1),Object(p.jsxs)(d.ib,{className:"form-switch form-check-primary  px-0 py-1",children:[Object(p.jsx)(d.N,{for:"paymentConfirmation",className:"form-check-label",children:"Sent Payment Confirmation"}),Object(p.jsx)(Y.a,{control:L,id:"paymentConfirmation",name:"paymentConfirmation",render:function(e){var t=e.field;return Object(p.jsx)(d.K,Object(D.a)(Object(D.a)({type:"switch",onInput:function(e){t.onChange(e)}},t),{},{defaultChecked:t.value}))}})]}),Object(p.jsxs)("div",{className:"d-flex flex-wrap mb-0",children:[Object(p.jsx)(d.i,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),Object(p.jsx)(d.i,{color:"secondary",outline:!0,onClick:n,children:"Cancel"})]})]})})},U=P()(A.a),G=Object(h.d)(),K=function(e){var t=e.data,n=e.tabId,l=e.refreshFlag,o=Object(r.g)().id,j=Object(b.b)(),m=Object(b.c)((function(e){return e.invoicepayment})),h=Object(i.useState)([]),O=Object(s.a)(h,2),f=O[0],x=O[1],N=Object(i.useState)({}),v=Object(s.a)(N,2),g=v[0],y=v[1],w=Object(i.useState)(!1),k=Object(s.a)(w,2),A=k[0],T=k[1],P=function(e){T(!A),y(e)};return Object(i.useEffect)(Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("2"!==n||!o){e.next=3;break}return e.next=3,j(Object(C.d)({invoiceId:o}));case 3:case"end":return e.stop()}}),e)}))),[n]),Object(i.useEffect)((function(){x(m.invoicePayments)}),[m.invoicePayments]),null!==t?Object(p.jsx)(d.l,{className:"invoice-preview-card",children:Object(p.jsxs)(d.m,{className:"invoice-padding pb-0",children:[Object(p.jsx)(V,{toggleSidebar:P,open:A,selectedPayment:g,data:t}),Object(p.jsx)("div",{className:"invoice-list-dataTable react-dataTable",children:Object(p.jsxs)(d.mb,{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Payment #"}),Object(p.jsx)("th",{children:"Payment Date"}),Object(p.jsx)("th",{children:"Refernce"}),Object(p.jsx)("th",{children:"Amount"}),Object(p.jsx)("th",{children:"Amount With Held"}),Object(p.jsx)("th",{children:"Action"})]})}),Object(p.jsx)("tbody",{children:f.map((function(e,n){return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[" ",Object(p.jsx)("span",{className:"text-primary",children:e.uniqueno})]}),Object(p.jsx)("td",{children:(s=e.paymentdate,u()(s,"x").format("MMM DD, YYYY"))}),Object(p.jsx)("td",{children:Object(p.jsx)("span",{children:e.referenceno})}),Object(p.jsx)("td",{children:Object(p.jsxs)("span",{children:[" ",e.totalamountpaid||0]})}),Object(p.jsx)("td",{children:Object(p.jsx)("span",{children:e.amountwithheld||0})}),Object(p.jsxs)("td",{children:[Object(p.jsx)(d.B,{tag:"a",onClick:function(t){t.preventDefault(),P(e)},className:"w-100",children:Object(p.jsx)(S.a,{size:14,className:"me-50"})}),Object(p.jsx)(d.B,{tag:"a",className:"w-100",onClick:function(n){n.preventDefault(),function(e){U.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var n=Object(a.a)(Object(c.a)().mark((function n(a){var s,i;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.value){n.next=9;break}return n.next=3,j(Object(C.c)(e.id));case 3:return s=parseFloat(t.dueamount)+(parseFloat(e.totalamountpaid)+parseFloat(e.amountwithheld||0)),i={updatedBy:G,id:o,dueamount:s,status:parseFloat(t.totalamount)===s?5:6},n.next=7,j(Object(C.f)(i));case 7:l(!0),U.fire({icon:"success",title:"Deleted!",text:"Invoice has been deleted.",customClass:{confirmButton:"btn btn-success"}});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(e)},children:Object(p.jsx)(I.a,{size:14,className:"me-50"})})]})]},n);var s}))})]})})]})}):null},W=Object(h.b)(),Z=Object(h.d)(),J=function(e){var t=e.open,n=e.toggleSidebar,l=e.data,j=Object(r.g)().id,m=Object(b.b)(),h=Object(i.useState)(!1),O=Object(s.a)(h,2),f=O[0],x=O[1],N=Object(i.useState)([]),v=Object(s.a)(N,2),g=v[0],y=v[1],w=Object(i.useState)(!1),S=Object(s.a)(w,2),I=S[0],k=S[1],A=H.d().shape({organizationId:H.f().default(W),createdBy:H.f().default(Z),contactId:H.f().default(l.contactid),isTaxDeducted:H.b().default(!1),amountWithHeld:H.f().when("isTaxDeducted",{is:function(e){return e},then:H.f().required("Please Enter Amount with Held")}).default(0),totalAmountPaid:H.f().required("Please Enter Amount"),paymentDate:H.f().required("Please Enter Payment Date"),referenceOfMainId:H.f().default(l.id),pendingAmountBeforeRecord:H.f().default(l.dueamount),transactionAccountId:H.f().required("Please Select Account").default(l.bankaccountid),referenceNo:H.f().default(""),billingCurrency:H.f().default(l.billingcurrencysymbol),billingAddress:H.f().default(""),notes:H.f(),paymentConfirmation:H.b().default(!1)}),T=Object(Y.f)({resolver:Object(_.a)(A),defaultValues:A.cast()}),P=T.handleSubmit,B=T.control,L=T.formState.errors,z=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var a,s,i,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=parseFloat(B._formValues.totalAmountPaid),s=parseFloat(B._formValues.totalAmountPaid)+parseFloat(B._formValues.amountWithHeld),!f){e.next=9;break}if(i=parseFloat(B._formValues.amountWithHeld),!(parseFloat(l.dueamount)<a+i)){e.next=7;break}return k(!0),e.abrupt("return",!1);case 7:e.next=12;break;case 9:if(!(parseFloat(l.dueamount)<a)){e.next=12;break}return k(!0),e.abrupt("return",!1);case 12:return t.paymentDate=u()(t.paymentDate).valueOf(),e.next=15,m(Object(C.a)(t));case 15:return r={updatedBy:Z,id:j,dueamount:parseFloat(t.pendingAmountBeforeRecord)-parseFloat(s),status:parseFloat(l.dueamount)===a?7:6},e.next=18,m(Object(C.f)(r));case 18:n();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(p.jsxs)(d.ib,{children:[Object(p.jsx)(d.N,{sm:"12",size:"lg",className:R()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(p.jsxs)(d.B,{sm:"12",children:[Object(p.jsx)(Y.a,{id:t,name:t,control:B,render:function(e){var n=e.field;return Object(p.jsx)(d.K,Object(D.a)({invalid:L[t]&&!0},n))}}),L[t]&&Object(p.jsx)(d.I,{children:L[t].message})]})]})};return Object(i.useEffect)((function(){o.a.post("/transactionaccounts/dropdown").then((function(e){var t=e.data;y(t.transactionaccounts)}))}),[]),Object(p.jsx)(M.a,{size:"lg",open:t,title:"Edit Payment",headerClassName:"mb-1",contentClassName:"p-0",toggleSidebar:n,children:Object(p.jsxs)(d.H,{onSubmit:P(z),children:[Object(p.jsx)(d.ib,{children:Object(p.jsxs)("span",{className:"fw-bold ps-1",children:["Invoice Balance ",l.billingcurrencysymbol," ",l.dueamount]})}),I&&Object(p.jsx)("p",{className:"text-danger",children:"Total Payment Amount should Lesserthan or Equal to Invoice Balance "}),q("Payment Amount","totalAmountPaid",!0),Object(p.jsxs)(d.ib,{children:[Object(p.jsx)(d.N,{sm:"12",size:"lg",className:R()("form-label'required"),for:"paymentDate",children:"Payment Date"}),Object(p.jsx)(d.B,{sm:"12",children:Object(p.jsx)(Y.a,{control:B,name:"paymentDate",id:"paymentDate",render:function(e){var t=e.field;return Object(p.jsx)(E.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0},className:"form-control invoice-edit-input due-date-picker"})}})})]}),function(e,t,n){var c,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(p.jsxs)(d.ib,{children:[Object(p.jsx)(d.N,{sm:"12",size:"lg",className:R()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(p.jsxs)(d.B,{sm:"12",children:[Object(p.jsx)(Y.a,{control:B,name:t,id:t,render:function(e){var c=e.field,a=e.ref;return Object(p.jsx)(F.a,Object(D.a)(Object(D.a)({inputRef:a,className:R()("react-select",{"is-invalid":L[t]})},c),{},{classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===c.value})),onChange:function(e){return c.onChange(e.id)},getOptionLabel:function(e){return e.accountHolderName},getOptionValue:function(e){return e.id}}))}}),L[t]&&Object(p.jsx)(d.I,{className:"text-danger",children:null===(c=L[t])||void 0===c?void 0:c.message})]})]})}("Payment Account","transactionAccountId",g,!0),q("Reference Number","referenceNo",!0),Object(p.jsxs)(d.ib,{className:"form-switch form-check-primary  px-0 py-1",children:[Object(p.jsx)(d.N,{for:"isTaxDeducted",className:"form-check-label",children:"Tax Deducted?"}),Object(p.jsx)(Y.a,{control:B,id:"isTaxDeducted",name:"isTaxDeducted",render:function(e){var t=e.field;return Object(p.jsx)(d.K,Object(D.a)(Object(D.a)({type:"switch",onInput:function(e){t.onChange(e),x(!f)}},t),{},{defaultChecked:t.value}))}})]}),f&&q("Amount With Held","amountWithHeld",!0),q("Payment Notes","notes",!1),Object(p.jsxs)(d.ib,{className:"form-switch form-check-primary  px-0 py-1",children:[Object(p.jsx)(d.N,{for:"paymentConfirmation",className:"form-check-label",children:"Sent Payment Confirmation"}),Object(p.jsx)(Y.a,{control:B,id:"paymentConfirmation",name:"paymentConfirmation",render:function(e){var t=e.field;return Object(p.jsx)(d.K,Object(D.a)(Object(D.a)({type:"switch",onInput:function(e){t.onChange(e)}},t),{},{defaultChecked:t.value}))}})]}),Object(p.jsxs)("div",{className:"d-flex flex-wrap mb-0",children:[Object(p.jsx)(d.i,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),Object(p.jsx)(d.i,{color:"secondary",outline:!0,onClick:n,children:"Cancel"})]})]})})},$=n(1012),Q=n(394),X=n(344),ee=Object(h.a)();t.default=function(){var e=Object(r.g)().id,t=Object(i.useState)(!1),n=Object(s.a)(t,2),j=n[0],u=n[1],b=Object(i.useState)(!1),m=Object(s.a)(b,2),h=m[0],O=m[1],f=Object(i.useState)(null),x=Object(s.a)(f,2),v=x[0],y=x[1],C=Object(i.useState)("1"),S=Object(s.a)(C,2),I=S[0],k=S[1],A=function(){var t=Object(a.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.a.post("/taskinvoices/get",{id:e}).then((function(e){y(e.data.taskinvoices)})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){A()}),[]);var T=function(e){I!==e&&k(e)};return null!==v&&void 0!==v?Object(p.jsxs)("div",{className:"invoice-preview-wrapper",children:[Object(p.jsxs)(d.ib,{className:"invoice-preview",children:[Object(p.jsxs)(d.B,{xl:10,md:8,sm:12,children:[Object(p.jsxs)(d.U,{pills:!0,className:"mb-2",children:[Object(p.jsx)(d.V,{children:Object(p.jsxs)(d.W,{active:"1"===I,onClick:function(){return T("1")},children:[Object(p.jsx)(Q.a,{className:"font-medium-3 me-50"}),Object(p.jsx)("span",{className:"fw-bold",children:"Invoice"})]})}),Object(p.jsx)(d.V,{children:Object(p.jsxs)(d.W,{active:"2"===I,onClick:function(){return T("2")},children:[Object(p.jsx)(X.a,{className:"font-medium-3 me-50"}),Object(p.jsx)("span",{className:"fw-bold",children:"Payments"})]})})]}),Object(p.jsxs)(d.kb,{activeTab:I,children:[Object(p.jsx)(d.lb,{tabId:"1",children:"IN"===ee.countryshortname?Object(p.jsx)(N,{data:v,tabId:I}):Object(p.jsx)(g,{data:v,tabId:I})}),Object(p.jsx)(d.lb,{tabId:"2",children:Object(p.jsx)(K,{data:v,tabId:I,refreshFlag:function(e){e&&A()}})})]})]}),Object(p.jsx)(d.B,{xl:2,md:4,sm:12,children:Object(p.jsx)(w,{id:e,setSendSidebarOpen:u,setAddPaymentOpen:O,invoice:v})})]}),j&&Object(p.jsx)($.a,{toggleSidebar:function(){return u(!j)},open:j,invoice:v}),Object(p.jsx)(J,{toggleSidebar:function(){O(!h),A()},open:h,data:v})]}):Object(p.jsxs)(d.e,{color:"danger",children:[Object(p.jsx)("h4",{className:"alert-heading",children:"Invoice not found"}),Object(p.jsxs)("div",{className:"alert-body",children:["Invoice with id: ",e," doesn't exist. Check list of all invoices:"," ",Object(p.jsx)(l.b,{to:"/invoice/list",children:"Invoice List"})]})]})}},735:function(e,t,n){"use strict";var c=n(8),a=n(27),s=n(0),i=n(7),r=n.n(i),l=n(14),o=(n(738),n(3)),d=function(e){var t,n=e.children,i=e.blocking,l=e.loader,d=e.className,j=e.tag,u=e.overlayColor,b=j;return Object(o.jsxs)(b,{className:r()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",i),t)),children:[n,i?Object(o.jsxs)(s.Fragment,{children:[Object(o.jsx)("div",Object(c.a)({className:"overlay"},i&&u?{style:{backgroundColor:u}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},736:function(e,t,n){"use strict";var c=n(3);t.a=function(){return Object(c.jsx)("div",{className:"fallback-spinner",children:Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("div",{className:"effect-1 effects"}),Object(c.jsx)("div",{className:"effect-2 effects"}),Object(c.jsx)("div",{className:"effect-3 effects"})]})})}},737:function(e,t,n){},738:function(e,t,n){},743:function(e,t,n){},760:function(e,t,n){},763:function(e,t,n){e.exports=function(){"use strict";function e(e,t){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n,e[n])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}var n={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function c(e){return e&&n[e]}function a(t){var n="";return e(t,(function(e,t){t&&(n+="".concat(e,":").concat(t,";"))})),n}function s(e,t){var n=[];if(t)for(var c=0,a=0,s=e,i=t.trigger||"#",r=t.separator||" ";s.length>0&&a>=0;)if(s[0]===i?(a=0,c=0,s=s.substr(i.length)):(a=s.indexOf(r+i))>=0&&(s=s.substr(a+(r+i).length),c+=a+r.length),a>=0){var l=s.indexOf(r)>=0?s.indexOf(r):s.length,o=s.substr(0,l);o&&o.length>0&&n.push({offset:c,length:o.length+i.length,type:"HASHTAG"}),c+=i.length}return n}function i(e,t){var n=[],c=0,a=e.entityRanges.map((function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}}));return(a=(a=a.concat(s(e.text,t))).sort((function(e,t){return e.offset-t.offset}))).forEach((function(e){e.offset>c&&n.push({start:c,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),c=e.offset+e.length})),c<e.text.length&&n.push({start:c,end:e.text.length}),n}function r(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function l(e){var t=e.text,n=e.inlineStyleRanges,c={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return n&&n.length>0&&n.forEach((function(e){for(var t=e.offset,n=t+e.length,a=t;a<n;a+=1)0===e.style.indexOf("color-")?c.COLOR[a]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?c.BGCOLOR[a]=e.style.substring(8):0===e.style.indexOf("fontsize-")?c.FONTSIZE[a]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?c.FONTFAMILY[a]=e.style.substring(11):c[e.style]&&(c[e.style][a]=!0)})),c}function o(e,t){var n={};return e.COLOR[t]&&(n.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(n.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(n.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(n.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(n.UNDERLINE=!0),e.ITALIC[t]&&(n.ITALIC=!0),e.BOLD[t]&&(n.BOLD=!0),e.STRIKETHROUGH[t]&&(n.STRIKETHROUGH=!0),e.CODE[t]&&(n.CODE=!0),e.SUBSCRIPT[t]&&(n.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(n.SUPERSCRIPT=!0),n}function d(e,t,n){var c=!0;return n>0&&n<e.length?t.forEach((function(t){c=c&&e[t][n]===e[t][n-1]})):c=!1,c}function j(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function u(e){return e&&e.length>0?e.map((function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}})).join(""):""}function b(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(n+='"',">").concat(t,"</span>")}return t}function m(e,t,n,c){var a=e[t];if("function"===typeof c){var s=c(a,n);if(s)return s}if("MENTION"===a.type)return'<a href="'.concat(a.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(a.data.value,'">').concat(n,"</a>");if("LINK"===a.type){var i=a.data.targetOption||"_self";return'<a href="'.concat(a.data.url,'" target="').concat(i,'">').concat(n,"</a>")}if("IMAGE"===a.type){var r=a.data.alignment;return r&&r.length?'<div style="text-align:'.concat(r,';"><img src="').concat(a.data.src,'" alt="').concat(a.data.alt,'" style="height: ').concat(a.data.height,";width: ").concat(a.data.width,'"/></div>'):'<img src="'.concat(a.data.src,'" alt="').concat(a.data.alt,'" style="height: ').concat(a.data.height,";width: ").concat(a.data.width,'"/>')}return"EMBEDDED_LINK"===a.type?'<iframe width="'.concat(a.data.width,'" height="').concat(a.data.height,'" src="').concat(a.data.src,'" frameBorder="0"></iframe>'):n}function h(e,t,n,c){var a=[],s=Array.from(e.text);if(s.length>0)for(var i,r=l(e),j=n;j<c;j+=1)j!==n&&d(r,t,j)?(i.text.push(s[j]),i.end=j+1):(i={styles:o(r,j),text:[s[j]],start:j,end:j+1},a.push(i));return a}function O(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}function f(e){if(e){for(var t=e,n=t.length-1;n>=0&&" "===t[n];n-=1)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}function p(t){var n=t.styles,c=u(t.text);return e(n,(function(e,t){c=j(e,c)})),c}function x(e,t){var n=h(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),c="";return n.forEach((function(e){c+=p(e)})),c=b(t.styles,c)}function N(e,t,n,c){var a=[];h(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end).forEach((function(t){a.push(x(e,t))}));var s=a.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(s=m(t,n.entityKey,s,c)):"HASHTAG"===n.type&&(s='<a href="'.concat(s,'" class="wysiwyg-hashtag">').concat(s,"</a>")),s}function v(e,t,n,c){var a=[],s=i(e,n);return s.forEach((function(n,i){var r=N(e,t,n,c);0===i&&(r=O(r)),i===s.length-1&&(r=f(r)),a.push(r)})),a.join("")}function g(e,t,n,s,i){var l=[];if(r(e))l.push(m(t,e.entityRanges[0].key,void 0,i));else{var o=c(e.type);if(o){l.push("<".concat(o));var d=a(e.data);d&&l.push(' style="'.concat(d,'"')),s&&l.push(' dir = "auto"'),l.push(">"),l.push(v(e,t,n,i)),l.push("</".concat(o,">"))}}return l.push("\n"),l.join("")}function y(e){return"unordered-list-item"===e||"ordered-list-item"===e}function w(e,t,n,s,i){var r,l=[],o=[];return e.forEach((function(e){var d=!1;if(r?r.type!==e.type?(l.push("</".concat(c(r.type),">\n")),l.push("<".concat(c(e.type),">\n"))):r.depth===e.depth?o&&o.length>0&&(l.push(w(o,t,n,s,i)),o=[]):(d=!0,o.push(e)):l.push("<".concat(c(e.type),">\n")),!d){l.push("<li");var j=a(e.data);j&&l.push(' style="'.concat(j,'"')),s&&l.push(' dir = "auto"'),l.push(">"),l.push(v(e,t,n,i)),l.push("</li>\n"),r=e}})),o&&o.length>0&&l.push(w(o,t,n,s,i)),l.push("</".concat(c(r.type),">\n")),l.join("")}function C(e,t,n,c){var a=[];if(e){var s=e.blocks,i=e.entityMap;if(s&&s.length>0){var r=[];if(s.forEach((function(e){if(y(e.type))r.push(e);else{if(r.length>0){var s=w(r,i,t,c);a.push(s),r=[]}var l=g(e,i,t,n,c);a.push(l)}})),r.length>0){var l=w(r,i,t,n,c);a.push(l),r=[]}}}return a.join("")}return C}()},781:function(e,t,n){"use strict";var c=n(11),a=n(0),s=n.n(a),i=n(78),r=n(196),l=n(15),o=n(18),d=n(41),j=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],u=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),c=String(t.getOptionValue(e)).toLowerCase(),a=String(t.getOptionLabel(e)).toLowerCase();return c===n||a===n},b={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,c){return!(!e||t.some((function(t){return u(e,t,c)}))||n.some((function(t){return u(e,t,c)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};n(485),n(487),n(103),n(106),n(107),n(194),n(93),n(36),n(486),n(104);var m=s.a.forwardRef((function(e,t){var n=function(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,c=e.createOptionPosition,s=void 0===c?"last":c,r=e.formatCreateLabel,u=void 0===r?b.formatCreateLabel:r,m=e.isValidNewOption,h=void 0===m?b.isValidNewOption:m,O=e.getNewOptionData,f=void 0===O?b.getNewOptionData:O,p=e.onCreateOption,x=e.options,N=void 0===x?[]:x,v=e.onChange,g=Object(d.a)(e,j),y=g.getOptionValue,w=void 0===y?i.c:y,C=g.getOptionLabel,S=void 0===C?i.b:C,I=g.inputValue,k=g.isLoading,A=g.isMulti,T=g.value,P=g.name,D=Object(a.useMemo)((function(){return h(I,Object(l.i)(T),N,{getOptionValue:w,getOptionLabel:S})?f(I,u(I)):void 0}),[u,f,S,w,I,h,N,T]),B=Object(a.useMemo)((function(){return!n&&k||!D?N:"first"===s?[D].concat(Object(o.a)(N)):[].concat(Object(o.a)(N),[D])}),[n,s,k,D,N]),E=Object(a.useCallback)((function(e,t){if("select-option"!==t.action)return v(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==D)v(e,t);else if(p)p(I);else{var c=f(I,I),a={action:"create-option",name:P,option:c};v(Object(l.d)(A,[].concat(Object(o.a)(Object(l.i)(T)),[c]),c),a)}}),[f,I,A,P,D,p,v,T]);return Object(l.o)(Object(l.o)({},g),{},{options:B,onChange:E})}(Object(r.a)(e));return s.a.createElement(i.a,Object(c.a)({ref:t},n))}));t.a=m},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var c=function(e,t,n){var c=0;return 1===n?c=parseFloat(e)-parseFloat(e)*(100/(100+parseFloat(t))):2===n&&(c=parseFloat(e)*parseFloat(t)/100),parseFloat(c)},a=function(e){return JSON.parse(Array.isArray(e)?JSON.stringify(e).replace(/\\/g,""):e.replace(/\\/g,""))}},880:function(e,t,n){"use strict";var c=n(8),a=n(27),s=n(41),i=n(253),r=n(7),l=n.n(r),o=n(62),d=n.n(o),j=n(14),u=n(3),b=["open","size","title","width","children","closeBtn","className","toggleSidebar","bodyClassName","contentClassName","wrapperClassName","headerClassName"];t.a=function(e){var t,n=e.open,r=e.size,o=e.title,m=e.width,h=e.children,O=e.closeBtn,f=e.className,p=e.toggleSidebar,x=e.bodyClassName,N=e.contentClassName,v=e.wrapperClassName,g=e.headerClassName,y=Object(s.a)(e,b),w=O||Object(u.jsx)(i.a,{className:"cursor-pointer",size:15,onClick:p});return Object(u.jsxs)(j.Q,Object(c.a)(Object(c.a)(Object(c.a)({isOpen:n,toggle:p,contentClassName:l()("overflow-hidden",Object(a.a)({},N,N)),modalClassName:l()("modal-slide-in",Object(a.a)({},v,v)),className:l()((t={},Object(a.a)(t,f,f),Object(a.a)(t,"sidebar-lg","lg"===r),Object(a.a)(t,"sidebar-sm","sm"===r),t))},void 0!==m?{style:{width:String(m)+"px"}}:{}),y),{},{children:[Object(u.jsx)(j.T,{className:l()(Object(a.a)({},g,g)),toggle:p,close:w,tag:"div",children:Object(u.jsx)("h5",{className:"modal-title",children:Object(u.jsx)("span",{className:"align-middle",children:o})})}),Object(u.jsx)(d.a,{options:{wheelPropagation:!1},children:Object(u.jsx)(j.R,{className:l()("flex-grow-1",Object(a.a)({},x,x)),children:h})})]}))}}}]);
//# sourceMappingURL=36.ecf9c52e.chunk.js.map
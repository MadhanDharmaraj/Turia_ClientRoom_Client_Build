(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[55],{1335:function(e,t,c){"use strict";c.r(t);var a=c(8),s=c(3),n=c(5),r=c(10),i=c(22),l=c(24),o=c(62),d=c(23),j=c(7),b=c.n(j),m=c(712),u=c(707),f=c(713),O=c(107),x=c(111),h=c(11),p=c(20),v=c(703),g=c(704),y=(c(716),c(0)),N=c(6),w=c(183),k=c(2);t.default=function(){var e,t,j,C=Object(o.a)().skin,E=Object(y.useState)(!1),B=Object(r.a)(E,2),S=B[0],T=B[1],P=Object(y.useState)(1),A=Object(r.a)(P,2),I=A[0],U=A[1],V=Object(y.useState)(!1),F=Object(r.a)(V,2),K=F[0],L=F[1],q=function(){return Object(k.jsx)(y.Fragment,{children:Object(k.jsx)(g.a,{})})},D="dark"===C?"two-steps-verification-illustration-dark.svg":"two-steps-verification-illustration.svg",J=c(736)("./".concat(D)).default,R=Object(p.b)(),H=Object(p.c)((function(e){return e.register})),$=m.d().shape({email:m.f().required("Email required"),emailCode:m.f().required("Please Enter Verify Code").matches(/^[0-9\- ]{4,4}$/,{message:"Please Enter Valid verify Code",excludeEmptyString:!0}),acceptTermsAndCondition:m.b().oneOf([!0],"Please Accept terms and Condition")}),z=Object(i.f)(),G=Object(y.useState)(""),M=Object(r.a)(G,2),Q=M[0],W=M[1],X=Object(i.e)().search,Y=new URLSearchParams(X),Z=Object(u.f)({defaultValues:{emailCode:"",acceptTermsAndCondition:!0},resolver:Object(f.a)($)}),_=Z.control,ee=Z.handleSubmit,te=Z.formState.errors,ce=Z.setError,ae=Z.setValue,se=function(){var e=Object(n.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:Q},e.next=3,R(Object(O.e)(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type=I,!(t.emailCode&&t.emailCode.length>0)){e.next=6;break}return T(!0),e.next=5,R(Object(O.i)(t));case 5:T(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(y.useEffect)(Object(n.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==H.verifyError&&(T(!1),Object.keys(H.verifyError).map((function(e){ce(e,{type:"custom",message:H.verifyError[e][0]})})));case 1:case"end":return e.stop()}}),e)}))),[H.verifyError]);var re=function(e){Q&&N.a.post("/users/sendcode",{email:null!==e&&void 0!==e?e:Q,type:I}).then((function(e){w.b.success(e.data.users,{position:"bottom-right"}),L(!0)})).catch((function(e){w.b.error(e.response.data.errors,{position:"bottom-right"})}))};return Object(y.useEffect)((function(){Y.get("email")?(W(Y.get("email")),re(Y.get("email")),ae("email",Y.get("email"))):z("/login")}),[]),Object(y.useEffect)(Object(n.a)(Object(s.a)().mark((function e(){var t,c,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H.accessToken){e.next=9;break}return(a={}).users=H.loginUser,a.token=H.accessToken,e.next=6,R(Object(x.b)(a));case 6:return e.next=8,R(Object(O.g)({userId:null===(t=H.loginUser)||void 0===t?void 0:t.id,type:null===(c=H.loginUser)||void 0===c?void 0:c.usertype}));case 8:z("/masters/list");case 9:case"end":return e.stop()}}),e)}))),[H.accessToken]),Object(k.jsx)("div",{className:"auth-wrapper auth-cover",children:Object(k.jsxs)(h.ib,{className:"auth-inner m-0",children:[Object(k.jsxs)(l.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:[Object(k.jsx)("img",{src:d.a.app.appLogoImage,alt:"Turia Logo",width:45,height:35}),Object(k.jsx)("h1",{className:"brand-text text-primary",children:"Turia"})]}),Object(k.jsx)(h.B,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(k.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(k.jsx)("img",{className:"img-fluid",src:J,alt:"Login Cover"})})}),Object(k.jsx)(h.B,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(k.jsx)(v.a,{blocking:S,loader:Object(k.jsx)(q,{}),children:Object(k.jsx)(h.B,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:Object(k.jsxs)(h.H,{onSubmit:ee(ne),children:[Object(k.jsx)("p",{children:"Please check mail inbox and spam folder for verification code"}),Object.keys(te).map((function(e,t){var c;return Object(k.jsxs)(h.I,{children:[" ",null===(c=te[e])||void 0===c?void 0:c.message]},t)})),Object(k.jsxs)(h.ib,{className:"gx-2 mb-1",children:[!K&&Object(k.jsxs)(y.Fragment,{children:[Object(k.jsx)(h.B,{sm:12,className:"mb-1",children:Object(k.jsxs)(h.K,{type:"select",id:"rows-per-page",className:"w-100 mb-1",value:I,onChange:function(e){return U(e.target.value)},style:{width:"5rem"},children:[Object(k.jsx)("option",{value:"1",children:"Auditor"}),Object(k.jsx)("option",{value:"2",children:"Client"})]})}),Object(k.jsxs)(h.B,{sm:12,className:"mb-1",children:[Object(k.jsx)(h.N,{className:"form-label",for:"email",children:"Email"}),Object(k.jsx)(u.a,{name:"email",control:_,render:function(e){var t=e.field;return Object(k.jsx)(h.K,Object(a.a)(Object(a.a)({},t),{},{type:"email",id:"email",placeholder:"jhon@email.com",onChange:function(e){W(e.target.value),ae("email",e.target.value)},className:b()("form-control",{"is-invalid":te.email})}))}}),Object(k.jsxs)(h.ib,{className:"d-flex justify-content-between",children:[Object(k.jsx)(h.B,{children:te.email&&Object(k.jsxs)(h.I,{children:[null===(e=te.email)||void 0===e?void 0:e.message," "]})}),Object(k.jsx)(h.B,{className:"d-flex justify-content-end mt-50",children:Object(k.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){re()},children:"Send"})})]})]})]}),K&&Object(k.jsxs)(y.Fragment,{children:[Object(k.jsxs)(h.B,{sm:12,className:"mb-1",children:[Object(k.jsx)(h.N,{className:"form-label",for:"credit-card",children:"Verification Code"}),Object(k.jsx)(u.a,{name:"emailCode",control:_,render:function(e){var t=e.field;return Object(k.jsx)(h.K,Object(a.a)(Object(a.a)({},t),{},{type:"number",id:"credit-card",placeholder:"1356",className:b()("form-control",{"is-invalid":te.emailCode})}))}}),Object(k.jsxs)(h.ib,{className:"d-flex justify-content-between",children:[Object(k.jsx)(h.B,{children:te.emailCode&&Object(k.jsxs)(h.I,{children:[null===(t=te.emailCode)||void 0===t?void 0:t.message," "]})}),Object(k.jsx)(h.B,{className:"d-flex justify-content-end mt-50",children:Object(k.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){se()},children:"Resend"})})]})]}),Object(k.jsx)(h.B,{sm:12,className:"mb-1 ",children:Object(k.jsxs)("div",{className:"form-check form-check-inline",children:[Object(k.jsx)(u.a,{name:"acceptTermsAndCondition",control:_,render:function(e){var t=e.field;return Object(k.jsx)(h.K,Object(a.a)(Object(a.a)({},t),{},{type:"checkbox",defaultChecked:!0,name:"acceptTermsAndCondition",id:"acceptTermsAndCondition"}))}}),te.action&&Object(k.jsx)("p",{className:"text-danger",children:null===(j=te.action)||void 0===j?void 0:j.message}),Object(k.jsx)(h.N,{className:b()("form-label",{"text-danger":te.emailCode}),children:Object(k.jsxs)("p",{children:["By choosing ",Object(k.jsx)("b",{children:"Submit"})," you agree to ",Object(k.jsxs)("b",{children:["Turia's ",Object(k.jsx)("a",{href:"https://www.turia.in/terms",children:"Terms of Use"}),", ",Object(k.jsx)("a",{href:"https://www.turia.in/privacy",children:"Privacy"})," and ",Object(k.jsx)("a",{href:"https://www.turia.in/privacy",children:"Data Protection Policies"}),"."]})]})})]})})]})]}),K&&Object(k.jsx)("div",{className:"d-flex justify-content-between mt-2",children:Object(k.jsx)(h.i,{type:"submit",color:"primary",className:"btn-next",children:Object(k.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Submit"})})})]})})})})]})})}},703:function(e,t,c){"use strict";var a=c(8),s=c(25),n=c(0),r=c(7),i=c.n(r),l=c(11),o=(c(705),c(2)),d=function(e){var t,c=e.children,r=e.blocking,l=e.loader,d=e.className,j=e.tag,b=e.overlayColor,m=j;return Object(o.jsxs)(m,{className:i()("ui-loader",(t={},Object(s.a)(t,d,d),Object(s.a)(t,"show",r),t)),children:[c,r?Object(o.jsxs)(n.Fragment,{children:[Object(o.jsx)("div",Object(a.a)({className:"overlay"},r&&b?{style:{backgroundColor:b}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},704:function(e,t,c){"use strict";var a=c(2);t.a=function(){return Object(a.jsx)("div",{className:"fallback-spinner",children:Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("div",{className:"effect-1 effects"}),Object(a.jsx)("div",{className:"effect-2 effects"}),Object(a.jsx)("div",{className:"effect-3 effects"})]})})}},705:function(e,t,c){},716:function(e,t,c){}}]);
//# sourceMappingURL=55.d15acbd1.chunk.js.map
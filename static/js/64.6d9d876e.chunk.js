(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[64],{1429:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a(3),r=a(5),c=a(10),u=a(0),i=a(11),o=a(707),d=a(712),l=a(713),b=a(19),f=a(6),j=a(792),O=[{day:"Monday",status:!0,start:"09:30",end:"06:30"},{day:"Tuesday",status:!0,start:"09:30",end:"06:30"},{day:"Wednesday",status:!0,start:"09:30",end:"06:30"},{day:"Thursday",status:!0,start:"09:30",end:"06:30"},{day:"Friday",status:!0,start:"09:30",end:"06:30"},{day:"Saturday",status:!0,start:"09:30",end:"06:30"},{day:"Sunday",status:!1,start:"",end:""}],p=a(703),m=a(704),h=a(39),x=a.n(h),v=a(20),y=a(183),g=a(2),w=Object(b.b)(),H=Object(b.d)();t.default=function(){var e=Object(u.useState)(0),t=Object(c.a)(e,2),a=t[0],b=t[1],h=Object(u.useState)(0),N=Object(c.a)(h,2),k=N[0],S=N[1],B=Object(u.useState)(!1),C=Object(c.a)(B,2),I=C[0],z=C[1],E=function(){return Object(g.jsx)(u.Fragment,{children:Object(g.jsx)(m.a,{})})},V=Object(v.b)(),F=d.d().shape({organizationId:d.f().default(w),businessHours:d.a().default(O).of(d.d().shape({name:d.f(),status:d.b().default(!0),start:d.f().when("status",{is:function(e){return e},then:d.f().required("Please Enter Start Time")}),end:d.f().when("status",{is:function(e){return e},then:d.f().required("Please Enter End Time.")})})),updatedBy:d.f().default(H),createdBy:d.f().default(H)}),M=Object(o.f)({resolver:Object(l.a)(F),defaultValues:F.cast()}),P=M.handleSubmit,T=M.control,J=M.formState.errors,K=M.setValue,_=Object(o.e)({name:"businessHours",control:T,keyName:"rowid"}),q=_.fields,D=_.update,W=function(){var e=0;T._formValues.businessHours.forEach((function(e,t){if(!e.status){var a={day:e.day,status:e.status,start:"",end:""};D(t,a)}})),T._formValues.businessHours.forEach((function(t){if(t.status&&(""!==t.start||""!==t.start)){var a=x()("".concat(t.start," am"),"HH:mm a"),n=x()("".concat(t.end," pm"),"HH:mm a").diff(a,"minutes");e+=isNaN(n)?0:n}}));var t=Math.floor(e/60),a=e%60;b("".concat(String(t)," : ").concat(String(a)))},R=function(){var e=Object(r.a)(Object(s.a)().mark((function e(){var t,a,n,r,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,T._formValues.businessHours.forEach((function(e){if(e.status){var a=x()("".concat(e.start," am"),"HH:mm a"),n=x()("".concat(e.end," pm"),"HH:mm a").diff(a,"minutes");t+=isNaN(n)?0:n}}));case 3:return e.next=5,Math.floor(t/60);case 5:a=e.sent,n=t%60,r=parseInt(4*n/60),c=n%60,S("".concat(4*a+r," : ").concat(c));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,V(Object(j.a)(t));case 3:z(!1),y.b.success("Business Hours Updated Successfully",{position:"bottom-right"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(!0),f.a.post("/organizationprefernces/getbusinesshours").then(function(){var e=Object(r.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=t.data.organizationprefernces)||void 0===a||!a.officetime){e.next=7;break}return e.next=3,t.data.organizationprefernces.officetime.forEach((function(e,t){var a=JSON.parse(e);K("businessHours[".concat(t,"].status"),a.status),K("businessHours[".concat(t,"].start"),a.start),K("businessHours[".concat(t,"].end"),a.end)}));case 3:return e.next=5,R();case 5:return e.next=7,W();case 7:z(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)(Object(r.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(),e.next=3,R();case 3:return e.next=5,W();case 5:case"end":return e.stop()}}),e)}))),[]),Object(g.jsx)(u.Fragment,{children:Object(g.jsx)(p.a,{blocking:I,loader:Object(g.jsx)(E,{}),children:Object(g.jsx)(i.l,{children:Object(g.jsx)(i.m,{className:"py-25",children:Object(g.jsx)(i.ib,{className:"gx-4",children:Object(g.jsxs)(i.B,{lg:"10",children:[Object.keys(J).map((function(e){var t;return Object(g.jsxs)(i.I,{children:["$",null===(t=J[e])||void 0===t?void 0:t.message]},e)})),Object(g.jsxs)(i.ib,{tag:i.H,className:"gx-2 gy-1",onSubmit:P(U),children:[q.map((function(e,t){var a,c,u,d,l,b,f,j;return Object(g.jsxs)(i.ib,{className:"mt-1",children:[Object(g.jsx)(i.B,{children:e.day}),Object(g.jsx)(i.B,{children:Object(g.jsx)(o.a,{name:"businessHours[".concat(t,"].status"),control:T,render:function(e){var t=e.field;return Object(g.jsx)("div",{className:"form-check form-switch",children:Object(g.jsx)(i.K,Object(n.a)(Object(n.a)({},t),{},{type:"switch",defaultChecked:t.value,className:"customSwitch",onChange:function(e){console.log(e),t.onChange(e),R(),W()}}))})}})}),Object(g.jsxs)(i.B,{children:[Object(g.jsx)(o.a,{name:"businessHours[".concat(t,"].start"),control:T,render:function(t){var a=t.field;return Object(g.jsx)(i.K,Object(n.a)({type:"time",onChange:Object(r.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return e.next=4,R();case 4:case"end":return e.stop()}}),e)}))),defaultValue:e.start},a))}}),(null===(a=J.businessHours)||void 0===a||null===(c=a[t])||void 0===c?void 0:c.start)&&Object(g.jsx)(i.I,{children:null===(u=J.businessHours)||void 0===u||null===(d=u[t])||void 0===d?void 0:d.start.message})]}),Object(g.jsxs)(i.B,{children:[Object(g.jsx)(o.a,{name:"businessHours[".concat(t,"].end"),control:T,render:function(t){var a,c,u=t.field;return Object(g.jsx)(i.K,Object(n.a)({type:"time",invalid:(null===(a=J.rows)||void 0===a||null===(c=a[index])||void 0===c?void 0:c.sacCode)&&!0,onChange:Object(r.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return e.next=4,R();case 4:case"end":return e.stop()}}),e)}))),defaultValue:e.end},u))}}),(null===(l=J.businessHours)||void 0===l||null===(b=l[t])||void 0===b?void 0:b.end)&&Object(g.jsx)(i.I,{children:null===(f=J.businessHours)||void 0===f||null===(j=f[t])||void 0===j?void 0:j.end.message})]})]},e.rowid)})),Object(g.jsxs)(i.ib,{className:"mt-1",children:[Object(g.jsx)(i.B,{children:" Weekly Hours"}),Object(g.jsxs)(i.B,{children:[a," "]})]}),Object(g.jsxs)(i.ib,{className:"mt-1",children:[Object(g.jsx)(i.B,{children:" Monthly Hours"}),Object(g.jsx)(i.B,{children:k})]}),Object(g.jsx)(i.B,{className:"mt-2 pt-1",xs:12,children:Object(g.jsx)(i.i,{type:"submit",className:"me-1",color:"primary",children:"Submit"})})]})]})})})})})})}},703:function(e,t,a){"use strict";var n=a(8),s=a(25),r=a(0),c=a(7),u=a.n(c),i=a(11),o=(a(705),a(2)),d=function(e){var t,a=e.children,c=e.blocking,i=e.loader,d=e.className,l=e.tag,b=e.overlayColor,f=l;return Object(o.jsxs)(f,{className:u()("ui-loader",(t={},Object(s.a)(t,d,d),Object(s.a)(t,"show",c),t)),children:[a,c?Object(o.jsxs)(r.Fragment,{children:[Object(o.jsx)("div",Object(n.a)({className:"overlay"},c&&b?{style:{backgroundColor:b}}:{})),Object(o.jsx)("div",{className:"loader",children:i})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(i.jb,{color:"primary"})}},704:function(e,t,a){"use strict";var n=a(2);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},705:function(e,t,a){},792:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(13),s=a(3),r=a(5),c=a(4),u=a(6),i=Object(c.b)("appInvoiceSetting/getData",function(){var e=Object(r.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/organizationprefernces/get",{organizationId:t});case 2:return a=e.sent,e.abrupt("return",{data:a.data.organizationprefernces});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o=Object(c.b)("appInvoiceSetting/addOrgPreference",function(){var e=Object(r.a)(Object(s.a)().mark((function e(t,a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(n.a)(a),e.next=3,u.a.post("/organizationprefernces/createandupdate",t);case 3:return e.abrupt("return","");case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());Object(c.c)({name:"appInvoiceSetting",initialState:{accounts:[],total:1,params:{},allData:[]},reducers:{},extraReducers:function(e){e.addCase(i.fulfilled,(function(e,t){e.accounts=t.payload.data,e.params=t.payload.params}))}}).reducer}}]);
//# sourceMappingURL=64.6d9d876e.chunk.js.map
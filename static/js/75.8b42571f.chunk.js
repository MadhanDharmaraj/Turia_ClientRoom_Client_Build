(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[75],{1330:function(e,t,s){"use strict";s.r(t);var n=s(8),c=s(3),a=s(5),i=s(10),r=s(0),d=s(184),o=s(707),l=(s(787),s(7)),u=s.n(l),j=s(6),b=s(11),m=s(193),f=s(20),h=s(712),O=s(713),g=s(19),p=s(183),x=s(22),y=s(61),v=s(703),N=s(704),I=s(2),S=Object(g.b)(),C=Object(g.d)(),w=Object(g.a)();t.default=function(){var e,t=Object(f.b)(),s=Object(x.g)().tabId,l=Object(r.useState)([]),g=Object(i.a)(l,2),B=g[0],E=g[1],P=Object(r.useState)([]),k=Object(i.a)(P,2),q=k[0],G=k[1],z=Object(r.useState)(!1),R=Object(i.a)(z,2),A=R[0],L=R[1],T=function(){return Object(I.jsx)(r.Fragment,{children:Object(I.jsx)(N.a,{})})},Z=Object(r.useState)(null),D=Object(i.a)(Z,2),F=D[0],U=D[1],J=Object(r.useState)(!0),K=Object(i.a)(J,2),V=K[0],$=K[1],H=Object(r.useState)([]),M=Object(i.a)(H,2),Q=M[0],W=M[1],X=Object(r.useState)([]),Y=Object(i.a)(X,2),_=Y[0],ee=Y[1],te=Object(r.useState)([]),se=Object(i.a)(te,2),ne=se[0],ce=se[1],ae=Object(f.c)((function(e){return e.organization})),ie=h.d().shape({updatedBy:h.f().default(C),name:h.f().required("Please Enter Business Name"),businessEmail:h.f().email().required("Please Enter Business Email"),contactNo:h.f().required("Please Enter Contact Number").matches(/^[0-9\- ]{10,10}$/,{message:"Phone number is not valid",excludeEmptyString:!0}),countryCode:h.f(),currencyId:h.f().required("Please Select Currency"),businessEntityId:h.f().when("countryCode",{is:function(e){return"IN"===e},then:h.f().required("Please Select Business Entity")}),businessTypeId:h.f().when("countryCode",{is:function(e){return"IN"===e},then:h.f().required("Please Select Business Type")}),isGstRegistered:h.b().default(!0),gstin:h.f().when("isGstRegistered",{is:function(e){return!0===e},then:h.f().required("GSTIN Required.").matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,{message:"GSTIN is not valid",excludeEmptyString:!0})}),addressLine1:h.f().required("Please Enter Address Line 1"),addressLine2:h.f().default("").when("countryCode",{is:function(e){return"IN"===e},then:h.f().required("Please Enter Area, Street, Sector, Village")}),countryId:h.f().required("Please Select CountryId"),stateId:h.f().when("countryCode",{is:function(e){return"IN"===e},then:h.f().required("Please Select State")}),stateOther:h.f().default("").nullable(),pinZipCode:h.f().default("").when("countryCode",{is:function(e){return"IN"===e},then:h.f().required("Please Enter Postal Code").matches(/^[0-9\- ]{6,6}$/,{message:"Postal Code is not valid",excludeEmptyString:!0})}),city:h.f().default("").when("countryCode",{is:function(e){return"IN"===e},then:h.f().required("Please Enter City")})}),re=Object(o.f)({defaultValues:ie.cast(),resolver:Object(O.a)(ie)}),de=re.control,oe=re.handleSubmit,le=re.formState.errors,ue=re.reset,je=re.setValue,be=function(){var e=Object(a.a)(Object(c.a)().mark((function e(s){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,t(Object(m.f)(s));case 3:n=e.sent,localStorage.setItem("activeOrganization",JSON.stringify(n.payload)),p.b.success("Organization Data Updated Successfully.",{position:"bottom-right"}),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"edit"!==s&&void 0!==s||(j.a.post("/businessentities/list").then((function(e){var t=e.data;E(t.businessentities)})),j.a.post("/businesstypes/dropdown").then((function(e){var t=e.data;G(t.businesstypes)})),j.a.post("/countries/list").then((function(e){var t=e.data;ce(t.countries)})),j.a.post("/states/list").then((function(e){var t=e.data;W(t.states)})),j.a.post("/currencies/dropdown").then((function(e){var t=e.data;ee(t.currencies)})),U(w.countryshortname));case 1:case"end":return e.stop()}}),e)}))),[s]),Object(r.useEffect)(Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(m.c)(S));case 2:case"end":return e.stop()}}),e)}))),[]);var me=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(I.jsxs)(b.ib,{className:"mb-1",children:[Object(I.jsx)(b.N,{sm:"4",size:"lg",className:u()("form-label ".concat(s?"required":"")),for:t,children:e}),Object(I.jsxs)(b.B,{sm:"8",children:[Object(I.jsx)(o.a,{id:t,name:t,control:de,render:function(e){var s=e.field;return Object(I.jsx)(b.K,Object(n.a)(Object(n.a)({invalid:le[t]&&!0},s),{},{disabled:c}))}}),le[t]&&Object(I.jsx)(b.I,{children:le[t].message})]})]})},fe=function(e,t,s){var c,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(I.jsxs)(b.ib,{className:"mb-1",children:[Object(I.jsx)(b.N,{sm:"4",size:"lg",className:u()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(I.jsxs)(b.B,{sm:"8",children:[Object(I.jsx)(o.a,{control:de,name:t,id:t,render:function(e){var c=e.field,a=e.ref;return Object(I.jsx)(d.a,Object(n.a)(Object(n.a)({inputRef:a,className:u()("react-select",{"is-invalid":le[t]})},c),{},{classNamePrefix:"select",options:s,value:s.find((function(e){return e.id===c.value})),onChange:function(e){return"countryId"===t&&(U(e.shortname),je("CountryCode",e.shortname),"IN"===e.shortname?(je("isGstRegistered",!0),$(!0)):(je("isGstRegistered",!1),$(!1))),c.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),le[t]&&Object(I.jsx)(b.I,{className:"text-danger",children:null===(c=le[t])||void 0===c?void 0:c.message})]})]})};return Object(r.useEffect)((function(){if(null!==ae.organizationData){var e=ae.organizationData;ue({updatedBy:C,name:e.name,id:e.id,businessEmail:e.businessemail,contactNo:e.contactno,businessEntityId:e.businessentityid,businessTypeId:e.businesstypeid,isGstRegistered:e.isgstregistered,gstin:e.gstin,addressLine1:e.addressline1,addressLine2:e.addressline2,countryId:e.countryid,stateId:e.stateid||"",stateOther:e.stateothers,pinZipCode:e.pinzipcode,currencyId:e.currencyid,city:e.city}),$(e.isgstregistered)}}),[ae.organizationData]),Object(I.jsx)(r.Fragment,{children:Object(I.jsx)(v.a,{blocking:A,loader:Object(I.jsx)(T,{}),children:Object(I.jsxs)(b.l,{children:[Object(I.jsx)(b.p,{className:"border-bottom",children:Object(I.jsx)(b.v,{tag:"h4",children:"Organization Details"})}),Object(I.jsxs)(b.m,{className:"py-2 my-25",children:[Object(I.jsxs)("div",{className:"d-flex",children:[Object(I.jsx)("div",{className:"me-25",children:null!==w.imageid?Object(I.jsx)("img",{referrerPolicy:"no-referrer",className:"rounded me-50",src:"https://drive.google.com/thumbnail?id=".concat(w.imageid,"&authuser=0"),alt:"Organization image",height:"75",width:"75"}):Object(I.jsx)(y.a,{className:"rounded me-50",initials:!0,color:"light-primary",content:w.name?null===(e=w.name)||void 0===e?void 0:e.charAt(0).toUpperCase():""})}),Object(I.jsx)("div",{className:"d-flex align-items-end mt-75 ms-1",children:Object(I.jsxs)("div",{children:[Object(I.jsxs)(b.i,{tag:b.N,className:"mb-75 me-75",size:"sm",color:"primary",children:["Upload Logo",Object(I.jsx)(b.K,{type:"file",onChange:function(e){var t=new FileReader,s=e.target.files;t.readAsDataURL(s[0]),function(e){var t=new FormData;t.append("files[0]",e),t.append("organizationId",S),t.append("createdBy",C),L(!0),j.a.post("/google/logoUploads",t).then((function(){L(!1),p.b.success("Organization Picture Uploaded Successfully")})).catch((function(e){console.log(e)}))}(e.target.files[0])},hidden:!0,accept:"image/*"})]}),Object(I.jsx)("p",{className:"mb-0",children:"Allowed JPG, GIF or PNG. Max size of 800kB"})]})})]}),Object(I.jsxs)(b.ib,{tag:b.H,className:"mt-1",onSubmit:oe(be),children:[Object(I.jsxs)(b.ib,{children:[Object(I.jsx)(b.B,{md:"6",children:me("Business Name","name",!0)}),Object(I.jsx)(b.B,{md:"6",children:me("Business E-mail","businessEmail",!0,!0)}),Object(I.jsx)(b.B,{md:"6",children:me("Conatct No","contactNo",!0)}),Object(I.jsx)(b.B,{md:"6",children:fe("Country","countryId",ne,!0)}),Object(I.jsx)(b.B,{md:"6",children:fe("Currency","currencyId",_,!0)}),Object(I.jsx)(b.B,{md:"6"}),(null===F||"IN"===F)&&Object(I.jsxs)(r.Fragment,{children:[Object(I.jsx)(b.B,{md:"6",children:fe("Business Entity","businessEntityId",B,!0)}),Object(I.jsx)(b.B,{md:"6",children:fe("Business Type","businessTypeId",q,!0)}),Object(I.jsxs)(b.B,{md:"6",className:"mt-1",children:[Object(I.jsx)(b.N,{className:"form-label",for:"pincode",children:"Is GST Registered?"}),Object(I.jsxs)("div",{className:"form-switch form-check-success",children:[V&&Object(I.jsx)(b.K,{type:"switch",id:"switch-success",name:"isGstRegistered",defaultChecked:!0,onChange:function(e){$(e.target.checked),je("isGstRegistered",e.target.checked)}}),!V&&Object(I.jsx)(b.K,{type:"switch",id:"switch-success",name:"isGstRegistered",onChange:function(e){$(e.target.checked),je("isGstRegistered",e.target.checked)}})]})]}),Object(I.jsx)(b.B,{md:"6",children:me("GSTIN","gstin",!!V)})]}),Object(I.jsx)(b.B,{sm:"6",children:me("Address","addressLine1",!0)}),Object(I.jsx)(b.B,{sm:6,children:me("Area, Street","addressLine2",null===F||"IN"===F)}),Object(I.jsx)(b.B,{md:"6",children:null===F||"IN"===F?fe("State","stateId",Q,!0):me("State","stateOther",!1)}),Object(I.jsx)(b.B,{md:"6",children:me("Postal Code","pinZipCode",null===F||"IN"===F)}),Object(I.jsx)(b.B,{md:"6",children:me("Town/City","city",null===F||"IN"===F)})]}),Object(I.jsx)("div",{className:"d-flex justify-content-between mt-2",children:Object(I.jsx)(b.i,{type:"submit",className:"me-1",color:"primary",children:"Submit"})})]})]})]})})})}},703:function(e,t,s){"use strict";var n=s(8),c=s(25),a=s(0),i=s(7),r=s.n(i),d=s(11),o=(s(705),s(2)),l=function(e){var t,s=e.children,i=e.blocking,d=e.loader,l=e.className,u=e.tag,j=e.overlayColor,b=u;return Object(o.jsxs)(b,{className:r()("ui-loader",(t={},Object(c.a)(t,l,l),Object(c.a)(t,"show",i),t)),children:[s,i?Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",Object(n.a)({className:"overlay"},i&&j?{style:{backgroundColor:j}}:{})),Object(o.jsx)("div",{className:"loader",children:d})]}):null]})};t.a=l,l.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(d.jb,{color:"primary"})}},704:function(e,t,s){"use strict";var n=s(2);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},705:function(e,t,s){}}]);
//# sourceMappingURL=75.8b42571f.chunk.js.map
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[233],{1498:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(5),s=a(12),c=a(0),i=a(23),l=a(25),u=a(70),o=a(10),d=a(4),p=a(24),j=a(9),b=a(6),g=a(13),x=a(28),f=a.n(x),m=Object(g.d)(),O=Object(d.b)("appDigitalSignature/getData",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/digitalsignatures/list",t);case 2:return a=e.sent,e.abrupt("return",{params:t,data:a.data.digitalsignatures.digitalsignatures,totalPages:a.data.digitalsignatures.total});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(d.b)("appDigitalSignature/getLicenseData",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/digitalsignatures/licenselist",t);case 2:return a=e.sent,e.abrupt("return",{params:t,data:a.data.digitalsignatures.digitalsignatures,totalPages:a.data.digitalsignatures.total});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(d.b)("appDigitalSignature/getDsc",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/digitalsignatures/get",{id:t});case 2:return a=e.sent,e.abrupt("return",a.data.digitalsignatures);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(d.b)("appDigitalSignature/DSCList",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/digitalsignatures/listbyclient",{contactid:t});case 2:return a=e.sent,e.abrupt("return",{data:a.data.digitalsignatures});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=(Object(d.b)("appDigitalSignature/addDsc",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,a){var r,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,s=a.getState,e.next=3,b.a.post("/digitalsignatures/create",t);case 3:return e.next=5,r(O(s().digitalsignature.params));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Object(d.b)("appDigitalSignature/updateDsc",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,a){var r,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,s=a.getState,e.next=3,b.a.post("/digitalsignatures/update",t);case 3:return e.next=5,r(O(s().digitalsignature.params));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Object(d.b)("appDigitalSignature/deleteDigitalSignature",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.a)(a),e.next=3,b.a.post("/digitalsignatures/delete",{id:t,updatedBy:m});case 3:return e.next=5,dispatch(O(getState().digitalsignature.params));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Object(d.b)("appDigitalSignature/deleteDigitalSignature",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,a){var r,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,s=a.getState,e.next=3,b.a.post("/digitalsignatures/delete",{id:t,updatedBy:m});case 3:return e.next=5,r(O(s().digitalsignature.params));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Object(d.b)("appDigitalSignature/updateDSCLocation",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,a){var r,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,s=a.getState,e.next=3,b.a.post("/digitalsignatures/updatelocation",t);case 3:return e.next=5,r(O(s().digitalsignature.params));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),function(e){return 13===e.length?f()(e,"x").format("MMM DD, Y"):f.a.unix(e).format("MMM DD, Y")}),y=Object(d.b)("appTasks/exportDSC",function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var a,r,s,c,i,l,u,o,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/digitalsignatures/exportToExcel",t);case 2:return a=e.sent,r=["","Active","Inactive","Expired"],s=["","Office","with Client"],c=a.data.digitalsignatures.map((function(e){var t={};return t.id=e.uniqueidentity,t.clientname=e.contactname,t.email=e.email,t.contact=e.contact,t.password=e.password,t.issueddate=S(e.issueddate),t.expirydate=S(e.expirydate),t.location=s[e.dsclocation],t.status=r[e.status],t})),e.next=8,j.utils.json_to_sheet(c,{origin:"A2",skipHeader:!0});case 8:i=e.sent,l=[["ID","Client Name","Client Email","Conatct","Password","Issued Date","Expiry Date","Location","Status"]],j.utils.sheet_add_aoa(i,l),u={Sheets:{data:i},SheetNames:["data"]},o=j.write(u,{bookType:"xlsx",type:"array"}),d=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),p.saveAs(d,"Digital_Signature_Report.xlsx");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=(Object(d.c)({name:"appDigitalSignature",initialState:{data:[],total:1,params:{},allData:[],selectedDigitalSignature:null,DSCLists:[]},reducers:{},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){e.data=t.payload.data,e.params=t.payload.params,e.total=t.payload.totalPages,e.DSCLists=[]})).addCase(h.fulfilled,(function(e,t){e.data=t.payload.data,e.params=t.payload.params,e.total=t.payload.totalPages,e.DSCLists=[]})).addCase(w.fulfilled,(function(e,t){e.DSCLists=t.payload.data})).addCase(v.fulfilled,(function(e,t){e.selectedDigitalSignature=t.payload,e.DSCLists=[]}))}}).reducer,a(21)),D=a(740),C=a.n(D),k=a(735),P=a(736),L=a(1067),M=a(900),A=a(14),E=a(184),F=(a(481),a(55)),B=a(356),I=a(391),T=a(313),Y=a(316),q=a(3),R=function(e){var t=e.handlePerPage,a=e.rowsPerPage,n=e.handleFilter,r=e.searchTerm,o=e.updateRefreshList,d=e.currentStatus,p=e.statusArrOptions,j=e.handleStatus,b=e.exportList,g=Object(c.useState)(!1),x=Object(s.a)(g,2),f=x[0],m=x[1],O=Object(i.g)().id;return Object(q.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap p-2 p-md-1 my-75",children:[Object(q.jsxs)(A.Q,{isOpen:f,toggle:function(){return m(!f)},className:"modal-dialog-centered modal-dsc",children:[Object(q.jsx)(A.T,{toggle:function(){return m(!f)},children:"Digital Signature"}),Object(q.jsx)(A.R,{children:Object(q.jsx)(L.a,{updateRefresh:function(e){e&&(m(!1),o(!0))}})})]}),Object(q.jsx)(A.B,{className:"col-12 col-md-6 d-flex align-items-center px-1",children:Object(q.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(q.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(q.jsxs)(A.K,{className:"mx-50",type:"select",id:"rows-per-page",value:a,onChange:t,style:{width:"5rem"},children:[Object(q.jsx)("option",{value:"10",children:"10"}),Object(q.jsx)("option",{value:"25",children:"25"}),Object(q.jsx)("option",{value:"50",children:"50"})]}),Object(q.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(q.jsxs)(A.B,{className:"col-12 col-md-6 d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[!O&&Object(q.jsxs)(c.Fragment,{children:[Object(q.jsx)(A.B,{md:5,sm:12,lg:5,className:"p-25",children:Object(q.jsx)(E.a,{label:"name",isClearable:!1,value:d,options:p,className:"react-select",classNamePrefix:"select",theme:F.g,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},onChange:function(e){j(e)}})}),Object(q.jsx)(A.B,{md:5,sm:12,lg:5,className:"p-25",children:Object(q.jsx)(A.K,{id:"search-invoice",className:"",type:"text",placeholder:"Search",value:r,onChange:function(e){return n(e.target.value)}})})]}),Object(q.jsxs)(A.B,{className:"d-flex justify-content-start justify-content-lg-end align-items-center table-header-actions col-12 col-md-2",children:[Object(q.jsxs)(u.b,{I:"write",a:"digital-signature",children:[O&&Object(q.jsx)(A.i,{className:"add-new-user",color:"primary",onClick:function(){m(!f)},children:"Add"}),!O&&Object(q.jsx)(A.i,{className:"add-new-user",color:"primary",tag:l.b,to:"/digital-signature/add",children:"Add"})]}),Object(q.jsxs)(A.wb,{className:"ms-1",children:[Object(q.jsx)(A.G,{color:"secondary",caret:!0,outline:!0,className:"px-1",children:Object(q.jsx)(B.a,{className:"font-small-4"})}),Object(q.jsxs)(A.F,{children:[Object(q.jsx)(u.b,{I:"write",a:"digital-signature",children:Object(q.jsxs)(A.E,{className:"w-100",tag:l.b,to:"/import/digitalsignatures",children:[Object(q.jsx)(I.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:"Import"})]})}),Object(q.jsx)(u.b,{I:"write",a:"digital-signature",children:Object(q.jsxs)(A.E,{className:"w-100",onClick:function(){b()},children:[Object(q.jsx)(T.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:"Export"})]})})]})]})]})]})]})},_=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.digitalsignature})),a=Object(i.g)().id,l=Object(c.useState)("desc"),u=Object(s.a)(l,1)[0],o=Object(c.useState)(""),d=Object(s.a)(o,2),p=d[0],j=d[1],b=Object(c.useState)(1),g=Object(s.a)(b,2),x=g[0],m=g[1],O=Object(c.useState)("createdon"),v=Object(s.a)(O,1)[0],w=Object(c.useState)(a?6:25),S=Object(s.a)(w,2),D=S[0],L=S[1],E=Object(c.useState)({id:"",name:"Select Status"}),F=Object(s.a)(E,2),B=F[0],I=F[1],T=Object(c.useState)({id:"",name:"All"}),_=Object(s.a)(T,1)[0],z=Object(c.useState)(!1),J=Object(s.a)(z,2),K=J[0],Q=J[1],G=Object(c.useState)(null),H=Object(s.a)(G,2),U=H[0],V=H[1],W=["","Active","Inactive","Expired"],X=function(e){return 13===e.length?f()(e,"x").format("MMM DD, YYYY"):f.a.unix(e).format("MMM DD, YYYY")},Z=Object(c.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=function(){return Object(q.jsx)(c.Fragment,{children:Object(q.jsx)(P.a,{})})},ne=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(y({sort:u,sortColumn:v,q:p,page:x,perPage:D,status:B.id,location:_.id}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te(!0),t.next=3,e(h({sort:u,sortColumn:v,q:p,page:x,perPage:D,status:B.id,location:_.id}));case 3:te(!1);case 4:case"end":return t.stop()}}),t)}))),[e]);var re=function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te(!0),t.next=3,e(h({sort:u,sortColumn:v,q:p,perPage:D,page:a.selected+1,status:B.id,location:_.id}));case 3:te(!1),m(a.selected+1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=parseInt(a.currentTarget.value),te(!0),t.next=4,e(h({sort:u,sortColumn:v,q:p,perPage:r,page:x,status:B.id,location:_.id}));case 4:L(r),te(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ce=function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(a),te(!0),t.next=4,e(h({sort:u,q:a,sortColumn:v,page:x,perPage:D,status:B.id,location:_.id}));case 4:te(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(a),te(!0),t.next=4,e(h({sort:u,q:p,sortColumn:v,page:x,perPage:D,status:a.id,location:_.id}));case 4:te(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(){var e=Number(Math.ceil(t.total/D));return Object(q.jsx)(C.a,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:0!==x?x-1:0,onPageChange:function(e){return re(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},ue=function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return te(!0),t.next=4,e(h({sort:u,q:p,sortColumn:v,page:x,perPage:D,status:B.id,location:_.id}));case 4:te(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(q.jsx)(c.Fragment,{children:Object(q.jsx)(k.a,{blocking:ee,loader:Object(q.jsx)(ae,{}),children:Object(q.jsx)(A.l,{className:"overflow-hidden",children:Object(q.jsxs)(A.ib,{children:[Object(q.jsx)(R,{searchTerm:p,rowsPerPage:D,handleFilter:ce,handlePerPage:se,updateRefreshList:ue,statusArrOptions:[{id:0,name:"Select All"},{id:1,name:"Active"},{id:2,name:"Inactive"},{id:3,name:"Expired"}],currentStatus:B,handleStatus:ie,exportList:ne}),Object(q.jsxs)(A.Q,{isOpen:K,toggle:function(){return Q(!K)},className:"modal-dialog-centered modal-dsc",children:[Object(q.jsx)(A.T,{toggle:function(){return Q(!K)},children:"Digital Signature"}),Object(q.jsx)(A.R,{children:Object(q.jsx)(M.a,{selectedDSC:U,setFreshList:function(){Q(!1),V(null)}})})]}),Object(q.jsxs)(A.mb,{className:"text-nowrap text-center border-bottom",responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{className:"text-start",children:"Name"}),Object(q.jsx)("th",{children:"Number"}),Object(q.jsx)("th",{children:"Start Date"}),Object(q.jsx)("th",{children:"Expiry Date"}),Object(q.jsx)("th",{children:"Files"}),Object(q.jsx)("th",{children:"Status"}),Object(q.jsx)("th",{children:"Action"})]})}),Object(q.jsx)("tbody",{children:function(){var e={status:B.id,q:p},a=Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:0===t.data.length&&a?[]:t.allData.slice(0,D)}().map((function(e,t){var a;return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{className:"text-start",children:e.name}),Object(q.jsx)("td",{children:e.licenseno}),Object(q.jsx)("td",{children:void 0!==e.issueddate?X(e.issueddate):""}),Object(q.jsx)("td",{children:e.expirydate>0?X(e.expirydate):""}),Object(q.jsx)("td",{className:"text-start",children:null===(a=e.files)||void 0===a?void 0:a.map((function(e,t){return Object(q.jsx)(A.f,{className:"ms-25",color:"primary",children:Object(q.jsx)("a",{target:"_blank",className:"file-name text-overflow-ellipsis",href:"http://docs.google.com/fileview?id=".concat(e.driveid,"&hl=en&pid=explorer&efh=false&a=v&chrome=false&embedded=true"),children:e.originalfilename.split(".")[0].length>1?"".concat(e.originalfilename.split(".")[0].substr(0,10),".").concat(e.extension):e.originalfilename})},t)}))}),Object(q.jsx)("td",{children:Object(q.jsxs)(A.f,{color:statusColArr[e.status],children:[" ",W[e.status]]})}),Object(q.jsx)("td",{children:Object(q.jsxs)("div",{className:"column-action d-flex align-items-center",children:[Object(q.jsx)(A.B,{onClick:function(){openEditModal(e)},children:Object(q.jsx)(Y.a,{className:"cursor-pointer mt-0",size:16})}),Object(q.jsx)(A.B,{lg:4,onClick:function(){deletefn(e.id)},children:Object(q.jsx)(Trash2,{className:"cursor-pointer ms-1 mt-0",size:16})})]})})]},t)}))})]}),Object(q.jsx)(le,{})]})})})})};a(752),t.default=function(){return Object(q.jsx)("div",{className:"app-user-list",children:Object(q.jsx)(_,{})})}}}]);
//# sourceMappingURL=233.4b1797a5.chunk.js.map
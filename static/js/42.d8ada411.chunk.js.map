{"version":3,"sources":["views/apps/reimbursement/shared-sidebar/SidebarSendInvoice.js","views/apps/reimbursement/preview/PreviewCard.js","views/apps/reimbursement/preview/PreviewActions.js","views/apps/reimbursement/preview/InvoicePayment/store/index.js","views/apps/reimbursement/preview/InvoicePayment/EditPayment.js","views/apps/reimbursement/preview/InvoicePayment/index.js","views/apps/reimbursement/preview/InvoicePayment/AddPayment.js","views/apps/reimbursement/preview/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","../node_modules/draftjs-to-html/lib/draftjs-to-html.js","../node_modules/react-select/dist/useCreatable-00a6568c.esm.js","../node_modules/react-select/creatable/dist/react-select.esm.js","@core/components/sidebar/index.js"],"names":["activeOrg","activeOrganization","userData","loggedInUser","SidebarSendInvoice","props","colourStyles","multiValue","styles","backgroundColor","useState","block","setBlock","Loader","toEmail","setToEmail","ccEmail","setCCEmail","data","setData","open","toggleSidebar","invoice","thankyouNote","setThankyouNote","userOptions","setUserOptions","clientOptions","setClientOptions","getCoatctInfo","id","axios","post","contactid","then","res","contactinformations","catch","getThankyouNotes","slug","value","test","emailtemplates","description","replace","paymentdue","length","moment","format","unix","taskinvoiceitemsservicename","contactperson","uniqueno","totalamount","name","replaceAll","temp","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","useEffect","undefined","clientid","Object","keys","organizationusers","ccOpen","setCCOpen","SelectComponent","Option","className","size","initials","content","charAt","email","toggleCC","e","preventDefault","scrollable","fade","keyboard","backdrop","container","isOpen","contentClassName","toggle","modalClassName","blocking","loader","href","onClick","onSubmit","for","isMulti","isClearable","theme","selectThemeColors","options","classNamePrefix","components","onChange","map","i","getOptionLabel","option","getOptionValue","placeholder","toolbarClassName","wrapperClassName","editorState","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","editorClassName","toolbar","inline","inDropdown","outline","color","subject","taskinvoiceId","clientName","contactname","toast","success","position","console","log","sendMail","PreviewCard","amount","useParams","dispatch","useDispatch","invoiceItems","setInvoiceItems","dateFormat","a","b","paymentstatusObj","renderStatus","val","find","o","parseInt","inWords","num","toString","n","substr","match","str","Number","String","txt","toUpperCase","toLowerCase","indianFormattedPrice","removedValue","finalVal","includes","slice","indexOf","lastThree","substring","otherNumbers","split","getInvoiceItems","payload","reimbursementinvoiceitems","paymentstatus","imageid","Math","floor","random","renderOrg","referrerPolicy","height","width","src","alt","addressline1","addressline2","city","pinzipcode","statename","invoicedate","billingaddressline1","billingaddressline2","billingaddresscity","billingaddresszipcode","billingaddressstate","parseFloat","dueamount","toFixed","bankaccountbankname","bankaccountholdername","bankaccountbranchname","bankaccountifsccode","md","sm","billingcurrencyshortname","responsive","item","ind","servicesName","price","subTotalAmount","order","lg","signatureflag","signatureimageid","note","PreviewActions","setSendSidebarOpen","setAddPaymentOpen","participants","setParticipants","invoiceId","reimbursementparticipants","err","Can","I","downloadLink","document","createElement","fileName","pdf","download","click","removeChild","window","print","tag","Link","to","user","k","taskid","uniqueidentity","userId","orgUserId","getData","createAsyncThunk","params","response","reimbursementinvoicepayments","addInvoicePayments","rejectWithValue","invoices","getExceptionPayload","getInvociePayments","updateInvociePayments","deleteInvociePayments","clients","getState","updatedBy","invoicepayment","updateInvoicePayment","createSlice","initialState","invoicePayments","total","reducers","extraReducers","builder","addCase","fulfilled","state","action","selectedInvociePayments","activeOrgId","activeOrganizationid","AddPayment","selectedPayment","accountOptions","setAccountOptions","amountErr","setAmountErr","schema","yup","shape","organizationId","default","contactId","totalAmountPaid","required","paymentDate","referenceOfMainId","pendingAmountBeforeRecord","transactionAccountId","referenceNo","billingCurrency","billingAddress","notes","paymentConfirmation","useForm","resolver","yupResolver","defaultValues","cast","handleSubmit","control","errors","formState","reset","formData","payamount","_formValues","totalPaidamount","pendingamountbeforerecord","valueOf","datatemp","status","totalamountpaid","paymentdate","toDate","referenceofmainid","transactionaccountid","referenceno","billingcurrency","billingaddress","getRow","fieldLabel","fieldName","reqflag","classnames","render","field","invalid","message","arr","transactionaccounts","title","headerClassName","billingcurrencysymbol","date","dateStr","altInput","ref","inputRef","c","accountHolderName","getSelectRow","type","onInput","defaultChecked","MySwal","withReactContent","Swal","InvoicePayments","tabId","refreshFlag","store","useSelector","payments","setPayments","setSelectedPayment","editPaymentOpen","setEditPaymentOpen","toggleEditSidebar","row","EditPayment","amountwithheld","fire","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","totalAmount","deletefun","createdBy","accountdetails","currencydetails","currencySymbol","due","InvoicePreview","sendSidebarOpen","addPaymentOpen","active","setActive","getInvoice","reimbursementinvoice","toggleTab","tab","xl","pills","activeTab","InvoicePayment","UILoader","children","overlayColor","Tag","style","defaultProps","ComponentSpinner","module","exports","forEach","obj","callback","key","hasOwnProperty","call","isEmptyString","trim","blockTypesMapping","unstyled","blockquote","code","getBlockTag","getBlockStyle","concat","getHashtagRanges","blockText","hashtagConfig","sections","counter","startIndex","trigger","separator","endIndex","hashtag","push","offset","getSections","lastOffset","sectionRanges","entityRanges","range","sort","s1","s2","r","start","end","entityKey","isAtomicEntityBlock","getStyleArrayForBlock","inlineStyleRanges","inlineStyles","BOLD","Array","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT","COLOR","BGCOLOR","FONTSIZE","FONTFAMILY","getStylesAtOffset","sameStyleAsPrevious","index","sameStyled","addInlineStyleMarkup","getSectionText","ch","join","addStylePropertyMarkup","styleString","getEntityMarkup","entityMap","customEntityTransform","entity","html","url","targetOption","alignment","getInlineStyleSections","styleSections","from","section","trimLeadingZeros","sectionText","replacedText","trimTrailingZeros","getStyleTagSectionMarkup","styleSection","getInlineStyleSectionMarkup","styleTagSections","styleSectionText","stylePropertySection","getSectionMarkup","entityInlineMarkup","getBlockInnerMarkup","blockMarkup","getBlockMarkup","directional","blockHtml","blockTag","blockStyle","isList","blockType","getListMarkup","listBlocks","previousBlock","listHtml","nestedListBlock","nestedBlock","depth","editorContent","blocks","factory","_excluded","compareOption","arguments","accessors","candidate","optionValue","optionLabel","builtins","formatCreateLabel","inputValue","isValidNewOption","selectValue","selectOptions","some","getNewOptionData","label","__isNew__","CreatableSelect","React","forwardRef","selectProps","_ref","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","propsOptions","propsOnChange","restSelectProps","_objectWithoutProperties","_restSelectProps$getO","getOptionValue$1","_restSelectProps$getO2","getOptionLabel$1","isLoading","newOption","useMemo","cleanValue","_toConsumableArray","useCallback","newValue","actionMeta","valueArray","isArray","newOptionData","newActionMeta","valueTernary","_objectSpread2","useCreatable","useStateManager","Select","_extends","Sidebar","closeBtn","bodyClassName","rest","renderCloseBtn","close","wheelPropagation"],"mappings":"mYA8BMA,EAAYC,cACZC,EAAWC,cA0QFC,IAnQY,SAAAC,GAEzB,IAAMC,EAAe,CACnBC,WAAY,SAACC,EAAO,GAElB,OAF4B,eAErB,2BACFA,GAAM,IACTC,gBAAiB,WAErB,GAGF,EAA0BC,oBAAS,GAAM,mBAAlCC,EAAK,KAAEC,EAAQ,KAEhBC,EAAS,WACb,OACE,cAAC,WAAQ,UACP,cAAC,IAAO,KAGd,EACA,EAA8BH,mBAAS,IAAG,mBAAnCI,EAAO,KAAEC,EAAU,KAC1B,EAA8BL,mBAAS,IAAG,mBAAnCM,EAAO,KAAEC,EAAU,KAC1B,EAAwBP,mBAAS,IAAG,mBAA7BQ,EAAI,KAAEC,EAAO,KACZC,EAAiCf,EAAjCe,KAAMC,EAA2BhB,EAA3BgB,cAAeC,EAAYjB,EAAZiB,QAC7B,EAAwCZ,mBAAS,IAAG,mBAA7Ca,EAAY,KAAEC,EAAe,KACpC,EAAsCd,mBAAS,IAAG,mBAA3Ce,EAAW,KAAEC,GAAc,KAClC,GAA0ChB,mBAAS,IAAG,qBAA/CiB,GAAa,MAAEC,GAAgB,MAQhCC,GAAgB,SAACC,GACrBC,IAAMC,KAAK,2BAA4B,CAAEC,UAAWH,IAAMI,MAAK,SAACC,GAC9DP,GAAiBO,EAAIjB,KAAKkB,oBAC5B,IAAGC,OAAM,WAAQ,GAEnB,EAWMC,GAAmB,WACvBP,IAAMC,KAAK,sBAAuB,CAAEO,KAAM,sBAAuBL,MAAK,SAACC,GACrE,IAXgBK,EAYVC,EADUN,EAAIjB,KAAKwB,eAAeC,YACnBC,QAAQ,kBAZbJ,EAY0ClB,EAAQuB,WAX/C,KAAjBL,EAAMM,OACDC,IAAOP,EAAO,KAAKQ,OAAO,gBAE1BD,IAAOE,KAAKT,GAAOQ,OAAO,kBAQ8CJ,QAAQ,YAAatB,EAAQ4B,6BAA6BN,QAAQ,iBAAkBtB,EAAQ6B,eAAeP,QAAQ,mBAAoBtB,EAAQ6B,eAAeP,QAAQ,eAAgBtB,EAAQ8B,UAAUR,QAAQ,WAAYtB,EAAQ+B,aAAaT,QAAQ,mBAAoBtB,EAAQ+B,aAAaT,QAAQ,cAAe1C,EAASoD,MAAMC,WAAW,cAAevD,EAAUsD,MAAMV,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAEzdY,EAAOC,cAAYC,kBACvBC,eAAaC,qBACXC,0BAAgBpB,KAGpBtB,EAAQqC,GACRhC,EAAgBiB,EAElB,IAAGJ,OAAM,WAAQ,GACnB,EAQAyB,qBAAU,gBACiBC,IAArBzC,EAAQ0C,UACVnC,GAAcP,EAAQ0C,eAEED,IAAtBzC,EAAQW,WACVJ,GAAcP,EAAQW,WAEpBgC,OAAOC,KAAK5C,GAASwB,OAAS,IAlDlCf,IAAMC,KAAK,+BAA+BE,MAAK,SAACC,GAC9CT,GAAeS,EAAIjB,KAAKiD,kBAC1B,IAAG9B,OAAM,WAAQ,IAkDfC,KAEJ,GAAG,CAAChB,IAEJ,IAcA,GAA4BZ,oBAAS,GAAM,qBAApC0D,GAAM,MAAEC,GAAS,MAElBC,GAAkB,SAAH,GAA4B,IAAD,EAArBpD,EAAI,EAAJA,KAASb,EAAK,iBACvC,OACE,cAAC,IAAWkE,OAAM,2BAAKlE,GAAK,aAC1B,sBAAKmE,UAAU,sCAAqC,UAClD,cAAC,IAAM,CAACA,UAAU,aAAaC,KAAK,KAAKC,UAAQ,EAACC,QAAkB,QAAX,EAAEzD,EAAKoC,YAAI,aAAT,EAAWsB,OAAO,KAC5E1D,EAAKoC,KAAK,MAAIpC,EAAK2D,WAI5B,EAGMC,GAAW,SAAAC,GACfA,EAAEC,iBACFX,IAAWD,GACb,EAQA,OAEE,qBAAKI,UAAU,oBAAmB,SAChC,qBAAKA,UAAU,uBAAsB,SACnC,qBAAKA,UAAU,YAAW,SACxB,qBAAKA,UAAU,eAAc,SAC3B,cAAC,IAAK,CACJS,YAAU,EACVC,MAAM,EACNC,UAAU,EACVC,UAAU,EACVtD,GAAG,eACHuD,UAAU,gBACVb,UAAU,WACVc,OAAQlE,EACRmE,iBAAiB,MACjBC,OAAQnE,EACRoE,eAAe,eAAc,SAE7B,eAAC,IAAQ,CAACC,SAAU/E,EAAOgF,OAAQ,cAAC9E,EAAM,IAAI,UAC5C,sBAAK2D,UAAU,eAAc,UAC3B,oBAAIA,UAAU,cAAa,SAAC,iBAC5B,qBAAKA,UAAU,gBAAe,SAO5B,mBAAGoB,KAAK,IAAIpB,UAAU,YAAYqB,QAlChC,SAAAd,GAClBA,EAAEC,iBACF3D,GACF,EA+ByE,SACrD,cAAC,IAAC,CAACoD,KAAM,YAIf,cAAC,IAAS,CAACD,UAAU,kBAAiB,SACpC,eAAC,IAAI,CAACA,UAAU,eAAesB,SAAU,SAAAf,GAAC,OAAIA,EAAEC,gBAAgB,EAAC,UAC/D,sBAAKR,UAAU,0BAAyB,UACtC,cAAC,IAAK,CAACuB,IAAI,WAAWvB,UAAU,aAAY,SAAC,QAG7C,qBAAKA,UAAU,cAAa,SAC1B,cAAC,IAAe,CACdwB,SAAO,EACPlE,GAAG,WACHmE,aAAa,EACbC,MAAOC,IACPC,QAASzE,GACT6C,UAAU,iCACV6B,gBAAgB,SAChBC,WAAY,CAAE/B,OAAQD,IACtB9D,OAAQF,EACRiG,SAAU,SAACxB,GAAQhE,EAAWgE,EAAEyB,KAAI,SAAAC,GAAC,OAAIA,EAAE5B,KAAK,IAAG,EACnD6B,eAAgB,SAACC,GAAM,gBAAQA,EAAOrD,KAAI,cAAMqD,EAAO9B,MAAK,EAC5D+B,eAAgB,SAACD,GAAM,OAAKA,EAAO7E,EAAE,MAGzC,8BACE,mBAAG8D,KAAK,IAAIpB,UAAU,2BAA2BqB,QAASf,GAAS,SAAC,aAK5D,IAAXV,GACC,sBAAKI,UAAU,qCAAoC,UACjD,cAAC,IAAK,CAACuB,IAAI,WAAWvB,UAAU,aAAY,SAAC,QAG7C,qBAAKA,UAAU,cAAa,SAC1B,cAAC,IAAM,CACLwB,SAAO,EACPlE,GAAG,WACHyE,SAAU,SAACxB,GAAQ9D,EAAW8D,EAAEyB,KAAI,SAAAC,GAAC,OAAIA,EAAE5B,KAAK,IAAG,EACnDoB,aAAa,EACbC,MAAOC,IACPC,QAAS3E,EACT+C,UAAU,iCACV6B,gBAAgB,SAChBC,WAAY,CAAE/B,OAAQD,IACtB9D,OAAQF,EACRoG,eAAgB,SAACC,GAAM,gBAAQA,EAAOrD,KAAI,cAAMqD,EAAO9B,MAAK,EAC5D+B,eAAgB,SAACD,GAAM,OAAKA,EAAO7E,EAAE,MAGzC,8BACE,mBAAG8D,KAAK,IAAIpB,UAAU,sBAAsBqB,QAASf,GAAS,SAC5D,cAAC,IAAC,CAACL,KAAM,YAIb,KACJ,sBAAKD,UAAU,0BAAyB,UACtC,cAAC,IAAK,CAACuB,IAAI,gBAAgBvB,UAAU,aAAY,SAAC,aAGlD,cAAC,IAAK,CAAC1C,GAAG,gBAAgB+E,YAAY,eAExC,qBAAK/E,GAAG,iBAAgB,SACtB,cAAC,SAAM,CACL+E,YAAY,UACZC,iBAAiB,YACjBC,iBAAiB,iBACjBC,YAAa9F,EACb+F,oBAhKD,SAACD,GACpB7F,EAAQ6F,GACRxF,EAAgB0F,IAAYC,uBAAaH,EAAYI,sBACvD,EA8JsBC,gBAAgB,qBAChBC,QAAS,CACPlB,QAAS,CAAC,SAAU,aACpBmB,OAAQ,CACNC,YAAY,EACZpB,QAAS,CAAC,OAAQ,SAAU,YAAa,uBAKjD,sBAAK5B,UAAU,yBAAwB,UACrC,sBAAKA,UAAU,wCAAuC,UACpD,cAAC,IAAM,CAACiD,SAAO,EAACC,MAAM,UAAU7B,QAAS,YA1J9C,WACfjF,GAAS,GACT,IAAM+G,EAAO,UAAMrG,EAAQ8B,SAAQ,kCACnCrB,IAAMC,KAAK,oBAAqB,CAAE2C,QAASpD,EAAcoG,UAAS7G,UAASE,UAAS4G,cAAetG,EAAQQ,GAAI+F,WAAYvG,EAAQwG,cAChI5F,MAAK,WACJb,GAAc,GACdT,GAAS,GACTmH,IAAMC,QAAQ,0BAA2B,CAAEC,SAAU,gBACvD,IACFC,QAAQC,KAAI,WAAQ,GACtB,CAgJuEC,EAAW,EAAE,SAAC,SAC/D,sBAAK5D,UAAU,8CAA6C,UACzDlD,EAAQ8B,SAAS,aAGtB,qBAAKoB,UAAU,0CAAyC,SACtD,cAAC,IAAK,CAACA,UAAU,iBAAiBC,KAAM,GAAIoB,QAASxE,0BAW7E,C,oKC/RMrB,EAAYC,cAmSHoI,EA/RK,SAAH,GAAkB,IA6EVC,EA7EFpH,EAAI,EAAJA,KAEbY,EAAOyG,cAAPzG,GAEF0G,EAAWC,cACjB,EAAwC/H,mBAAS,IAAG,mBAA7CgI,EAAY,KAAEC,EAAe,KAE9BC,EAAa,SAACpG,GAClB,OAAqB,KAAjBA,EAAMM,OACDC,IAAOP,EAAO,KAAKQ,OAAO,gBAE1BD,IAAOE,KAAKT,GAAOQ,OAAO,eAErC,EACM6F,EAAI,CAAC,GAAI,OAAQ,OAAQ,SAAU,QAAS,QAAS,OAAQ,SAAU,SAAU,QAAS,OAAQ,UAAW,UAAW,YAAa,YAAa,WAAY,WAAY,aAAc,YAAa,aACrMC,EAAI,CAAC,GAAI,GAAI,SAAU,SAAU,QAAS,QAAS,QAAS,UAAW,SAAU,UACjFC,EAAmB,CACvB,CAAEjH,GAAI,GAAIwB,KAAM,cAChB,CAAExB,GAAI,IAAKwB,KAAM,QAASoE,MAAO,iBACjC,CAAE5F,GAAI,IAAKwB,KAAM,UAAWoE,MAAO,gBACnC,CAAE5F,GAAI,IAAKwB,KAAM,iBAAkBoE,MAAO,iBAC1C,CAAE5F,GAAI,IAAKwB,KAAM,OAAQoE,MAAO,iBAChC,CAAE5F,GAAI,KAAMwB,KAAM,OAAQoE,MAAO,oBAE7BsB,EAAe,SAACC,GAEpB,OADYF,EAAiBG,MAAK,SAACC,GAAC,OAAKC,SAASD,EAAErH,MAAQsH,SAASH,EAAI,GAE3E,EACMI,EAAU,SAACC,GACf,QAAYvF,IAARuF,EACF,MAAO,OAGT,IAAKA,IAAQA,EAAIC,YAAYzG,OAAS,EACpC,MAAO,WAET,IAAM0G,EAAI,mBAAaF,GAAOG,QAAQ,GAAGC,MAAM,yCAC/C,GAAKF,EAAL,CAGA,IAAIG,EAAM,GAWV,OAVAA,GAAyB,IAAjBC,OAAOJ,EAAE,IAAcI,OAAOJ,EAAE,KAAO,GAAE,WAAOX,EAAEe,OAAOJ,EAAE,KAAI,mBAAaV,EAAEc,OAAOJ,EAAE,GAAG,KAAI,YAAIX,EAAEe,OAAOJ,EAAE,GAAG,KAAI,SAAW,GAEvIG,GAAyB,IAAjBC,OAAOJ,EAAE,IAAcI,OAAOJ,EAAE,KAAO,GAAE,WAAOX,EAAEe,OAAOJ,EAAE,KAAI,mBAAaV,EAAEc,OAAOJ,EAAE,GAAG,KAAI,YAAIX,EAAEe,OAAOJ,EAAE,GAAG,KAAI,QAAU,GAEtIG,GAAyB,IAAjBC,OAAOJ,EAAE,IAAcI,OAAOJ,EAAE,KAAO,GAAE,WAAOX,EAAEe,OAAOJ,EAAE,KAAI,uBAAiBV,EAAEc,OAAOJ,EAAE,GAAG,KAAI,YAAIX,EAAEe,OAAOJ,EAAE,GAAG,KAAI,YAAc,GAE9IG,GAAyB,IAAjBC,OAAOJ,EAAE,IAAcI,OAAOJ,EAAE,KAAO,GAAE,WAAOX,EAAEe,OAAOJ,EAAE,KAAI,sBAAgBV,EAAEc,OAAOJ,EAAE,KAAI,WAAa,GACnHA,EAAE,GAAKK,OAAOL,EAAE,KAChBG,GAAyB,IAAjBC,OAAOJ,EAAE,IAAS,UAAgB,KAARG,EAAa,QAAU,GAAE,YAAId,EAAEe,OAAOJ,EAAE,MAAI,UAAOV,EAAEc,OAAOJ,EAAE,GAAG,KAAI,YAAIX,EAAEe,OAAOJ,EAAE,GAAG,OAAY,IAE1H5G,QAAQ,UAAU,SAAUkH,GACrC,OAAU,OAAHA,QAAG,IAAHA,OAAG,EAAHA,EAAKlF,OAAO,GAAGmF,eAAgBD,EAAIL,OAAO,GAAGO,aACtD,GAdA,CAgBF,EAEMC,EAAuB,SAAChB,GAE5B,IAAMzG,EAAQqH,OAAOZ,GAEjBiB,EAAe,GACfC,EAAW,GACX3H,EAAM4H,SAAS,MACjBF,EAAe1H,EAAM6H,MAAM7H,EAAM8H,QAAQ,MAEzCH,GADAA,EAAW3H,EAAMI,QAAQsH,EAAc,KACnBX,YAEpBY,EAAW3H,EAAM+G,WAEnB,IAAIgB,EAAYJ,EAASK,UAAUL,EAASrH,OAAS,GAC/C2H,EAAeN,EAASK,UAAU,EAAGL,EAASrH,OAAS,GAG7D,MAFqB,KAAjB2H,IAAqBF,EAAS,WAAOA,IAC7BE,EAAa7H,QAAQ,wBAAyB,KAAO2H,GAClC,KAAjBL,EAAsB,MAAK,WAAOA,EAAaX,WAAWmB,MAAM,KAAK,IACrF,EAsBA,OAPA5G,oBAAS,gCAAC,8GAEU0E,EAASmC,YAAgB7I,IAAI,OAAtC,OAAHK,EAAG,gBACHwG,EAAgBxG,EAAIyI,QAAQC,2BAA0B,2CAE3D,CAAC3J,IAEY,OAATA,EACL,eAAC,IAAI,CAACsD,UAAU,uBAAsB,UACpC,cAAC,IAAG,UACF,cAAC,IAAK,CAACkD,MAAOsB,EAAa9H,EAAK4J,eAAepD,OAAS,gBAAgB,SAAEsB,EAAa9H,EAAK4J,eAAexH,MAAQpC,EAAK4J,kBAE1H,sBAAKtG,UAAU,oBAAmB,UAChC,eAAC,IAAQ,CAACA,UAAU,uBAAsB,UAExC,sBAAKA,UAAU,oDAAmD,UACzC,OAAtBxE,EAAU+K,QAxBH,SAAAzH,GAChB,IAEEoE,EADS,CAAC,gBAAiB,eAAgB,gBAAiB,aAAc,gBAAiB,mBAD5EsD,KAAKC,MAAsB,EAAhBD,KAAKE,WAGjC,OAAO,cAAC,IAAM,CAACxD,MAAOA,EAAOlD,UAAU,QAAQG,QAAkB,OAATrB,EAAoB,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMsB,OAAO,GAAK,IAE5F,CAkBwCuG,CAAUnL,EAAUsD,MAAQ,qBAAK8H,eAAe,cAAc5G,UAAU,gBAAgB6G,OAAQ,GAAIC,MAAO,GAAIC,IAAG,gDAA2CvL,EAAU+K,QAAO,eAAeS,IAAI,sBAC/N,oBAAIhH,UAAU,eAAc,SAAC,kBAC7B,6BAAI,8BAEN,sBAAKA,UAAU,6EAA4E,UACzF,sBAAKA,UAAU,sBAAqB,UAClC,qBAAKA,UAAU,4BAA2B,SACxC,oBAAIA,UAAU,yBAAwB,SAAExE,EAAUsD,SAEpD,cAAC,IAAQ,CAACkB,UAAU,QAAO,SAAExE,EAAUyL,eACvC,cAAC,IAAQ,CAACjH,UAAU,QAAO,SAAExE,EAAU0L,eACvC,eAAC,IAAQ,CAAClH,UAAU,OAAM,UAAExE,EAAU2L,KAAK,MAAI3L,EAAU4L,cACzD,cAAC,IAAQ,CAACpH,UAAU,OAAM,SAAExE,EAAU6L,eAGxC,sBAAKrH,UAAU,+BAA8B,UAC3C,sBAAKA,UAAU,+CAA8C,UAC3D,mBAAGA,UAAU,cAAa,SAAC,kBAG3B,mBAAGA,UAAU,oCAAmC,SAAEtD,EAAKkC,cAEzD,sBAAKoB,UAAU,+CAA8C,UAC3D,mBAAGA,UAAU,2BAA0B,SAAC,iBACxC,mBAAGA,UAAU,8BAA6B,SAAEoE,EAAW1H,EAAK4K,kBAE9D,sBAAKtH,UAAU,+CAA8C,UAC3D,mBAAGA,UAAU,qBAAoB,SAAC,cAClC,mBAAGA,UAAU,wBAAuB,SAAEoE,EAAW1H,EAAK2B,0BAQ9D,eAAC,IAAQ,CAAC2B,UAAU,uBAAsB,UACxC,sBAAKA,UAAU,kFAAiF,UAC9F,eAAC,IAAG,CAACA,UAAU,sBAAqB,UAClC,oBAAIA,UAAU,OAAM,SAAC,gBACrB,oBAAIA,UAAU,QAAO,SAAEtD,EAAK4G,cAC5B,cAAC,IAAQ,CAACtD,UAAU,QAAO,SAAEtD,EAAK6K,sBAClC,cAAC,IAAQ,CAACvH,UAAU,QAAO,SAAEtD,EAAK8K,sBAClC,eAAC,IAAQ,CAACxH,UAAU,QAAO,UAAEtD,EAAK+K,mBAAmB,MAAI/K,EAAKgL,yBAC9D,cAAC,IAAQ,CAAC1H,UAAU,QAAO,SAAEtD,EAAKiL,yBAEpC,eAAC,IAAG,CAAC3H,UAAU,sBAAqB,UAClC,oBAAIA,UAAU,OAAM,SAAC,qBACrB,uBAAOA,UAAU,SAAQ,SACvB,kCACE,+BACE,oBAAIA,UAAU,OAAM,SAAC,eACrB,oBAAIA,UAAU,WAAU,SACtB,sBAAMA,UAAU,UAAS,SAAEyF,EAAqBmC,WAAWlL,EAAKmL,WAAWC,QAAQ,WAGvF,+BACE,oBAAI9H,UAAU,OAAM,SAAC,eACrB,oBAAIA,UAAU,WAAU,SAAEtD,EAAKqL,yBAEjC,+BACE,oBAAI/H,UAAU,OAAM,SAAC,kBACrB,oBAAIA,UAAU,WAAU,SAAC,mBAAGA,UAAU,sCAAqC,SAAEtD,EAAKsL,6BAGpF,+BACE,oBAAIhI,UAAU,OAAM,SAAC,iBACrB,oBAAIA,UAAU,WAAU,SAAEtD,EAAKuL,2BAEjC,+BACE,oBAAIjI,UAAU,OAAM,SAAC,eACrB,oBAAIA,UAAU,WAAU,SAAEtD,EAAKwL,oCAUzC,qBAAKlI,UAAU,yDAAwD,SACrE,cAAC,IAAG,CAACA,UAAU,mBAAmBmI,GAAG,IAAIC,GAAG,IAAG,SAC7C,uBAAOpI,UAAU,SAAQ,SACvB,gCACE,+BACE,oBAAIA,UAAU,OAAM,SAAC,oBACrB,oBAAIA,UAAU,WAAU,SAAEtD,EAAK2L,yCAU3C,eAAC,KAAK,CAACC,YAAU,YACf,gCACE,+BACE,oBAAItI,UAAU,OAAM,SAAC,SACrB,oBAAIA,UAAU,OAAM,SAAC,UACrB,oBAAIA,UAAU,gBAAe,SAAC,eAGlC,gCACGkE,EAAalC,KAAI,SAACuG,EAAMC,GACvB,OACE,+BACE,qBAAIxI,UAAU,OAAM,UAClB,mBAAGA,UAAU,0BAAyB,SAAEuI,EAAKE,eAC7C,mBAAGzI,UAAU,wBAAuB,SACjCuI,EAAKpK,iBAGV,oBAAI6B,UAAU,OAAM,SAClB,sBAAMA,UAAU,UAAS,SAAEyF,EAAqB8C,EAAKG,WAEvD,oBAAI1I,UAAU,gBAAe,SAC3B,sBAAMA,UAAU,UAAS,SAAEyF,EAAqB8C,EAAKI,sBAXhDH,EAeb,SAOJ,cAAC,IAAQ,CAACxI,UAAU,uBAAsB,SACxC,eAAC,KAAG,CAACA,UAAU,8BAA6B,UAC1C,eAAC,IAAG,CAACA,UAAU,eAAemI,GAAG,IAAIS,MAAO,CAAET,GAAI,EAAGU,GAAI,GAAI,UAC3D,4BAAG,oBAAmB,KAlKX/E,EAkK2BpH,EAAKmC,YAjK5C,UAAMgG,EAAQf,EAAOoC,MAAM,KAAK,IAAG,iBAA6B3G,IAAzBuE,EAAOoC,MAAM,KAAK,GAAgB,oBAAgBrB,EAAQf,EAAOoC,MAAM,KAAK,IAAG,SAAU,KAkK9H1K,EAAUsN,eACT,eAAC,KAAG,WACF,mBAAG9I,UAAU,uBAAsB,SAAC,6BACnCxE,EAAUuN,kBAAoB,qBAAK/I,UAAU,8BAA8B4G,eAAe,cAAcG,IAAG,gDAA2CvL,EAAUuN,iBAAgB,uBAIvL,cAAC,IAAG,CAAC/I,UAAU,6BAA6BmI,GAAG,IAAIS,MAAO,CAAET,GAAI,EAAGU,GAAI,GAAI,SACzE,sBAAK7I,UAAU,wBAAuB,UACpC,sBAAKA,UAAU,kCAAiC,UAC9C,mBAAGA,UAAU,sBAAqB,SAAC,mBACnC,mBAAGA,UAAU,uBAAsB,SAAEyF,EAAqB/I,EAAKmC,kBAEjE,oBAAImB,UAAU,UACd,sBAAKA,UAAU,kCAAiC,UAC9C,mBAAGA,UAAU,sBAAqB,SAAC,UACnC,mBAAGA,UAAU,uBAAsB,SAAEyF,EAAqB/I,EAAKmC,YAAcnC,EAAKmL,gBAEpF,sBAAK7H,UAAU,iCAAgC,UAC7C,mBAAGA,UAAU,sBAAqB,SAAC,iBACnC,mBAAGA,UAAU,uBAAsB,SAAEyF,EAAqBmC,WAAWlL,EAAKmL,WAAWC,QAAQ,mBAQvG,oBAAI9H,UAAU,oBAGd,cAAC,IAAQ,CAACA,UAAU,uBAAsB,SACxC,cAAC,KAAG,UACF,eAAC,IAAG,CAACoI,GAAG,KAAI,UACV,sBAAMpI,UAAU,UAAS,SAAC,WAC1B,+BACGtD,EAAKsM,oBAQhB,IACN,E,QC3MeC,EAxFQ,SAAH,GAAgE,IAA1D3L,EAAE,EAAFA,GAAI4L,EAAkB,EAAlBA,mBAAoBC,EAAiB,EAAjBA,kBAAmBrM,EAAO,EAAPA,QAEnE,EAAwCZ,mBAAS,IAAG,mBAA7CkN,EAAY,KAAEC,EAAe,KA2BpC,OAJA/J,qBAAU,WANR/B,IAAMC,KAAK,wCAAyC,CAAE8L,UAAWxM,EAAQQ,KACtEI,MAAK,SAACC,GAAU0L,EAAgB1L,EAAIjB,KAAK6M,0BAA2B,IACpE1L,OAAM,SAAC2L,GAAU9F,QAAQC,IAAI6F,EAAK,GAMvC,GAAG,IAGD,cAAC,IAAI,CAACxJ,UAAU,yBAAwB,SACtC,eAAC,IAAQ,WACP,cAACyJ,EAAA,EAAG,CAACC,EAAG,OAAQrF,EAAG,UAAU,SAC3B,cAAC,IAAM,CAACnB,MAAM,UAAU/G,OAAK,EAAC6D,UAAU,QAAQqB,QAAS,kBAAM6H,GAAmB,EAAK,EAAC,SAAC,yBAI3F,cAACO,EAAA,EAAG,CAACC,EAAG,SAAUrF,EAAG,UAAU,SAC7B,cAAC,IAAM,CAACnB,MAAM,YAAY/G,OAAK,EAAC8G,SAAO,EAACjD,UAAU,QAAQqB,QAAS,WAjCzE9D,IAAMC,KAAK,gBAAiB,CAAEF,GAAIR,EAAQQ,KACvCI,MAAK,SAACC,GACL,IAAMgM,EAAeC,SAASC,cAAc,KACtCC,EAAQ,UAAMhN,EAAQ8B,SAAQ,QACpC+K,EAAavI,KAAOzD,EAAIjB,KAAKqN,IAC7BJ,EAAaK,SAAWF,EACxBH,EAAaM,QACbL,SAASM,YAAYP,EACvB,IACC9L,OAAM,SAAC2L,GAAU9F,QAAQC,IAAI6F,EAAK,GAwB0D,EAAE,SAAC,eAI9F,cAACC,EAAA,EAAG,CAACC,EAAG,OAAQrF,EAAG,UAAU,SAC3B,cAAC,IAAM,CAACnB,MAAM,YAAY/G,OAAK,EAAC8G,SAAO,EAACjD,UAAU,QAAQqB,QAAS,WAAQ8I,OAAOC,OAAQ,EAAE,SAAC,YAI/F,cAACX,EAAA,EAAG,CAACC,EAAG,QAASrF,EAAG,UAAU,SAC5B,cAAC,IAAM,CAACgG,IAAKC,IAAMC,GAAE,8BAAyBjN,GAAM4F,MAAM,YAAY/G,OAAK,EAAC8G,SAAO,EAACjD,UAAU,QAAO,SAAC,WAIxG,cAACyJ,EAAA,EAAG,CAACC,EAAG,QAASrF,EAAG,UAAU,SAC5B,cAAC,IAAM,CAACnB,MAAM,UAAU/G,OAAK,EAACkF,QAAS,kBAAM8H,GAAkB,EAAK,EAAC,SAAC,kBAKvEC,EAAa9K,OAAS,GACrB,eAAC,IAAG,CAAC0B,UAAU,OAAM,UACnB,6BAAI,qBACJ,cAAC,KAAG,CAACA,UAAU,OAAM,SAEjBoJ,EAAapH,KAAI,SAACwI,EAAMC,GACtB,OAAO,cAAC,IAAK,CAACzK,UAAU,oBAA4BkD,MAAM,UAAS,SAAEsH,EAAK1L,MAAzB2L,EACnD,SAMR,eAAC,IAAG,CAACzK,UAAU,OAAM,UAEnB,eAAC,KAAG,CAACA,UAAU,OAAM,UACnB,6BAAI,YACJ,cAAC,IAAG,CAACmI,GAAI,GAAIkC,IAAKC,IAAMC,GAAE,qBAAgBzN,EAAQ4N,QAAS,SAAE5N,EAAQ6N,oBAGvE,eAAC,KAAG,CAAC3K,UAAU,OAAM,UACnB,6BAAI,qBACJ,cAAC,IAAG,CAACmI,GAAI,GAAG,SAAErL,EAAQqB,wBAMlC,E,OCtFMyM,EAASC,cAGFC,EAAUC,YAAiB,6BAA4B,iDAAE,WAAMC,GAAM,iGACzDzN,IAAMC,KAAK,qCAAsCwN,GAAO,OAAjE,OAARC,EAAQ,yBACP,CACLvO,KAAMuO,EAASvO,KAAKwO,+BACrB,2CACF,mDALmE,IAOvDC,EAAqBJ,YAAiB,wCAAuC,iDAAE,WAAOjO,EAAQ,GAAD,mFAAmB,OAAfsO,EAAe,EAAfA,gBAAe,kBAElG7N,IAAMC,KAAK,uCAAwCV,GAAQ,OAApE,OAARmO,EAAQ,yBACP,CAAEI,SAAUJ,EAASvO,KAAKwO,+BAA8B,yDAExDE,EAAgBE,oBAAoB,EAAD,MAAK,yDAElD,qDAPyF,IAS7EC,EAAqBR,YAAiB,wCAAuC,iDAAE,WAAMzN,GAAE,iGAC3EC,IAAMC,KAAK,oCAAqC,CAAEF,OAAK,OAAhE,OAAR2N,EAAQ,yBACP,CAAEnO,QAASmO,EAASvO,KAAKwO,+BAA8B,2CAC/D,mDAHyF,IAK7EM,EAAwBT,YAAiB,2CAA0C,iDAAE,WAAOjO,EAAQ,GAAD,mFAAmB,OAAfsO,EAAe,EAAfA,gBAAe,kBAExG7N,IAAMC,KAAK,uCAAwCV,GAAQ,OAApE,OAARmO,EAAQ,yBACP,CAAEI,SAAUJ,EAASvO,KAAKwO,+BAA8B,yDAExDE,EAAgBE,oBAAoB,EAAD,MAAK,yDAElD,qDAP+F,IAcnFG,GALYV,YAAiB,+BAA8B,iDAAE,WAAMzN,GAAE,iGACzDC,IAAMC,KAAK,eAAgB,CAAEF,OAAK,OAA3C,OAAR2N,EAAQ,yBACPA,EAASvO,KAAKgP,SAAO,2CAC7B,mDAHuE,IAKnCX,YAAiB,2CAA0C,iDAAE,WAAOzN,EAAG,GAAD,mFAAsB,OAAlB0G,EAAQ,EAARA,SAAU2H,EAAQ,EAARA,SAAQ,SACzHpO,IAAMC,KAAK,uCAAwC,CAAEF,KAAIsO,UAAWhB,IAAS,uBAC7E5G,EAAS8G,EAAQa,IAAWE,eAAeb,SAAQ,gCAClD1N,GAAE,2CACV,qDAJ+F,KAMnFwO,EAAuBf,YAAiB,0CAAyC,iDAAE,WAAOrO,EAAK,GAAD,iFAAY,OAARsH,EAAQ,EAARA,SAAQ,SAC/GzG,IAAMC,KAAK,uCAAwCd,GAAK,uBACxDsH,EAAS8G,EAAQ,CAAExB,UAAW5M,EAAKY,MAAM,gCACxCA,IAAE,2CACV,qDAJ6F,I,GAOvDyO,YAAY,CACjDjN,KAAM,qBACNkN,aAAc,CACZC,gBAAiB,GACjBC,MAAO,EACPlB,OAAQ,CAAC,GAEXmB,SAAU,CAAC,EACXC,cAAe,SAAAC,GACbA,EAAQC,QAAQxB,EAAQyB,WAAW,SAACC,EAAOC,GACzCD,EAAMP,gBAAkBQ,EAAOrG,QAAQ1J,IACzC,IACA2P,EAAQC,QAAQnB,EAAmBoB,WAAW,SAACC,EAAOC,GACpDD,EAAMlD,UAAYmD,EAAOrG,QAAQiF,SAAS/N,EAC5C,IACA+O,EAAQC,QAAQd,EAAsBe,WAAW,SAACC,EAAOC,GACvDD,EAAMlD,UAAYmD,EAAOrG,QAAQiF,SAAS/N,EAC5C,IACA+O,EAAQC,QAAQf,EAAmBgB,WAAW,SAACC,EAAOC,GACpDD,EAAME,wBAA0BD,EAAOrG,QAAQtJ,OACjD,GAEF,IAG4C,Q,2JCxDxC6P,EAAcC,cACdhC,EAASC,cAkNAgC,EAhNI,SAAH,GAAwD,IAAlDjQ,EAAI,EAAJA,KAAMC,EAAa,EAAbA,cAAeiQ,EAAe,EAAfA,gBAAiBpQ,EAAI,EAAJA,KAEpDsH,EAAWC,cAEjB,EAA4C/H,mBAAS,IAAG,mBAAjD6Q,EAAc,KAAEC,EAAiB,KACxC,EAAkC9Q,oBAAS,GAAM,mBAA1C+Q,EAAS,KAAEC,EAAY,KACtB5P,EAAOyG,cAAPzG,GAEF6P,EAASC,MAAaC,MAAM,CAChCC,eAAgBF,MAAaG,QAAQZ,GACrCrP,GAAI8P,MAAaG,QAAQ,GACzB3B,UAAWwB,MAAaG,QAAQ3C,GAChC4C,UAAWJ,MAAaG,QAAQ,IAChCE,gBAAiBL,MAAaM,SAAS,uBACvCC,YAAaP,MAAaM,SAAS,6BACnCE,kBAAmBR,MAAaG,QAAQ,IACxCM,0BAA2BT,MAAaG,QAAQ,IAChDO,qBAAsBV,MAAaM,SAAS,yBAAyBH,QAAQ,IAC7EQ,YAAaX,MACbY,gBAAiBZ,MAAaG,QAAQ,IACtCU,eAAgBb,MAAaG,QAAQ,IACrCW,MAAOd,MAAaG,QAAQ,IAC5BY,oBAAqBf,MAAcG,SAAQ,KAE7C,EAAgEa,YAAQ,CACtEC,SAAUC,YAAYnB,GACtBoB,cAAepB,EAAOqB,SAFhBC,EAAY,EAAZA,aAAcC,EAAO,EAAPA,QAAsBC,EAAM,EAAnBC,UAAaD,OAAUE,EAAK,EAALA,MAKhDvN,EAAQ,iDAAG,WAAOwN,GAAQ,qFAEyC,GADjEC,EAAYnH,WAAW8G,EAAQM,YAAYvB,iBAC3CwB,EAAkBrH,WAAW8G,EAAQM,YAAYvB,mBAEnD7F,WAAWkF,EAAgBoC,2BAA8BH,GAAU,gBACnD,OAAlB7B,GAAa,GAAK,mBACX,GAAK,OAGqD,OAAnE4B,EAAsB,YAAIvQ,IAAOuQ,EAAsB,aAAGK,UAAS,SAC7DnL,EAASwH,EAAsBsD,IAAU,OAO9C,OALKM,EAAW,CACfxD,UAAWhB,EACXtN,KACAuK,UAAWD,WAAWkH,EAASjB,2BAA6BjG,WAAWqH,GACvEI,OAAQzH,WAAWlL,EAAKmL,aAAgBkH,EAAa,EAAI,GAC1D,UACK/K,EAAS8H,EAAqBsD,IAAU,QAE9CvS,IAAe,4CAChB,gBArBa,sCAuBdyC,qBAAU,WACuB,kBAApBwN,GACT+B,EAAM,CACJvB,eAAgBX,EAChBf,UAAWhB,EACXtN,GAAIwP,EAAgBxP,GACpBkQ,UAAWV,EAAgBrP,UAC3BgQ,gBAAiBX,EAAgBwC,gBACjC3B,YAAapP,IAAOuO,EAAgByC,YAAa,KAAKC,SACtD5B,kBAAmBd,EAAgB2C,kBACnC5B,0BAA2Bf,EAAgBoC,0BAC3CpB,qBAAsBhB,EAAgB4C,qBACtC3B,YAAajB,EAAgB6C,YAC7B3B,gBAAiBlB,EAAgB8C,gBACjC3B,eAAgBnB,EAAgB+C,eAChC3B,MAAOpB,EAAgBoB,OAAS,GAChCC,qBAAqB,GAI3B,GAAG,CAACrB,IAEJ,IAAMgD,EAAS,SAACC,EAAYC,GAAgC,IAArBC,EAAO,wDAC5C,OACE,eAAC,KAAG,WACF,cAAC,IAAK,CAAC7H,GAAG,KAAKnI,KAAK,KAAKD,UAAWkQ,IAAW,cAAD,OAAeD,EAAU,WAAa,KAAO1O,IAAKyO,EAAU,SACvGD,IAEH,eAAC,IAAG,CAAC3H,GAAG,KAAI,UACV,cAAC,IAAU,CACT9K,GAAI0S,EACJlR,KAAMkR,EACNtB,QAASA,EACTyB,OAAQ,gBAAGC,EAAK,EAALA,MAAK,OAAO,cAAC,IAAK,aAACC,QAAS1B,EAAOqB,KAAc,GAAUI,GAAS,IAEhFzB,EAAOqB,IAAc,cAAC,IAAY,UAAErB,EAAOqB,GAAWM,eAI/D,EA8CA,OAJAhR,qBAAU,WANR/B,IAAMC,KAAK,iCAAiCE,MAAK,SAAAuN,GAC/C,IAAMsF,EAAMtF,EAASvO,KACrBsQ,EAAkBuD,EAAIC,oBACxB,GAKF,GAAG,IAGD,cAAC,IAAO,CACNvQ,KAAK,KACLrD,KAAMA,EACN6T,MAAM,cACNC,gBAAgB,OAChB3P,iBAAiB,MACjBlE,cAAeA,EAAc,SAE7B,eAAC,IAAI,CAACyE,SAAUmN,EAAanN,GAAU,UAErC,cAAC,KAAG,UACF,uBAAMtB,UAAU,eAAc,UAAC,yBAAuBtD,EAAKiU,uBAAyB,GAAG,IAAEjU,EAAKmL,WAAa,OAE5GoF,GAAa,mBAAGjN,UAAU,cAAa,SAAC,8EACxC8P,EAAO,iBAAkB,mBAAmB,GAE7C,eAAC,KAAG,WACF,cAAC,IAAK,CAAC1H,GAAG,KAAKnI,KAAK,KAAKD,UAAWkQ,IAAW,uBAAwB3O,IAAG,cAAgB,SAAE,iBAG5F,cAAC,IAAG,CAAC6G,GAAG,KAAI,SACV,cAAC,IAAU,CACTsG,QAASA,EACT5P,KAAI,cACJxB,GAAG,cACH6S,OAAQ,gBAAGC,EAAK,EAALA,MAAK,OACd,cAAC,IAAS,CACRpS,MAAOoS,EAAMpS,MACb+D,SAAU,SAAC6O,EAAMC,GAAcT,EAAMrO,SAAS8O,EAAS,EACvDjP,QAAS,CAAEkP,UAAU,GACrB9Q,UAAU,mDACV,SA5EK,SAAC+P,EAAYC,EAAWpO,GAA8B,IAAD,EAApBqO,EAAO,wDAC3D,OAEE,eAAC,KAAG,WACF,cAAC,IAAK,CAAC7H,GAAG,KAAKnI,KAAK,KAAKD,UAAWkQ,IAAW,cAAD,OAAeD,EAAU,WAAa,KAAO1O,IAAKyO,EAAU,SACvGD,IAEH,eAAC,IAAG,CAAC3H,GAAG,KAAI,UACV,cAAC,IAAU,CACTsG,QAASA,EACT5P,KAAMkR,EACN1S,GAAI0S,EACJG,OAAQ,gBAAGC,EAAK,EAALA,MAAOW,EAAG,EAAHA,IAAG,OACnB,cAAC,IAAM,yBACLC,SAAUD,EACV/Q,UAAWkQ,IAAW,eAAgB,CAAE,aAAcvB,EAAOqB,MACzDI,GAAK,IACTvO,gBAAgB,SAChBD,QAASA,EACT5D,MAAO4D,EAAQ8C,MAAK,SAAAuM,GAAO,OAAOA,EAAE3T,KAAO8S,EAAMpS,KAAM,IACvD+D,SAAU,SAAA0C,GAAS,OAAO2L,EAAMrO,SAAS0C,EAAInH,GAAI,EACjD4E,eAAgB,SAACC,GAAM,OAAKA,EAAO+O,iBAAiB,EACpD9O,eAAgB,SAACD,GAAM,OAAKA,EAAO7E,EAAE,IACrC,IAILqR,EAAOqB,IAAc,cAAC,IAAY,CAAChQ,UAAU,cAAa,SAAmB,QAAnB,EAAE2O,EAAOqB,UAAU,aAAjB,EAAmBM,eAIxF,CAmDOa,CAAa,kBAAmB,uBAAwBpE,GAAgB,GAExE+C,EAAO,mBAAoB,eAAe,GAE1CA,EAAO,gBAAiB,SAAS,GAElC,eAAC,KAAG,CAAC9P,UAAU,4CAA2C,UACxD,cAAC,IAAK,CAACuB,IAAI,sBAAsBvB,UAAU,mBAAkB,SAAC,8BAG9D,cAAC,IAAU,CACT0O,QAASA,EACTpR,GAAG,sBACHwB,KAAK,sBACLqR,OAAQ,gBAAGC,EAAK,EAALA,MAAK,OACd,cAAC,IAAK,yBAACgB,KAAK,SAASC,QAAS,SAAC5M,GAAU2L,EAAMrO,SAAS0C,EAAK,GAAO2L,GAAK,IAAEkB,eAAgBlB,EAAMpS,QAAS,OAKhH,sBAAKgC,UAAU,wBAAuB,UACpC,cAAC,IAAM,CAACA,UAAU,OAAOkD,MAAM,UAAUkO,KAAK,SAAQ,SAAC,WAGvD,cAAC,IAAM,CAAClO,MAAM,YAAYD,SAAO,EAAC5B,QAASxE,EAAc,SAAC,kBAOpE,EC7NM0U,EAASC,IAAiBC,KAK1B7G,EAASC,cAwIA6G,EAtIS,SAAH,GAAsC,IAAhChV,EAAI,EAAJA,KAAMiV,EAAK,EAALA,MAAOC,EAAW,EAAXA,YAG9BtU,EAAOyG,cAAPzG,GACF0G,EAAWC,cACX4N,EAAQC,aAAY,SAAAtF,GAAK,OAAIA,EAAMX,cAAc,IACvD,EAAgC3P,mBAAS,IAAG,mBAArC6V,EAAQ,KAAEC,EAAW,KAC5B,EAA8C9V,mBAAS,CAAC,GAAE,mBAAnD4Q,EAAe,KAAEmF,EAAkB,KAE1C,EAA8C/V,oBAAS,GAAM,mBAAtDgW,EAAe,KAAEC,EAAkB,KAEpCC,EAAqB,SAACC,GAC1BF,GAAoBD,GACpBD,EAAmBI,EACrB,EAuDA,OAVA/S,oBAAS,gCAAC,2FACM,MAAVqS,IAAiBrU,EAAE,gCACf0G,EAAS8G,EAAQ,CAAExB,UAAWhM,KAAM,2CAE3C,CAACqU,IAEJrS,qBAAU,WACR0S,EAAYH,EAAM5F,gBACpB,GAAG,CAAC4F,EAAM5F,kBAEM,OAATvP,EACL,cAAC,IAAI,CAACsD,UAAU,uBAAsB,SACpC,eAAC,IAAQ,CAACA,UAAU,uBAAsB,UAExC,cAACsS,EAAW,CAACzV,cAAeuV,EAAmBxV,KAAMsV,EAAiBpF,gBAAiBA,EAAiBpQ,KAAMA,IAE9G,qBAAKsD,UAAU,yCAAwC,SACrD,eAAC,KAAK,WACJ,gCACE,+BACE,6BAAI,cACJ,6BAAI,iBACJ,6BAAI,aACJ,6BAAI,WACJ,6BAAI,qBACJ,6BAAI,gBAGR,gCAEI+R,EAAS/P,KAAI,SAACqQ,EAAK5H,GACjB,OACE,+BACE,+BAAI,IAAC,sBAAMzK,UAAU,eAAc,SAAEqS,EAAIzT,cACzC,8BA5EAZ,EA4EgBqU,EAAI9C,YA3E7BhR,IAAOP,EAAO,KAAKQ,OAAO,mBA4EjB,6BACE,+BAAO6T,EAAI1C,gBAEb,6BACE,iCAAM,IAAE0C,EAAI/C,iBAAmB,OAEjC,6BACE,+BAAO+C,EAAIE,gBAAkB,MAE/B,+BACE,cAAC,IAAG,CAAClI,IAAI,IAAIhJ,QAAS,SAAAd,GACpBA,EAAEC,iBACF4R,EAAkBC,EACpB,EACErS,UAAU,QAAO,SACjB,cAAC,IAAI,CAACC,KAAM,GAAID,UAAU,YAE5B,cAAC,IAAG,CACFqK,IAAI,IACJrK,UAAU,QACVqB,QAAS,SAAAd,GACPA,EAAEC,iBA9FV,SAAC6R,GAEVd,EAAOiB,KAAK,CACjB/B,MAAO,gBACPgC,KAAM,oCACNC,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,kBACnBC,YAAa,CACXC,cAAe,kBACfC,aAAc,+BAEhBC,gBAAgB,IACftV,KAAI,iDAAC,WAAOuV,GAAM,uFACfA,EAAOjV,MAAM,CAAD,+BACRgG,EAASyH,EAAsB4G,EAAI/U,KAAI,OAQ5C,OANK4V,EAActL,WAAWlL,EAAKmL,YAAcD,WAAWyK,EAAI/C,iBAAmB1H,WAAWyK,EAAIE,gBAAkB,IAC/GnD,EAAW,CACfxD,UAAWhB,EACXtN,KACAuK,UAAWqL,EACX7D,OAAQzH,WAAWlL,EAAKmC,eAAkBqU,EAAe,EAAI,GAC9D,SACKlP,EAAS8H,EAAqBsD,IAAU,OAC9CwC,GAAY,GACZL,EAAOiB,KAAK,CACVE,KAAM,UACNjC,MAAO,WACPgC,KAAM,kCACNI,YAAa,CACXC,cAAe,qBAEjB,2CAEL,mDAtBM,GAuBT,CA2D0BK,CAAUd,EACZ,EAAE,SAEF,cAAC,IAAK,CAACpS,KAAM,GAAID,UAAU,iBA5BxByK,GA1ER,IAACzM,CA2GN,gBAOV,IACN,EC/HM2O,EAAcC,cAEdhC,EAASC,cA2LAgC,GAzLI,SAAH,GAAuC,IAAD,EAAhCjQ,EAAI,EAAJA,KAAMC,EAAa,EAAbA,cAAeH,EAAI,EAAJA,KAEjCY,EAAOyG,cAAPzG,GACF0G,EAAWC,cACjB,EAA4C/H,mBAAS,IAAG,mBAAjD6Q,EAAc,KAAEC,EAAiB,KACxC,EAAkC9Q,oBAAS,GAAM,mBAA1C+Q,EAAS,KAAEC,EAAY,KAExBC,EAASC,MAAaC,MAAM,CAChCC,eAAgBF,MAAaG,QAAQZ,GACrCyG,UAAWhG,MAAaG,QAAQ3C,GAChC4C,UAAWJ,MAAaG,QAAQ7Q,EAAK8C,UACrCiO,gBAAiBL,MAAaM,SAAS,uBACvCC,YAAaP,MAAaM,SAAS,6BACnCE,kBAAmBR,MAAaG,QAAQ7Q,EAAKY,IAC7CuQ,0BAA2BT,MAAaG,QAAQ7Q,EAAKmL,WACrDiG,qBAAsBV,MAAaM,SAAS,yBAAyBH,QAAY,OAAJ7Q,QAAI,IAAJA,GAAoB,QAAhB,EAAJA,EAAM2W,sBAAc,WAAhB,EAAJ,EAAsB/V,IACnGyQ,YAAaX,MAAaG,QAAQ,IAClCS,gBAAiBZ,MAAaG,QAAQ7Q,EAAK4W,gBAAgBC,gBAC3DtF,eAAgBb,MAAaG,QAAQ,IACrCW,MAAOd,MACPe,oBAAqBf,MAAcG,SAAQ,KAE7C,EAAyDa,YAAQ,CAC/DC,SAAUC,YAAYnB,GACtBoB,cAAepB,EAAOqB,SAFhBC,EAAY,EAAZA,aAAcC,EAAO,EAAPA,QAAsBC,EAAM,EAAnBC,UAAaD,OAKtCrN,EAAQ,iDAAG,WAAOwN,GAAQ,uFAEyC,GADjEC,EAAYnH,WAAW8G,EAAQM,YAAYvB,iBAC3CwB,EAAkBrH,WAAW8G,EAAQM,YAAYvB,mBAEnD7F,WAAWlL,EAAKmL,WAAckH,GAAU,gBACxB,OAAlB7B,GAAa,GAAK,mBACX,GAAK,OAGqD,OAAnE4B,EAAsB,YAAIvQ,IAAOuQ,EAAsB,aAAGK,UAAS,SAC7DnL,EAASmH,EAAmB2D,IAAU,OAO3C,OANK0E,EAAM5L,WAAWlL,EAAKmL,WAAaD,WAAWqH,GAC9CG,EAAW,CACfxD,UAAWhB,EACXtN,KACAuK,UAAW2L,EACXnE,OAAQzH,WAAWlL,EAAKmL,aAAgBkH,EAAa,EAAI,GAC1D,UACK/K,EAAS8H,EAAqBsD,IAAU,QAE9CvS,IAAe,4CAEhB,gBAtBa,sCAwBRiT,EAAS,SAACC,EAAYC,GAAgC,IAArBC,EAAO,wDAC5C,OACE,eAAC,KAAG,WACF,cAAC,IAAK,CAAC7H,GAAG,KAAKnI,KAAK,KAAKD,UAAWkQ,IAAW,cAAD,OAAeD,EAAU,WAAa,KAAO1O,IAAKyO,EAAU,SACvGD,IAEH,eAAC,IAAG,CAAC3H,GAAG,KAAI,UACV,cAAC,IAAU,CACT9K,GAAI0S,EACJlR,KAAMkR,EACNtB,QAASA,EACTyB,OAAQ,gBAAGC,EAAK,EAALA,MAAK,OAAO,cAAC,IAAK,aAACC,QAAS1B,EAAOqB,KAAc,GAAUI,GAAS,IAEhFzB,EAAOqB,IAAc,cAAC,IAAY,UAAErB,EAAOqB,GAAWM,eAI/D,EA8CA,OAJAhR,qBAAU,WANR/B,IAAMC,KAAK,iCAAiCE,MAAK,SAAAuN,GAC/C,IAAMsF,EAAMtF,EAASvO,KACrBsQ,EAAkBuD,EAAIC,oBACxB,GAKF,GAAG,IAGD,cAAC,IAAO,CACNvQ,KAAK,KACLrD,KAAMA,EACN6T,MAAM,eACNC,gBAAgB,OAChB3P,iBAAiB,MACjBlE,cAAeA,EAAc,SAE7B,eAAC,IAAI,CAACyE,SAAUmN,EAAanN,GAAU,UAErC,cAAC,KAAG,UACF,uBAAMtB,UAAU,eAAc,UAAC,yBAAuBtD,EAAKiU,sBAAsB,IAAEjU,EAAKmL,eAEzFoF,GAAa,mBAAGjN,UAAU,cAAa,SAAC,8EACxC8P,EAAO,iBAAkB,mBAAmB,GAE7C,eAAC,KAAG,WACF,cAAC,IAAK,CAAC1H,GAAG,KAAKnI,KAAK,KAAKD,UAAWkQ,IAAW,uBAAwB3O,IAAG,cAAgB,SAAE,iBAG5F,cAAC,IAAG,CAAC6G,GAAG,KAAI,SACV,cAAC,IAAU,CACTsG,QAASA,EACT5P,KAAI,cACJxB,GAAG,cACH6S,OAAQ,gBAAGC,EAAK,EAALA,MAAK,OACd,cAAC,IAAS,CACRpS,MAAOoS,EAAMpS,MACb+D,SAAU,SAAC6O,EAAMC,GAAcT,EAAMrO,SAAS8O,EAAS,EACvDjP,QAAS,CAAEkP,UAAU,GACrB9Q,UAAU,mDACV,SA5EK,SAAC+P,EAAYC,EAAWpO,GAA8B,IAAD,EAApBqO,EAAO,wDAC3D,OAEE,eAAC,KAAG,WACF,cAAC,IAAK,CAAC7H,GAAG,KAAKnI,KAAK,KAAKD,UAAWkQ,IAAW,cAAD,OAAeD,EAAU,WAAa,KAAO1O,IAAKyO,EAAU,SACvGD,IAEH,eAAC,IAAG,CAAC3H,GAAG,KAAI,UACV,cAAC,IAAU,CACTsG,QAASA,EACT5P,KAAMkR,EACN1S,GAAI0S,EACJG,OAAQ,gBAAGC,EAAK,EAALA,MAAOW,EAAG,EAAHA,IAAG,OACnB,cAAC,IAAM,yBACLC,SAAUD,EACV/Q,UAAWkQ,IAAW,eAAgB,CAAE,aAAcvB,EAAOqB,MACzDI,GAAK,IACTvO,gBAAgB,SAChBD,QAASA,EACT5D,MAAO4D,EAAQ8C,MAAK,SAAAuM,GAAO,OAAOA,EAAE3T,KAAO8S,EAAMpS,KAAM,IACvD+D,SAAU,SAAA0C,GAAS,OAAO2L,EAAMrO,SAAS0C,EAAInH,GAAI,EACjD4E,eAAgB,SAACC,GAAM,OAAKA,EAAO+O,iBAAiB,EACpD9O,eAAgB,SAACD,GAAM,OAAKA,EAAO7E,EAAE,IACrC,IAILqR,EAAOqB,IAAc,cAAC,IAAY,CAAChQ,UAAU,cAAa,SAAmB,QAAnB,EAAE2O,EAAOqB,UAAU,aAAjB,EAAmBM,eAIxF,CAmDOa,CAAa,kBAAmB,uBAAwBpE,GAAgB,GAExE+C,EAAO,mBAAoB,eAAe,GAE1CA,EAAO,gBAAiB,SAAS,GAElC,eAAC,KAAG,CAAC9P,UAAU,4CAA2C,UACxD,cAAC,IAAK,CAACuB,IAAI,sBAAsBvB,UAAU,mBAAkB,SAAC,8BAG9D,cAAC,IAAU,CACT0O,QAASA,EACTpR,GAAG,sBACHwB,KAAK,sBACLqR,OAAQ,gBAAGC,EAAK,EAALA,MAAK,OACd,cAAC,IAAK,yBAACgB,KAAK,SAASC,QAAS,SAAC5M,GAAU2L,EAAMrO,SAAS0C,EAAK,GAAO2L,GAAK,IAAEkB,eAAgBlB,EAAMpS,QAAS,OAKhH,sBAAKgC,UAAU,wBAAuB,UACpC,cAAC,IAAM,CAACA,UAAU,OAAOkD,MAAM,UAAUkO,KAAK,SAAQ,SAAC,WAGvD,cAAC,IAAM,CAAClO,MAAM,YAAYD,SAAO,EAAC5B,QAASxE,EAAc,SAAC,kBAOpE,E,+BCnGe4W,UA9FQ,WAErB,IAAQnW,EAAOyG,cAAPzG,GAGR,EAA8CpB,oBAAS,GAAM,mBAAtDwX,EAAe,KAAExK,EAAkB,KAE1C,EAA4ChN,oBAAS,GAAM,mBAApDyX,EAAc,KAAExK,EAAiB,KACxC,EAAwBjN,mBAAS,MAAK,mBAA/BQ,EAAI,KAAEC,EAAO,KACpB,EAA4BT,mBAAS,KAAI,mBAAlC0X,EAAM,KAAEC,EAAS,KAGlBC,EAAU,iDAAG,wFACjBvW,IAAMC,KAAK,4BAA6B,CAAEF,OAAMI,MAAK,SAACC,GACpDhB,EAAQgB,EAAIjB,KAAKqX,qBACnB,IAAGlW,OAAM,SAAC2L,GAAU9F,QAAQC,IAAI6F,EAAK,IAAE,2CAExC,kBALe,mCAmBhBlK,qBAAU,WACRwU,GACF,GAAG,IAEH,IAAME,EAAY,SAAAC,GACZL,IAAWK,GACbJ,EAAUI,EAEd,EAIA,OAAgB,OAATvX,QAA0B6C,IAAT7C,EACtB,sBAAKsD,UAAU,0BAAyB,UACtC,eAAC,KAAG,CAACA,UAAU,kBAAiB,UAC9B,eAAC,IAAG,CAACkU,GAAI,GAAI/L,GAAI,EAAGC,GAAI,GAAG,UAEzB,eAAC,IAAG,CAAC+L,OAAK,EAACnU,UAAU,OAAM,UACzB,cAAC,IAAO,UACN,eAAC,IAAO,CAAC4T,OAAmB,MAAXA,EAAgBvS,QAAS,kBAAM2S,EAAU,IAAI,EAAC,UAC7D,cAAC,KAAI,CAAChU,UAAU,wBAChB,sBAAMA,UAAU,UAAS,SAAC,uBAG9B,cAAC,IAAO,UACN,eAAC,IAAO,CAAC4T,OAAmB,MAAXA,EAAgBvS,QAAS,kBAAM2S,EAAU,IAAI,EAAC,UAC7D,cAAC,KAAI,CAAChU,UAAU,wBAChB,sBAAMA,UAAU,UAAS,SAAC,qBAIhC,eAAC,KAAU,CAACoU,UAAWR,EAAO,UAC5B,cAAC,KAAO,CAACjC,MAAM,IAAG,SAChB,cAAC,EAAW,CAACjV,KAAMA,EAAMiV,MAAOiC,MAElC,cAAC,KAAO,CAACjC,MAAM,IAAG,SAChB,cAAC0C,EAAe,CAAC3X,KAAMA,EAAMiV,MAAOiC,EAAQhC,YA1CpC,SAACnN,GACfA,GACFqP,GAEJ,YA2CM,cAAC,IAAG,CAACI,GAAI,EAAG/L,GAAI,EAAGC,GAAI,GAAG,SACxB,cAAC,EAAc,CAAC9K,GAAIA,EAAI4L,mBAAoBA,EAAoBC,kBAAmBA,EAAmBrM,QAASJ,SAGlHgX,GAEC,cAAC,KAAkB,CAAC7W,cA3DA,WAAH,OAASqM,GAAoBwK,EAAgB,EA2DR9W,KAAM8W,EAAiB5W,QAASJ,IAGxF,cAAC,GAAU,CAACG,cA7DS,WACvBsM,GAAmBwK,GACnBG,GACF,EA0DiDlX,KAAM+W,EAAgBjX,KAAMA,OAG3E,eAAC,IAAK,CAACwG,MAAM,SAAQ,UACnB,oBAAIlD,UAAU,gBAAe,SAAC,4BAC9B,sBAAKA,UAAU,aAAY,UAAC,0BACF1C,EAAG,8CAA4C,IACvE,cAAC,IAAI,CAACiN,GAAG,gBAAe,SAAC,4BAIjC,C,qGCnGM+J,EAAW,SAAAzY,GAAU,IAAD,EAChB0Y,EAA6D1Y,EAA7D0Y,SAAUrT,EAAmDrF,EAAnDqF,SAAUC,EAAyCtF,EAAzCsF,OAAQnB,EAAiCnE,EAAjCmE,UAAWqK,EAAsBxO,EAAtBwO,IAAKmK,EAAiB3Y,EAAjB2Y,aAE9CC,EAAMpK,EAEZ,OACE,eAACoK,EAAG,CAACzU,UAAWkQ,IAAW,aAAW,mBAAKlQ,EAAYA,GAAS,qBAAQkB,GAAQ,IAAI,UACjFqT,EACArT,EACC,eAAC,WAAQ,WACP,iCACElB,UAAU,WACLkB,GAAYsT,EAAe,CAAEE,MAAO,CAAEzY,gBAAiBuY,IAAmB,CAAC,IAGlF,qBAAKxU,UAAU,SAAQ,SAAEmB,OAEzB,OAGV,EAEemT,MAEfA,EAASK,aAAe,CACtBtK,IAAK,MACLnJ,UAAU,EACVC,OAAQ,cAAC,KAAO,CAAC+B,MAAM,Y,8CC5BV0R,IAZU,WACvB,OACE,qBAAK5U,UAAU,mBAAkB,SAC/B,sBAAKA,UAAU,UAAS,UACtB,qBAAKA,UAAU,qBACf,qBAAKA,UAAU,qBACf,qBAAKA,UAAU,yBAIvB,C,8GCTiE6U,EAAOC,QAG/D,WAAc,aAKrB,SAASC,EAAQC,EAAKC,GACpB,GAAID,EACF,IAAK,IAAIE,KAAOF,GAEV,CAAC,GAAEG,eAAeC,KAAKJ,EAAKE,IAC9BD,EAASC,EAAKF,EAAIE,GAI1B,CAKA,SAASG,EAAclQ,GACrB,YAAY5F,IAAR4F,GAA6B,OAARA,GAA+B,IAAfA,EAAI7G,QAAsC,IAAtB6G,EAAImQ,OAAOhX,MAK1E,CAMA,IAAIiX,EAAoB,CACtBC,SAAU,IACV,aAAc,KACd,aAAc,KACd,eAAgB,KAChB,cAAe,KACf,cAAe,KACf,aAAc,KACd,sBAAuB,KACvB,oBAAqB,KACrBC,WAAY,aACZC,KAAM,OAMR,SAASC,EAAYvE,GACnB,OAAOA,GAAQmE,EAAkBnE,EACnC,CAKA,SAASwE,EAAclZ,GACrB,IAAIV,EAAS,GAMb,OALA+Y,EAAQrY,GAAM,SAAUwY,EAAKlX,GACvBA,IACFhC,GAAU,GAAG6Z,OAAOX,EAAK,KAAKW,OAAO7X,EAAO,KAEhD,IACOhC,CACT,CAMA,SAAS8Z,EAAiBC,EAAWC,GACnC,IAAIC,EAAW,GAEf,GAAID,EAOF,IANA,IAAIE,EAAU,EACVC,EAAa,EACb1D,EAAOsD,EACPK,EAAUJ,EAAcI,SAAW,IACnCC,EAAYL,EAAcK,WAAa,IAEpC5D,EAAKnU,OAAS,GAAK6X,GAAc,GActC,GAbI1D,EAAK,KAAO2D,GACdD,EAAa,EACbD,EAAU,EACVzD,EAAOA,EAAKxN,OAAOmR,EAAQ9X,UAE3B6X,EAAa1D,EAAK3M,QAAQuQ,EAAYD,KAEpB,IAChB3D,EAAOA,EAAKxN,OAAOkR,GAAcE,EAAYD,GAAS9X,QACtD4X,GAAWC,EAAaE,EAAU/X,QAIlC6X,GAAc,EAAG,CACnB,IAAIG,EAAW7D,EAAK3M,QAAQuQ,IAAc,EAAI5D,EAAK3M,QAAQuQ,GAAa5D,EAAKnU,OACzEiY,EAAU9D,EAAKxN,OAAO,EAAGqR,GAEzBC,GAAWA,EAAQjY,OAAS,GAC9B2X,EAASO,KAAK,CACZC,OAAQP,EACR5X,OAAQiY,EAAQjY,OAAS8X,EAAQ9X,OACjC8S,KAAM,YAIV8E,GAAWE,EAAQ9X,MACrB,CAIJ,OAAO2X,CACT,CAOA,SAASS,EAAYva,EAAO6Z,GAC1B,IAAIC,EAAW,GACXU,EAAa,EACbC,EAAgBza,EAAM0a,aAAa7U,KAAI,SAAU8U,GAInD,MAAO,CACLL,OAJWK,EAAML,OAKjBnY,OAJWwY,EAAMxY,OAKjB4W,IAJQ4B,EAAM5B,IAKd9D,KAAM,SAEV,IA6BA,OA3BAwF,GADAA,EAAgBA,EAAcf,OAAOC,EAAiB3Z,EAAMsW,KAAMuD,KACpCe,MAAK,SAAUC,EAAIC,GAC/C,OAAOD,EAAGP,OAASQ,EAAGR,MACxB,KACc1B,SAAQ,SAAUmC,GAC1BA,EAAET,OAASE,GACbV,EAASO,KAAK,CACZW,MAAOR,EACPS,IAAKF,EAAET,SAIXR,EAASO,KAAK,CACZW,MAAOD,EAAET,OACTW,IAAKF,EAAET,OAASS,EAAE5Y,OAClB+Y,UAAWH,EAAEhC,IACb9D,KAAM8F,EAAE9F,OAEVuF,EAAaO,EAAET,OAASS,EAAE5Y,MAC5B,IAEIqY,EAAaxa,EAAMsW,KAAKnU,QAC1B2X,EAASO,KAAK,CACZW,MAAOR,EACPS,IAAKjb,EAAMsW,KAAKnU,SAIb2X,CACT,CAMA,SAASqB,EAAoBnb,GAC3B,UAAIA,EAAM0a,aAAavY,OAAS,KAAM+W,EAAclZ,EAAMsW,OAAwB,WAAftW,EAAMiV,KAK3E,CAMA,SAASmG,EAAsBpb,GAC7B,IAAIsW,EAAOtW,EAAMsW,KACb+E,EAAoBrb,EAAMqb,kBAC1BC,EAAe,CACjBC,KAAM,IAAIC,MAAMlF,EAAKnU,QACrBsZ,OAAQ,IAAID,MAAMlF,EAAKnU,QACvBuZ,UAAW,IAAIF,MAAMlF,EAAKnU,QAC1BwZ,cAAe,IAAIH,MAAMlF,EAAKnU,QAC9ByZ,KAAM,IAAIJ,MAAMlF,EAAKnU,QACrB0Z,YAAa,IAAIL,MAAMlF,EAAKnU,QAC5B2Z,UAAW,IAAIN,MAAMlF,EAAKnU,QAC1B4Z,MAAO,IAAIP,MAAMlF,EAAKnU,QACtB6Z,QAAS,IAAIR,MAAMlF,EAAKnU,QACxB8Z,SAAU,IAAIT,MAAMlF,EAAKnU,QACzB+Z,WAAY,IAAIV,MAAMlF,EAAKnU,QAC3BA,OAAQmU,EAAKnU,QAwBf,OArBIkZ,GAAqBA,EAAkBlZ,OAAS,GAClDkZ,EAAkBzC,SAAQ,SAAU+B,GAIlC,IAHA,IAAIL,EAASK,EAAML,OACfnY,EAASmY,EAASK,EAAMxY,OAEnB2D,EAAIwU,EAAQxU,EAAI3D,EAAQ2D,GAAK,EACE,IAAlC6U,EAAMpC,MAAM5O,QAAQ,UACtB2R,EAAaS,MAAMjW,GAAK6U,EAAMpC,MAAM1O,UAAU,GACD,IAApC8Q,EAAMpC,MAAM5O,QAAQ,YAC7B2R,EAAaU,QAAQlW,GAAK6U,EAAMpC,MAAM1O,UAAU,GACF,IAArC8Q,EAAMpC,MAAM5O,QAAQ,aAC7B2R,EAAaW,SAASnW,GAAK6U,EAAMpC,MAAM1O,UAAU,GACD,IAAvC8Q,EAAMpC,MAAM5O,QAAQ,eAC7B2R,EAAaY,WAAWpW,GAAK6U,EAAMpC,MAAM1O,UAAU,IAC1CyR,EAAaX,EAAMpC,SAC5B+C,EAAaX,EAAMpC,OAAOzS,IAAK,EAGrC,IAGKwV,CACT,CAMA,SAASa,EAAkBb,EAAchB,GACvC,IAAIza,EAAS,CAAC,EA8Cd,OA5CIyb,EAAaS,MAAMzB,KACrBza,EAAOkc,MAAQT,EAAaS,MAAMzB,IAGhCgB,EAAaU,QAAQ1B,KACvBza,EAAOmc,QAAUV,EAAaU,QAAQ1B,IAGpCgB,EAAaW,SAAS3B,KACxBza,EAAOoc,SAAWX,EAAaW,SAAS3B,IAGtCgB,EAAaY,WAAW5B,KAC1Bza,EAAOqc,WAAaZ,EAAaY,WAAW5B,IAG1CgB,EAAaI,UAAUpB,KACzBza,EAAO6b,WAAY,GAGjBJ,EAAaG,OAAOnB,KACtBza,EAAO4b,QAAS,GAGdH,EAAaC,KAAKjB,KACpBza,EAAO0b,MAAO,GAGZD,EAAaK,cAAcrB,KAC7Bza,EAAO8b,eAAgB,GAGrBL,EAAaM,KAAKtB,KACpBza,EAAO+b,MAAO,GAGZN,EAAaQ,UAAUxB,KACzBza,EAAOic,WAAY,GAGjBR,EAAaO,YAAYvB,KAC3Bza,EAAOgc,aAAc,GAGhBhc,CACT,CAMA,SAASuc,EAAoBd,EAAczb,EAAQwc,GACjD,IAAIC,GAAa,EAUjB,OARID,EAAQ,GAAKA,EAAQf,EAAanZ,OACpCtC,EAAO+Y,SAAQ,SAAUL,GACvB+D,EAAaA,GAAchB,EAAa/C,GAAO8D,KAAWf,EAAa/C,GAAO8D,EAAQ,EACxF,IAEAC,GAAa,EAGRA,CACT,CAKA,SAASC,EAAqBhE,EAAOvU,GACnC,MAAc,SAAVuU,EACK,WAAWmB,OAAO1V,EAAS,aAGtB,WAAVuU,EACK,OAAOmB,OAAO1V,EAAS,SAGlB,cAAVuU,EACK,QAAQmB,OAAO1V,EAAS,UAGnB,kBAAVuU,EACK,QAAQmB,OAAO1V,EAAS,UAGnB,SAAVuU,EACK,SAASmB,OAAO1V,EAAS,WAGpB,gBAAVuU,EACK,QAAQmB,OAAO1V,EAAS,UAGnB,cAAVuU,EACK,QAAQmB,OAAO1V,EAAS,UAG1BA,CACT,CAKA,SAASwY,EAAelG,GACtB,OAAIA,GAAQA,EAAKnU,OAAS,EACZmU,EAAKzQ,KAAI,SAAU4W,GAC7B,OAAQA,GACN,IAAK,KACH,MAAO,OAET,IAAK,IACH,MAAO,QAET,IAAK,IACH,MAAO,OAET,IAAK,IACH,MAAO,OAET,QACE,OAAOA,EAEb,IACaC,KAAK,IAGb,EACT,CAMA,SAASC,EAAuB9c,EAAQyW,GACtC,GAAIzW,IAAWA,EAAOkc,OAASlc,EAAOmc,SAAWnc,EAAOoc,UAAYpc,EAAOqc,YAAa,CACtF,IAAIU,EAAc,UAmBlB,OAjBI/c,EAAOkc,QACTa,GAAe,UAAUlD,OAAO7Z,EAAOkc,MAAO,MAG5Clc,EAAOmc,UACTY,GAAe,qBAAqBlD,OAAO7Z,EAAOmc,QAAS,MAGzDnc,EAAOoc,WACTW,GAAe,cAAclD,OAAO7Z,EAAOoc,UAAUvC,OAAO,QAAQ5X,KAAKjC,EAAOoc,UAAY,KAAO,GAAI,MAGrGpc,EAAOqc,aACTU,GAAe,gBAAgBlD,OAAO7Z,EAAOqc,WAAY,MAIpD,SAASxC,OADhBkD,GAAe,IACqB,KAAKlD,OAAOpD,EAAM,UACxD,CAEA,OAAOA,CACT,CAKA,SAASuG,EAAgBC,EAAW5B,EAAW5E,EAAMyG,GACnD,IAAIC,EAASF,EAAU5B,GAEvB,GAAqC,oBAA1B6B,EAAsC,CAC/C,IAAIE,EAAOF,EAAsBC,EAAQ1G,GAEzC,GAAI2G,EACF,OAAOA,CAEX,CAEA,GAAoB,YAAhBD,EAAO/H,KACT,MAAO,YAAayE,OAAOsD,EAAOzc,KAAK2c,IAAK,uDAA2DxD,OAAOsD,EAAOzc,KAAKsB,MAAO,MAAO6X,OAAOpD,EAAM,QAGvJ,GAAoB,SAAhB0G,EAAO/H,KAAiB,CAC1B,IAAIkI,EAAeH,EAAOzc,KAAK4c,cAAgB,QAC/C,MAAO,YAAazD,OAAOsD,EAAOzc,KAAK2c,IAAK,cAAgBxD,OAAOyD,EAAc,MAAOzD,OAAOpD,EAAM,OACvG,CAEA,GAAoB,UAAhB0G,EAAO/H,KAAkB,CAC3B,IAAImI,EAAYJ,EAAOzc,KAAK6c,UAE5B,OAAIA,GAAaA,EAAUjb,OAClB,0BAA2BuX,OAAO0D,EAAW,iBAAmB1D,OAAOsD,EAAOzc,KAAKqK,IAAK,WAAa8O,OAAOsD,EAAOzc,KAAKsK,IAAK,qBAAuB6O,OAAOsD,EAAOzc,KAAKmK,OAAQ,YAAYgP,OAAOsD,EAAOzc,KAAKoK,MAAO,aAGvN,aAAc+O,OAAOsD,EAAOzc,KAAKqK,IAAK,WAAa8O,OAAOsD,EAAOzc,KAAKsK,IAAK,qBAAuB6O,OAAOsD,EAAOzc,KAAKmK,OAAQ,YAAYgP,OAAOsD,EAAOzc,KAAKoK,MAAO,MAC5K,CAEA,MAAoB,kBAAhBqS,EAAO/H,KACF,kBAAmByE,OAAOsD,EAAOzc,KAAKoK,MAAO,cAAgB+O,OAAOsD,EAAOzc,KAAKmK,OAAQ,WAAagP,OAAOsD,EAAOzc,KAAKqK,IAAK,+BAG/H0L,CACT,CAOA,SAAS+G,EAAuBrd,EAAOH,EAAQmb,EAAOC,GACpD,IAAIqC,EAAgB,GAChBhH,EAAOkF,MAAM+B,KAAKvd,EAAMsW,MAE5B,GAAIA,EAAKnU,OAAS,EAIhB,IAHA,IACIqb,EADAlC,EAAeF,EAAsBpb,GAGhC8F,EAAIkV,EAAOlV,EAAImV,EAAKnV,GAAK,EAC5BA,IAAMkV,GAASoB,EAAoBd,EAAczb,EAAQiG,IAC3D0X,EAAQlH,KAAK+D,KAAK/D,EAAKxQ,IACvB0X,EAAQvC,IAAMnV,EAAI,IAElB0X,EAAU,CACR3d,OAAQsc,EAAkBb,EAAcxV,GACxCwQ,KAAM,CAACA,EAAKxQ,IACZkV,MAAOlV,EACPmV,IAAKnV,EAAI,GAEXwX,EAAcjD,KAAKmD,IAKzB,OAAOF,CACT,CAMA,SAASG,EAAiBC,GACxB,GAAIA,EAAa,CAGf,IAFA,IAAIC,EAAeD,EAEV5X,EAAI,EAAGA,EAAI6X,EAAaxb,QACR,MAAnBub,EAAY5X,GADuBA,GAAK,EAE1C6X,EAAeA,EAAa1b,QAAQ,IAAK,UAM7C,OAAO0b,CACT,CAEA,OAAOD,CACT,CAKA,SAASE,EAAkBF,GACzB,GAAIA,EAAa,CAGf,IAFA,IAAIC,EAAeD,EAEV5X,EAAI6X,EAAaxb,OAAS,EAAG2D,GAAK,GACjB,MAApB6X,EAAa7X,GAD2BA,GAAK,EAE/C6X,EAAe,GAAGjE,OAAOiE,EAAa9T,UAAU,EAAG/D,GAAI,UAAU4T,OAAOiE,EAAa9T,UAAU/D,EAAI,IAMvG,OAAO6X,CACT,CAEA,OAAOD,CACT,CAMA,SAASG,EAAyBC,GAChC,IAAIje,EAASie,EAAaje,OAEtBmE,EAAUwY,EADHsB,EAAaxH,MAKxB,OAHAsC,EAAQ/Y,GAAQ,SAAU0Y,EAAO1W,GAC/BmC,EAAUuY,EAAqBhE,EAAOvU,EACxC,IACOA,CACT,CAOA,SAAS+Z,EAA4B/d,EAAO8d,GAC1C,IAAIE,EAAmBX,EAAuBrd,EAAO,CAAC,OAAQ,SAAU,YAAa,gBAAiB,OAAQ,cAAe,aAAc8d,EAAa9C,MAAO8C,EAAa7C,KACxKgD,EAAmB,GAKvB,OAJAD,EAAiBpF,SAAQ,SAAUsF,GACjCD,GAAoBJ,EAAyBK,EAC/C,IACAD,EAAmBtB,EAAuBmB,EAAaje,OAAQoe,EAEjE,CAQA,SAASE,EAAiBne,EAAO8c,EAAWU,EAAST,GACnD,IAAIqB,EAAqB,GACCf,EAAuBrd,EAAO,CAAC,QAAS,UAAW,WAAY,cAAewd,EAAQxC,MAAOwC,EAAQvC,KAC3GrC,SAAQ,SAAUkF,GACpCM,EAAmB/D,KAAK0D,EAA4B/d,EAAO8d,GAC7D,IACA,IAAIJ,EAAcU,EAAmB1B,KAAK,IAU1C,MARqB,WAAjBc,EAAQvI,UACgB7R,IAAtBoa,EAAQtC,WAAiD,OAAtBsC,EAAQtC,YAC7CwC,EAAcb,EAAgBC,EAAWU,EAAQtC,UAAWwC,EAAaX,IAEjD,YAAjBS,EAAQvI,OACjByI,EAAc,YAAahE,OAAOgE,EAAa,8BAAiChE,OAAOgE,EAAa,SAG/FA,CACT,CAOA,SAASW,EAAoBre,EAAO8c,EAAWjD,EAAekD,GAC5D,IAAIuB,EAAc,GACdxE,EAAWS,EAAYva,EAAO6Z,GAclC,OAbAC,EAASlB,SAAQ,SAAU4E,EAASnB,GAClC,IAAIqB,EAAcS,EAAiBne,EAAO8c,EAAWU,EAAST,GAEhD,IAAVV,IACFqB,EAAcD,EAAiBC,IAG7BrB,IAAUvC,EAAS3X,OAAS,IAC9Bub,EAAcE,EAAkBF,IAGlCY,EAAYjE,KAAKqD,EACnB,IACOY,EAAY5B,KAAK,GAC1B,CAKA,SAAS6B,EAAeve,EAAO8c,EAAWjD,EAAe2E,EAAazB,GACpE,IAAI0B,EAAY,GAEhB,GAAItD,EAAoBnb,GACtBye,EAAUpE,KAAKwC,EAAgBC,EAAW9c,EAAM0a,aAAa,GAAG3B,SAAK3V,EAAW2Z,QAC3E,CACL,IAAI2B,EAAWlF,EAAYxZ,EAAMiV,MAEjC,GAAIyJ,EAAU,CACZD,EAAUpE,KAAK,IAAIX,OAAOgF,IAC1B,IAAIC,EAAalF,EAAczZ,EAAMO,MAEjCoe,GACFF,EAAUpE,KAAK,WAAYX,OAAOiF,EAAY,MAG5CH,GACFC,EAAUpE,KAAK,iBAGjBoE,EAAUpE,KAAK,KACfoE,EAAUpE,KAAKgE,EAAoBre,EAAO8c,EAAWjD,EAAekD,IACpE0B,EAAUpE,KAAK,KAAKX,OAAOgF,EAAU,KACvC,CACF,CAGA,OADAD,EAAUpE,KAAK,MACRoE,EAAU/B,KAAK,GACxB,CAMA,SAASkC,EAAOC,GACd,MAAqB,wBAAdA,GAAqD,sBAAdA,CAChD,CAKA,SAASC,EAAcC,EAAYjC,EAAWjD,EAAe2E,EAAazB,GACxE,IAEIiC,EAFAC,EAAW,GACXC,EAAkB,GA4CtB,OA1CAH,EAAWnG,SAAQ,SAAU5Y,GAC3B,IAAImf,GAAc,EAiBlB,GAfKH,EAEMA,EAAc/J,OAASjV,EAAMiV,MACtCgK,EAAS5E,KAAK,KAAKX,OAAOF,EAAYwF,EAAc/J,MAAO,QAC3DgK,EAAS5E,KAAK,IAAIX,OAAOF,EAAYxZ,EAAMiV,MAAO,SACzC+J,EAAcI,QAAUpf,EAAMof,MACnCF,GAAmBA,EAAgB/c,OAAS,IAC9C8c,EAAS5E,KAAKyE,EAAcI,EAAiBpC,EAAWjD,EAAe2E,EAAazB,IACpFmC,EAAkB,KAGpBC,GAAc,EACdD,EAAgB7E,KAAKra,IAXrBif,EAAS5E,KAAK,IAAIX,OAAOF,EAAYxZ,EAAMiV,MAAO,SAc/CkK,EAAa,CAChBF,EAAS5E,KAAK,OACd,IAAIsE,EAAalF,EAAczZ,EAAMO,MAEjCoe,GACFM,EAAS5E,KAAK,WAAYX,OAAOiF,EAAY,MAG3CH,GACFS,EAAS5E,KAAK,iBAGhB4E,EAAS5E,KAAK,KACd4E,EAAS5E,KAAKgE,EAAoBre,EAAO8c,EAAWjD,EAAekD,IACnEkC,EAAS5E,KAAK,WACd2E,EAAgBhf,CAClB,CACF,IAEIkf,GAAmBA,EAAgB/c,OAAS,GAC9C8c,EAAS5E,KAAKyE,EAAcI,EAAiBpC,EAAWjD,EAAe2E,EAAazB,IAGtFkC,EAAS5E,KAAK,KAAKX,OAAOF,EAAYwF,EAAc/J,MAAO,QACpDgK,EAASvC,KAAK,GACvB,CAMA,SAASnW,EAAY8Y,EAAexF,EAAe2E,EAAazB,GAC9D,IAAIE,EAAO,GAEX,GAAIoC,EAAe,CACjB,IAAIC,EAASD,EAAcC,OACvBxC,EAAYuC,EAAcvC,UAE9B,GAAIwC,GAAUA,EAAOnd,OAAS,EAAG,CAC/B,IAAI4c,EAAa,GAiBjB,GAhBAO,EAAO1G,SAAQ,SAAU5Y,GACvB,GAAI4e,EAAO5e,EAAMiV,MACf8J,EAAW1E,KAAKra,OACX,CACL,GAAI+e,EAAW5c,OAAS,EAAG,CACzB,IAAI8c,EAAWH,EAAcC,EAAYjC,EAAWjD,EAAekD,GAEnEE,EAAK5C,KAAK4E,GACVF,EAAa,EACf,CAEA,IAAIN,EAAYF,EAAeve,EAAO8c,EAAWjD,EAAe2E,EAAazB,GAC7EE,EAAK5C,KAAKoE,EACZ,CACF,IAEIM,EAAW5c,OAAS,EAAG,CACzB,IAAI8c,EAAWH,EAAcC,EAAYjC,EAAWjD,EAAe2E,EAAazB,GAEhFE,EAAK5C,KAAK4E,GACVF,EAAa,EACf,CACF,CACF,CAEA,OAAO9B,EAAKP,KAAK,GACnB,CAEA,OAAOnW,CAET,CAhtBkFgZ,E,wGCK9EC,EAAY,CAAC,0BAA2B,uBAAwB,oBAAqB,mBAAoB,mBAAoB,iBAAkB,UAAW,YAE1JC,EAAgB,WAClB,IACIzZ,EAAS0Z,UAAUvd,OAAS,EAAIud,UAAU,QAAKtc,EAC/Cuc,EAAYD,UAAUvd,OAAS,EAAIud,UAAU,QAAKtc,EAClDwc,EAAY1W,OAHCwW,UAAUvd,OAAS,QAAsBiB,IAAjBsc,UAAU,GAAmBA,UAAU,GAAK,IAGlDrW,cAC/BwW,EAAc3W,OAAOyW,EAAU1Z,eAAeD,IAASqD,cACvDyW,EAAc5W,OAAOyW,EAAU5Z,eAAeC,IAASqD,cAC3D,OAAOwW,IAAgBD,GAAaE,IAAgBF,CACtD,EAEIG,EAAW,CACbC,kBAAmB,SAA2BC,GAC5C,MAAO,WAAYvG,OAAOuG,EAAY,IACxC,EACAC,iBAAkB,SAA0BD,EAAYE,EAAaC,EAAeT,GAClF,SAAUM,GAAcE,EAAYE,MAAK,SAAUra,GACjD,OAAOyZ,EAAcQ,EAAYja,EAAQ2Z,EAC3C,KAAMS,EAAcC,MAAK,SAAUra,GACjC,OAAOyZ,EAAcQ,EAAYja,EAAQ2Z,EAC3C,IACF,EACAW,iBAAkB,SAA0BL,EAAYH,GACtD,MAAO,CACLS,MAAOT,EACPje,MAAOoe,EACPO,WAAW,EAEf,G,wEChBEC,EAA+BC,IAAMC,YAAW,SAAUjhB,EAAOkV,GACnE,IACIgM,EDgBN,SAAsBC,GACpB,IAAIC,EAAwBD,EAAKE,wBAC7BA,OAAoD,IAA1BD,GAA2CA,EACrEE,EAAwBH,EAAKI,qBAC7BA,OAAiD,IAA1BD,EAAmC,OAASA,EACnEE,EAAwBL,EAAKb,kBAC7BA,OAA8C,IAA1BkB,EAAmCnB,EAASC,kBAAoBkB,EACpFC,EAAwBN,EAAKX,iBAC7BA,OAA6C,IAA1BiB,EAAmCpB,EAASG,iBAAmBiB,EAClFC,EAAwBP,EAAKP,iBAC7BA,OAA6C,IAA1Bc,EAAmCrB,EAASO,iBAAmBc,EAClFC,EAAiBR,EAAKQ,eACtBC,EAAeT,EAAKpb,QACpB8b,OAAgC,IAAjBD,EAA0B,GAAKA,EAC9CE,EAAgBX,EAAKjb,SACrB6b,EAAkBC,YAAyBb,EAAMrB,GAEjDmC,EAAwBF,EAAgBxb,eACxC2b,OAA6C,IAA1BD,EAAmC1b,IAAiB0b,EACvEE,EAAyBJ,EAAgB1b,eACzC+b,OAA8C,IAA3BD,EAAoC9b,IAAiB8b,EACxE5B,EAAawB,EAAgBxB,WAC7B8B,EAAYN,EAAgBM,UAC5B1c,EAAUoc,EAAgBpc,QAC1BxD,EAAQ4f,EAAgB5f,MACxBc,EAAO8e,EAAgB9e,KACvBqf,EAAYC,mBAAQ,WACtB,OAAO/B,EAAiBD,EAAYiC,YAAWrgB,GAAQ0f,EAAc,CACnEtb,eAAgB2b,EAChB7b,eAAgB+b,IACbxB,EAAiBL,EAAYD,EAAkBC,SAAe7c,CACrE,GAAG,CAAC4c,EAAmBM,EAAkBwB,EAAkBF,EAAkB3B,EAAYC,EAAkBqB,EAAc1f,IACrH4D,EAAUwc,mBAAQ,WACpB,OAAQlB,GAA4BgB,IAAcC,EAAiKT,EAA5H,UAAzBN,EAAmC,CAACe,GAAWtI,OAAOyI,YAAmBZ,IAAiB,GAAG7H,OAAOyI,YAAmBZ,GAAe,CAACS,GACvM,GAAG,CAACjB,EAAyBE,EAAsBc,EAAWC,EAAWT,IACrE3b,EAAWwc,uBAAY,SAAUC,EAAUC,GAC7C,GAA0B,kBAAtBA,EAAWhS,OACb,OAAOkR,EAAca,EAAUC,GAGjC,IAAIC,EAAa/G,MAAMgH,QAAQH,GAAYA,EAAW,CAACA,GAEvD,GAAIE,EAAWA,EAAWpgB,OAAS,KAAO6f,EAa1CR,EAAca,EAAUC,QAZtB,GAAIjB,EAAgBA,EAAepB,OAAiB,CAClD,IAAIwC,EAAgBnC,EAAiBL,EAAYA,GAC7CyC,EAAgB,CAClBpS,OAAQ,gBACR3N,KAAMA,EACNqD,OAAQyc,GAEVjB,EAAcmB,YAAatd,EAAS,GAAGqU,OAAOyI,YAAmBD,YAAWrgB,IAAS,CAAC4gB,IAAiBA,GAAgBC,EACzH,CAKJ,GAAG,CAACpC,EAAkBL,EAAY5a,EAAS1C,EAAMqf,EAAWX,EAAgBG,EAAe3f,IAC3F,OAAO+gB,YAAeA,YAAe,CAAC,EAAGnB,GAAkB,CAAC,EAAG,CAC7Dhc,QAASA,EACTG,SAAUA,GAEd,CC7EoBid,CADGC,YAAgBpjB,IAErC,OAAoBghB,IAAMhT,cAAcqV,IAAQC,YAAS,CACvDpO,IAAKA,GACJgM,GACL,IAEeH,K,mRCmDAwC,IAtEC,SAAAvjB,GAAU,IAAD,EAGrBe,EAaEf,EAbFe,KACAqD,EAYEpE,EAZFoE,KACAwQ,EAWE5U,EAXF4U,MACA3J,EAUEjL,EAVFiL,MACAyN,EASE1Y,EATF0Y,SACA8K,EAQExjB,EARFwjB,SACArf,EAOEnE,EAPFmE,UACAnD,EAMEhB,EANFgB,cACAyiB,EAKEzjB,EALFyjB,cACAve,EAIElF,EAJFkF,iBACAwB,EAGE1G,EAHF0G,iBACAmO,EAEE7U,EAFF6U,gBACG6O,EAAI,YACL1jB,EAAK,GAGH2jB,EAAiBH,GAAsB,cAAC,IAAC,CAACrf,UAAU,iBAAiBC,KAAM,GAAIoB,QAASxE,IAE9F,OACE,eAAC,IAAK,qCACJiE,OAAQlE,EACRoE,OAAQnE,EACRkE,iBAAkBmP,IAAW,kBAAkB,eAC5CnP,EAAmBA,IAEtBE,eAAgBiP,IAAW,iBAAiB,eACzC3N,EAAmBA,IAEtBvC,UAAWkQ,KAAU,mBAClBlQ,EAAYA,GAAS,cACtB,aAAuB,OAATC,GAAa,cAC3B,aAAuB,OAATA,GAAa,UAGdV,IAAVuH,EACD,CACE4N,MAAO,CAAE5N,MAAOzB,OAAOyB,GAAS,OAElC,CAAC,GAEDyY,GAAI,cAER,cAAC,IAAW,CACVvf,UAAWkQ,IAAW,eACnBQ,EAAkBA,IAErB1P,OAAQnE,EACR4iB,MAAOD,EACPnV,IAAI,MAAK,SAET,oBAAIrK,UAAU,cAAa,SACzB,sBAAMA,UAAU,eAAc,SAAEyQ,QAGpC,cAAC,IAAgB,CAAC7O,QAAS,CAAE8d,kBAAkB,GAAQ,SACrD,cAAC,IAAS,CACR1f,UAAWkQ,IAAW,cAAc,eACjCoP,EAAgBA,IAChB,SAEF/K,SAKX,C","file":"static/js/42.d8ada411.chunk.js","sourcesContent":["// ** React Imports\nimport { useState, useEffect, Fragment } from 'react'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Third Party Components\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html'\nimport { EditorState, ContentState, convertFromHTML, convertToRaw } from 'draft-js'\nimport Select, { components } from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n\nimport { Minus, X, Maximize2, Paperclip, MoreVertical, Trash, File } from 'react-feather'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport {\n  Form,\n  Label,\n  Input,\n  Modal,\n  Button,\n  ModalBody\n} from 'reactstrap'\n\n// ** Utils\nimport { selectThemeColors } from '@utils'\nimport moment from 'moment'\n// ** User Avatars\nimport { activeOrganization, loggedInUser } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nconst userData = loggedInUser()\n// ** Styles\nimport '@styles/react/libs/editor/editor.scss'\nimport '@styles/react/libs/react-select/_react-select.scss'\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\nimport toast from 'react-hot-toast'\nconst SidebarSendInvoice = props => {\n\n  const colourStyles = {\n    multiValue: (styles, { }) => {\n\n      return {\n        ...styles,\n        backgroundColor: '#7367f0'\n      }\n    }\n  }\n\n  const [block, setBlock] = useState(false)\n\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n  const [toEmail, setToEmail] = useState([])\n  const [ccEmail, setCCEmail] = useState([])\n  const [data, setData] = useState('')\n  const { open, toggleSidebar, invoice } = props\n  const [thankyouNote, setThankyouNote] = useState('')\n  const [userOptions, setUserOptions] = useState([])\n  const [clientOptions, setClientOptions] = useState([])\n\n  const getOrganizationUsers = () => {\n    axios.post('/organizationusers/dropdown').then((res) => {\n      setUserOptions(res.data.organizationusers)\n    }).catch(() => { })\n  }\n\n  const getCoatctInfo = (id) => {\n    axios.post('contactinformations/list', { contactid: id }).then((res) => {\n      setClientOptions(res.data.contactinformations)\n    }).catch(() => { })\n\n  }\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const getThankyouNotes = () => {\n    axios.post('/emailtemplates/get', { slug: 'invoice-send-mail' }).then((res) => {\n      const mailSub = res.data.emailtemplates.description\n      const test = mailSub.replace('{invoice_date}', dateFormat(invoice.paymentdue)).replace('{service}', invoice.taskinvoiceitemsservicename).replace('recipient_name', invoice.contactperson).replace('{recipient_name}', invoice.contactperson).replace('{invoice_no}', invoice.uniqueno).replace('{amount}', invoice.totalamount).replace('{invoice_amount}', invoice.totalamount).replace('{your_name}', userData.name).replaceAll('{firm_name}', activeOrg.name).replace('{', '').replace('}', '')\n\n      const temp = EditorState.createWithContent(\n        ContentState.createFromBlockArray(\n          convertFromHTML(test)\n        )\n      )\n      setData(temp)\n      setThankyouNote(test)\n\n    }).catch(() => { })\n  }\n\n  const handleChange = (editorState) => {\n    setData(editorState)\n    setThankyouNote(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n\n  useEffect(() => {\n    if (invoice.clientid !== undefined) {\n      getCoatctInfo(invoice.clientid)\n    }\n    if (invoice.contactid !== undefined) {\n      getCoatctInfo(invoice.contactid)\n    }\n    if (Object.keys(invoice).length > 0) {\n      getOrganizationUsers()\n      getThankyouNotes()\n    }\n  }, [invoice])\n\n  const sendMail = () => {\n    setBlock(true)\n    const subject = `${invoice.uniqueno} Invoices Acknowledgement Mail`\n    axios.post('/google/sendGmail', { content: thankyouNote, subject, toEmail, ccEmail, taskinvoiceId: invoice.id, clientName: invoice.contactname })\n      .then(() => {\n        toggleSidebar(false)\n        setBlock(false)\n        toast.success('Email send Successfully', { position: 'bottom-right' })\n      })\n    console.log(() => { })\n  }\n\n\n  // ** States\n  const [ccOpen, setCCOpen] = useState(false)\n\n  const SelectComponent = ({ data, ...props }) => {\n    return (\n      <components.Option {...props}>\n        <div className='d-flex flex-wrap align-items-center'>\n          <Avatar className='my-0 me-50' size='sm' initials content={data.name?.charAt(0)} />\n          {data.name} - {data.email}\n        </div>\n      </components.Option>\n    )\n  }\n\n  // ** CC Toggle Function\n  const toggleCC = e => {\n    e.preventDefault()\n    setCCOpen(!ccOpen)\n  }\n\n  // ** Toggles Compose POPUP\n  const togglePopUp = e => {\n    e.preventDefault()\n    toggleSidebar()\n  }\n\n  return (\n\n    <div className='email-application'>\n      <div className='content-area-wrapper'>\n        <div className='col-md-12'>\n          <div className='content-body'>\n            <Modal\n              scrollable\n              fade={false}\n              keyboard={false}\n              backdrop={false}\n              id='compose-mail'\n              container='.content-body'\n              className='modal-lg'\n              isOpen={open}\n              contentClassName='p-0'\n              toggle={toggleSidebar}\n              modalClassName='modal-sticky'\n            >\n              <UILoader blocking={block} loader={<Loader />}>\n                <div className='modal-header'>\n                  <h5 className='modal-title'>Compose Mail</h5>\n                  <div className='modal-actions'>\n                    {/* <a href='/' className='text-body me-75' onClick={togglePopUp}>\n                      <Minus size={14} />\n                    </a>\n                    <a href='/' className='text-body me-75' onClick={e => e.preventDefault()}>\n                      <Maximize2 size={14} />\n                    </a> */}\n                    <a href='/' className='text-body' onClick={togglePopUp}>\n                      <X size={14} />\n                    </a>\n                  </div>\n                </div>\n                <ModalBody className='flex-grow-1 p-0'>\n                  <Form className='compose-form' onSubmit={e => e.preventDefault()}>\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-to' className='form-label'>\n                        To:\n                      </Label>\n                      <div className='flex-grow-1'>\n                        <CreatableSelect\n                          isMulti\n                          id='email-to'\n                          isClearable={false}\n                          theme={selectThemeColors}\n                          options={clientOptions}\n                          className='react-select select-borderless'\n                          classNamePrefix='select'\n                          components={{ Option: SelectComponent }}\n                          styles={colourStyles}\n                          onChange={(e) => { setToEmail(e.map(i => i.email)) }}\n                          getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                          getOptionValue={(option) => option.id}\n                        />\n                      </div>\n                      <div>\n                        <a href='/' className='toggle-cc text-body me-1' onClick={toggleCC}>\n                          Cc\n                        </a>\n                      </div>\n                    </div>\n                    {ccOpen === true ? (\n                      <div className='compose-mail-form-field cc-wrapper'>\n                        <Label for='email-cc' className='form-label'>\n                          Cc:\n                        </Label>\n                        <div className='flex-grow-1'>\n                          <Select\n                            isMulti\n                            id='email-cc'\n                            onChange={(e) => { setCCEmail(e.map(i => i.email)) }}\n                            isClearable={false}\n                            theme={selectThemeColors}\n                            options={userOptions}\n                            className='react-select select-borderless'\n                            classNamePrefix='select'\n                            components={{ Option: SelectComponent }}\n                            styles={colourStyles}\n                            getOptionLabel={(option) => `${option.name} - ${option.email}`}\n                            getOptionValue={(option) => option.id}\n                          />\n                        </div>\n                        <div>\n                          <a href='/' className='toggle-cc text-body' onClick={toggleCC}>\n                            <X size={14} />\n                          </a>\n                        </div>\n                      </div>\n                    ) : null}\n                    <div className='compose-mail-form-field'>\n                      <Label for='email-subject' className='form-label'>\n                        Subject:\n                      </Label>\n                      <Input id='email-subject' placeholder='Subject' />\n                    </div>\n                    <div id='message-editor'>\n                      <Editor\n                        placeholder='Message'\n                        toolbarClassName='rounded-0'\n                        wrapperClassName='toolbar-bottom'\n                        editorState={data}\n                        onEditorStateChange={handleChange}\n                        editorClassName='rounded-0 border-0'\n                        toolbar={{\n                          options: ['inline', 'textAlign'],\n                          inline: {\n                            inDropdown: false,\n                            options: ['bold', 'italic', 'underline', 'strikethrough']\n                          }\n                        }}\n                      />\n                    </div>\n                    <div className='compose-footer-wrapper'>\n                      <div className='btn-wrapper d-flex align-items-center'>\n                        <Button outline color='primary' onClick={() => { sendMail() }}>Send</Button>\n                        <div className='email-attachement rounded border p-50 ms-50'>\n                          {invoice.uniqueno}.pdf\n                        </div>\n                      </div>\n                      <div className='footer-action d-flex align-items-center'>\n                        <Trash className='cursor-pointer' size={18} onClick={toggleSidebar} />\n                      </div>\n                    </div>\n                  </Form>\n                </ModalBody>\n              </UILoader>\n            </Modal>\n          </div></div></div>\n    </div>\n\n  )\n}\n\nexport default SidebarSendInvoice\n","// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  const { id } = useParams()\n  //const accountTypeArr = ['', 'Saving', 'Current']\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n  const paymentstatusObj = [\n    { id: '', name: \"Select All\" },\n    { id: '4', name: \"Draft\", color: 'light-primary' },\n    { id: '5', name: \"Pending\", color: 'light-danger' },\n    { id: '6', name: \"Partially Paid\", color: 'light-warning' },\n    { id: '7', name: 'Paid', color: 'light-success' },\n    { id: '11', name: 'Sent', color: 'light-secondary' }\n  ]\n  const renderStatus = (val) => {\n    const obj = paymentstatusObj.find((o) => parseInt(o.id) === parseInt(val))\n    return obj\n  }\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n    str += (Number(n[1]) !== 0) ? (Number(n[1]) <= 19 ? ` ${a[Number(n[1])]}core` : ` ${b[Number(n[1][0])]} ${a[Number(n[1][1])]}crore`) : ''\n\n    str += (Number(n[2]) !== 0) ? (Number(n[2]) <= 19 ? ` ${a[Number(n[2])]}lakh` : ` ${b[Number(n[2][0])]} ${a[Number(n[2][1])]}lakh`) : ''\n\n    str += (Number(n[3]) !== 0) ? (Number(n[3]) <= 19 ? ` ${a[Number(n[3])]}thousand` : ` ${b[Number(n[3][0])]} ${a[Number(n[3][1])]}thousand`) : ''\n\n    str += (Number(n[4]) !== 0) ? (Number(n[4]) <= 19 ? ` ${a[Number(n[4])]}hundred` : ` ${b[Number(n[4])]}hundred`) : ''\n    n[5] = String(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? ' and ' : ''} ${a[Number(n[5])] || `${b[Number(n[5][0])]} ${a[Number(n[5][1])]}`}`) : ''\n\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt?.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n\n  const indianFormattedPrice = (val) => {\n\n    const value = String(val)\n\n    let removedValue = ''\n    let finalVal = ''\n    if (value.includes('.')) {\n      removedValue = value.slice(value.indexOf('.'))\n      finalVal = value.replace(removedValue, '')\n      finalVal = finalVal.toString()\n    } else {\n      finalVal = value.toString()\n    }\n    let lastThree = finalVal.substring(finalVal.length - 3)\n    const otherNumbers = finalVal.substring(0, finalVal.length - 3)\n    if (otherNumbers !== '') lastThree = `,${lastThree}`\n    const res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree\n    return res + (removedValue === '' ? '.00' : `.${removedValue.toString().split('.')[1]}`)\n  }\n\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} ${amount.split(\".\")[1] !== undefined ? `and Paise ${inWords(amount.split(\".\")[1])} Only` : ''}`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name?.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    const res = await dispatch(getInvoiceItems(id))\n    await setInvoiceItems(res.payload.reimbursementinvoiceitems)\n\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col>\n        <Badge color={renderStatus(data.paymentstatus).color || 'light-primary'}>{renderStatus(data.paymentstatus).name || data.paymentstatus}</Badge>\n      </Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid === null ? renderOrg(activeOrg.name) : <img referrerPolicy=\"no-referrer\" className='rounded me-50' height={75} width={75} src={`https://drive.google.com/thumbnail?id=${activeOrg.imageid}&authuser=0`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Reimbursement</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between'>\n            <div className='col col-12 col-md-6'>\n              <div className='logo-wrapper mb-0 mb-lg-2'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>            \n            </div>\n\n            <div className='mt-lg-3 mt-1 col-md-3 col-12'>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='col-6 mb-25'>\n                  Reimbursement\n                </p>\n                <p className='col-6 m-25 invoice-date text-end '>{data.uniqueno}</p>\n              </div>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='invoice-date-title col-6'>Date Issued:</p>\n                <p className='invoice-date col-6 text-end'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper justify-content-between'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date text-end'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex flex-wrap flex-md-nowrap align-items-center justify-content-between mt-1'>\n            <Col className='p-0 col-12 col-md-9' >\n              <h6 className='mb-2'>Invoice To:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n              <CardText className='mb-25'>{data.billingaddressstate}</CardText>           \n            </Col>\n            <Col className='p-0 col-12 col-md-3'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table className='col-12'>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td className='text-end'>\n                      <span className='fw-bold'>{indianFormattedPrice(parseFloat(data.dueamount).toFixed(2))}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td className='text-end'>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td className='text-end'><p className='text-end m-0 text-overflow-ellipsis'>{data.bankaccountholdername}</p>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td className='text-end'>{data.bankaccountbranchname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>IFSC code:</td>\n                    <td className='text-end'>{data.bankaccountifsccode}</td>\n                  </tr>\n                  {/* <tr>\n                    <td className='pe-1'>Account Type:</td>\n                    <td className='text-end'>{accountTypeArr[data.accounttype]}</td>\n                  </tr> */}\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>           \n            <Col className='p-0 mt-xl-0 mt-2' md='3' sm='6'>\n              <table className='col-12'>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td className='text-end'>{data.billingcurrencyshortname}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Invoice Description */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              <th className='py-1'>Price</th>\n              <th className='py-1 text-end'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                    <p className='card-text text-nowrap'>\n                      {item.description}\n                    </p>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{indianFormattedPrice(item.price)}</span>\n                  </td>\n                  <td className='py-1 text-end'>\n                    <span className='fw-bold'>{indianFormattedPrice(item.subTotalAmount)}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Invoice Description */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              <b>Total In Words </b>:{amountInwords(data.totalamount)}\n              {activeOrg.signatureflag &&\n                <Row>\n                  <p className='font-weight-800 mt-1'>Authorized and signed by</p>\n                  {activeOrg.signatureimageid && <img className='img-fluid width-20-per ms-2' referrerPolicy=\"no-referrer\" src={`https://drive.google.com/thumbnail?id=${activeOrg.signatureimageid}&authuser=0`} />}\n                </Row>\n              }\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item text-primary'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.totalamount)}</p>\n                </div>\n                <hr className='my-50' />\n                <div className='invoice-total-item text-success'>\n                  <p className='invoice-total-title'>Paid:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(data.totalamount - data.dueamount)}</p>\n                </div>\n                <div className='invoice-total-item text-danger'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{indianFormattedPrice(parseFloat(data.dueamount).toFixed(2))}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Invoice Note */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Invoice Note */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** React Imports\nimport { Link } from 'react-router-dom'\nimport { Card, CardBody, Button, Col, Row, Badge } from 'reactstrap'\nimport { Can } from '@src/utility/context/Can.js'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { useEffect, useState } from 'react'\nconst PreviewActions = ({ id, setSendSidebarOpen, setAddPaymentOpen, invoice }) => {\n\n  const [participants, setParticipants] = useState([])\n\n  const downloadPdf = () => {\n    axios.post('/pdfmaker/pdf', { id: invoice.id })\n      .then((res) => {\n        const downloadLink = document.createElement(\"a\")\n        const fileName = `${invoice.uniqueno}.pdf`\n        downloadLink.href = res.data.pdf\n        downloadLink.download = fileName\n        downloadLink.click()\n        document.removeChild(downloadLink)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  const getParticipants = () => {\n\n    axios.post('/reimbursementinvoice/getparticipants', { invoiceId: invoice.id })\n      .then((res) => { setParticipants(res.data.reimbursementparticipants) })\n      .catch((err) => { console.log(err) })\n\n  }\n\n  useEffect(() => {\n    getParticipants()\n  }, [])\n\n  return (\n    <Card className='invoice-action-wrapper'>\n      <CardBody>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='primary' block className='mb-75' onClick={() => setSendSidebarOpen(true)}>\n            Send Reimbursement\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { downloadPdf() }}>\n            Download\n          </Button>\n        </Can>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { window.print() }}>\n            Print\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button tag={Link} to={`/reimbursement/edit/${id}`} color='secondary' block outline className='mb-75'>\n            Edit\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button color='success' block onClick={() => setAddPaymentOpen(true)}>\n            Add Payment\n          </Button>\n        </Can>\n\n        {participants.length > 0 &&\n          <Col className='mt-2'>\n            <h4>Tagged Employees</h4>\n            <Row className='mt-1'>\n              {\n                participants.map((user, k) => {\n                  return <Badge className='mt-md-75 py-md-75' key={k} color='primary'>{user.name}</Badge>\n                })\n              }\n            </Row>\n          </Col>\n        }\n\n        <Col className='mt-2'>\n\n          <Row className='mt-1'>\n            <h5>Task ID</h5>\n            <Col md={12} tag={Link} to={`/task/view/${invoice.taskid}`}>{invoice.uniqueidentity}</Col>\n          </Row>\n\n          <Row className='mt-1'>\n            <h5>Task Description</h5>\n            <Col md={12}>{invoice.description}</Col>\n          </Row>\n        </Col>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default PreviewActions\n","// ** Redux Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\n\n// ** Axios Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { orgUserId } from '@src/helper/sassHelper'\nconst userId = orgUserId()\n\n\nexport const getData = createAsyncThunk('appInvociePayments/getData', async params => {\n  const response = await axios.post('/reimbursementinvoicepayments/list', params)\n  return {\n    data: response.data.reimbursementinvoicepayments\n  }\n})\n\nexport const addInvoicePayments = createAsyncThunk('appInvociePayments/addInvoicePayments', async (invoice, { rejectWithValue }) => {\n  try {\n    const response = await axios.post(`/reimbursementinvoicepayments/create`, invoice)\n    return { invoices: response.data.reimbursementinvoicepayments }\n  } catch (ex) {\n    return rejectWithValue(getExceptionPayload(ex))\n  }\n})\n\nexport const getInvociePayments = createAsyncThunk('appInvociePayments/getInvociePayments', async id => {\n  const response = await axios.post('/reimbursementinvoicepayments/get', { id })\n  return { invoice: response.data.reimbursementinvoicepayments }\n})\n\nexport const updateInvociePayments = createAsyncThunk('appInvociePayments/updateInvociePayments', async (invoice, { rejectWithValue }) => {\n  try {\n    const response = await axios.post(`/reimbursementinvoicepayments/update`, invoice)\n    return { invoices: response.data.reimbursementinvoicepayments }\n  } catch (ex) {\n    return rejectWithValue(getExceptionPayload(ex))\n  }\n})\n\nexport const getClient = createAsyncThunk('appInvociePayments/getClient', async id => {\n  const response = await axios.post('/clients/get', { id })\n  return response.data.clients\n})\n\nexport const deleteInvociePayments = createAsyncThunk('appInvociePayments/deleteInvociePayments', async (id, { dispatch, getState }) => {\n  await axios.post('/reimbursementinvoicepayments/delete', { id, updatedBy: userId })\n  await dispatch(getData(getState().invoicepayment.params))\n  return id\n})\n\nexport const updateInvoicePayment = createAsyncThunk('appInvociePayments/updateInvoicePayment', async (data, { dispatch }) => {\n  await axios.post('/reimbursementinvoice/updatepayments', data)\n  await dispatch(getData({ invoiceId: data.id }))\n  return id\n})\n\n\nexport const appInvociePaymentsSlice = createSlice({\n  name: 'appInvociePayments',\n  initialState: {\n    invoicePayments: [],\n    total: 1,\n    params: {}\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getData.fulfilled, (state, action) => {\n      state.invoicePayments = action.payload.data\n    })\n    builder.addCase(addInvoicePayments.fulfilled, (state, action) => {\n      state.invoiceId = action.payload.invoices.id\n    })\n    builder.addCase(updateInvociePayments.fulfilled, (state, action) => {\n      state.invoiceId = action.payload.invoices.id\n    })\n    builder.addCase(getInvociePayments.fulfilled, (state, action) => {\n      state.selectedInvociePayments = action.payload.invoice\n    })\n\n  }\n})\n\nexport default appInvociePaymentsSlice.reducer\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Flatpickr from 'react-flatpickr'\nimport Select from 'react-select'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Form, Input, Label, Button, Row, Col, FormFeedback } from 'reactstrap'\n\n// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport { updateInvociePayments, updateInvoicePayment } from './store/index'\n// ** Styles\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\nimport '@styles/base/pages/app-invoice.scss'\n\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { useDispatch } from 'react-redux'\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { useParams } from 'react-router-dom'\nimport moment from 'moment'\n\nconst activeOrgId = activeOrganizationid()\nconst userId = orgUserId()\n\nconst AddPayment = ({ open, toggleSidebar, selectedPayment, data }) => {\n\n  const dispatch = useDispatch()\n\n  const [accountOptions, setAccountOptions] = useState([])\n  const [amountErr, setAmountErr] = useState(false)\n  const { id } = useParams()\n  // ** States\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    id: yup.string().default(0),\n    updatedBy: yup.string().default(userId),\n    contactId: yup.string().default(''),\n    totalAmountPaid: yup.string().required(\"Please Enter Amount\"),\n    paymentDate: yup.string().required(\"Please Enter Payment Date\"),\n    referenceOfMainId: yup.string().default(''),\n    pendingAmountBeforeRecord: yup.string().default(''),\n    transactionAccountId: yup.string().required(\"Please Select Account\").default(''),\n    referenceNo: yup.string(),\n    billingCurrency: yup.string().default(''),\n    billingAddress: yup.string().default(''),\n    notes: yup.string().default(''),\n    paymentConfirmation: yup.boolean().default(false)\n  })\n  const { handleSubmit, control, formState: { errors }, reset } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const onSubmit = async (formData) => {\n    const payamount = parseFloat(control._formValues.totalAmountPaid)\n    const totalPaidamount = parseFloat(control._formValues.totalAmountPaid)\n\n    if (parseFloat(selectedPayment.pendingamountbeforerecord) < (payamount)) {\n      setAmountErr(true)\n      return false\n    }\n\n    formData['paymentDate'] = moment(formData['paymentDate']).valueOf()\n    await dispatch(updateInvociePayments(formData))\n\n    const datatemp = {\n      updatedBy: userId,\n      id,\n      dueamount: parseFloat(formData.pendingAmountBeforeRecord) - parseFloat(totalPaidamount),\n      status: parseFloat(data.dueamount) === (payamount) ? 7 : 6\n    }\n    await dispatch(updateInvoicePayment(datatemp))\n\n    toggleSidebar()\n  }\n\n  useEffect(() => {\n    if (typeof selectedPayment === 'object') {\n      reset({\n        organizationId: activeOrgId,\n        updatedBy: userId,\n        id: selectedPayment.id,\n        contactId: selectedPayment.contactid,\n        totalAmountPaid: selectedPayment.totalamountpaid,\n        paymentDate: moment(selectedPayment.paymentdate, 'x').toDate(),\n        referenceOfMainId: selectedPayment.referenceofmainid,\n        pendingAmountBeforeRecord: selectedPayment.pendingamountbeforerecord,\n        transactionAccountId: selectedPayment.transactionaccountid,\n        referenceNo: selectedPayment.referenceno,\n        billingCurrency: selectedPayment.billingcurrency,\n        billingAddress: selectedPayment.billingaddress,\n        notes: selectedPayment.notes || '',\n        paymentConfirmation: false\n\n      })\n    }\n  }, [selectedPayment])\n\n  const getRow = (fieldLabel, fieldName, reqflag = false) => {\n    return (\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getSelectRow = (fieldLabel, fieldName, options, reqflag = false) => {\n    return (\n\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName} >\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            control={control}\n            name={fieldName}\n            id={fieldName}\n            render={({ field, ref }) => (\n              <Select\n                inputRef={ref}\n                className={classnames('react-select', { 'is-invalid': errors[fieldName] })}\n                {...field}\n                classNamePrefix='select'\n                options={options}\n                value={options.find(c => { return c.id === field.value })}\n                onChange={val => { return field.onChange(val.id) }}\n                getOptionLabel={(option) => option.accountHolderName}\n                getOptionValue={(option) => option.id}\n              />\n            )}\n\n          />\n          {errors[fieldName] && <FormFeedback className='text-danger'>{errors[fieldName]?.message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getBankAccounts = () => {\n    axios.post('/transactionaccounts/dropdown').then(response => {\n      const arr = response.data\n      setAccountOptions(arr.transactionaccounts)\n    })\n  }\n\n  useEffect(() => {\n    getBankAccounts()\n  }, [])\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Add Payment'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      toggleSidebar={toggleSidebar}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n\n        <Row>\n          <span className='fw-bold ps-1'>Reimbursement Balance {data.billingcurrencysymbol || ''} {data.dueamount || 0}</span>\n        </Row>\n        {amountErr && <p className='text-danger'>Total Payment Amount should Lesserthan or Equal to Reimbursement Balance </p>}\n        {getRow('Payment Amount', 'totalAmountPaid', true)}\n\n        <Row >\n          <Label sm='12' size='lg' className={classnames(`form-label'required`)} for={`paymentDate`} >\n            Payment Date\n          </Label>\n          <Col sm='12'>\n            <Controller\n              control={control}\n              name={`paymentDate`}\n              id='paymentDate'\n              render={({ field }) => (\n                <Flatpickr\n                  value={field.value}\n                  onChange={(date, dateStr) => { field.onChange(dateStr) }}\n                  options={{ altInput: true }}\n                  className='form-control invoice-edit-input due-date-picker'\n                />\n              )}\n            />\n          </Col>\n        </Row>\n\n        {getSelectRow('Payment Account', \"transactionAccountId\", accountOptions, true)}\n\n        {getRow('Reference Number', 'referenceNo', true)}\n\n        {getRow('Payment Notes', 'notes', false)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='paymentConfirmation' className='form-check-label'>\n            Sent Payment Confirmation\n          </Label>\n          <Controller\n            control={control}\n            id='paymentConfirmation'\n            name='paymentConfirmation'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        <div className='d-flex flex-wrap mb-0'>\n          <Button className='me-1' color='primary' type='submit'>\n            Submit\n          </Button>\n          <Button color='secondary' outline onClick={toggleSidebar}>\n            Cancel\n          </Button>\n        </div>\n      </Form>\n    </Sidebar>\n  )\n}\n\nexport default AddPayment\n","// ** Reactstrap Imports\nimport { useEffect, useState } from 'react'\n\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, Table, Col } from 'reactstrap'\nimport { getData, deleteInvociePayments, updateInvoicePayment } from './store/index'\nimport { Edit, Trash } from 'react-feather'\n// ** Custom Components\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nimport moment from 'moment'\nimport EditPayment from './EditPayment'\n\nconst MySwal = withReactContent(Swal)\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { orgUserId } from '@src/helper/sassHelper'\n\nconst userId = orgUserId()\n\nconst InvoicePayments = ({ data, tabId, refreshFlag }) => {\n\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.invoicepayment)\n  const [payments, setPayments] = useState([])\n  const [selectedPayment, setSelectedPayment] = useState({})\n\n  const [editPaymentOpen, setEditPaymentOpen] = useState(false)\n\n  const toggleEditSidebar = ((row) => {\n    setEditPaymentOpen(!editPaymentOpen)\n    setSelectedPayment(row)\n  }\n  )\n\n  const dateFormat = (value) => {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n  }\n\n  const deletefun = (row) => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(deleteInvociePayments(row.id))\n\n        const totalAmount = parseFloat(data.dueamount) + (parseFloat(row.totalamountpaid) + parseFloat(row.amountwithheld || 0))\n        const datatemp = {\n          updatedBy: userId,\n          id,\n          dueamount: totalAmount,\n          status: parseFloat(data.totalamount) === (totalAmount) ? 5 : 6\n        }\n        await dispatch(updateInvoicePayment(datatemp))\n        refreshFlag(true)\n        MySwal.fire({\n          icon: 'success',\n          title: 'Deleted!',\n          text: 'Reimbursement has been deleted.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n      }\n    })\n  }\n\n  useEffect(async () => {\n    if (tabId === '2' && id) {\n      await dispatch(getData({ invoiceId: id }))\n    }\n  }, [tabId])\n\n  useEffect(() => {\n    setPayments(store.invoicePayments)\n  }, [store.invoicePayments])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <CardBody className='invoice-padding pb-0'>\n\n        <EditPayment toggleSidebar={toggleEditSidebar} open={editPaymentOpen} selectedPayment={selectedPayment} data={data} />\n\n        <div className='invoice-list-dataTable react-dataTable'>\n          <Table>\n            <thead>\n              <tr>\n                <th>Payment #</th>\n                <th>Payment Date</th>\n                <th>Refernce</th>\n                <th>Amount</th>\n                <th>Amount With Held</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                payments.map((row, k) => {\n                  return (\n                    <tr key={k}>\n                      <td> <span className='text-primary'>{row.uniqueno}</span></td>\n                      <td>{dateFormat(row.paymentdate)}</td>\n                      <td>\n                        <span>{row.referenceno}</span>\n                      </td>\n                      <td>\n                        <span> {row.totalamountpaid || 0}</span>\n                      </td>\n                      <td>\n                        <span>{row.amountwithheld || 0}</span>\n                      </td>\n                      <td>\n                        <Col tag='a' onClick={e => {\n                          e.preventDefault()\n                          toggleEditSidebar(row)\n                        }}\n                          className='w-100'>\n                          <Edit size={14} className='me-50' />\n                        </Col>\n                        <Col\n                          tag='a'\n                          className='w-100'\n                          onClick={e => {\n                            e.preventDefault()\n                            deletefun(row)\n                          }}\n                        >\n                          <Trash size={14} className='me-50' />\n                        </Col>\n                      </td>\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </Table>\n        </div>\n      </CardBody>\n    </Card>\n  ) : null\n}\n\nexport default InvoicePayments\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Flatpickr from 'react-flatpickr'\nimport Select from 'react-select'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Form, Input, Label, Button, Row, Col, FormFeedback } from 'reactstrap'\n\n// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport { addInvoicePayments, updateInvoicePayment } from './store/index'\n// ** Styles\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\nimport '@styles/base/pages/app-invoice.scss'\n\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { useDispatch } from 'react-redux'\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { useParams } from 'react-router-dom'\nimport moment from 'moment'\n\nconst activeOrgId = activeOrganizationid()\n//const activeOrg = activeOrganization()\nconst userId = orgUserId()\n\nconst AddPayment = ({ open, toggleSidebar, data }) => {\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [accountOptions, setAccountOptions] = useState([])\n  const [amountErr, setAmountErr] = useState(false)\n  // ** States\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    createdBy: yup.string().default(userId),\n    contactId: yup.string().default(data.clientid),\n    totalAmountPaid: yup.string().required(\"Please Enter Amount\"),\n    paymentDate: yup.string().required(\"Please Enter Payment Date\"),\n    referenceOfMainId: yup.string().default(data.id),\n    pendingAmountBeforeRecord: yup.string().default(data.dueamount),\n    transactionAccountId: yup.string().required(\"Please Select Account\").default(data?.accountdetails?.id),\n    referenceNo: yup.string().default(''),\n    billingCurrency: yup.string().default(data.currencydetails.currencySymbol),\n    billingAddress: yup.string().default(''),\n    notes: yup.string(),\n    paymentConfirmation: yup.boolean().default(false)\n  })\n  const { handleSubmit, control, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const onSubmit = async (formData) => {\n    const payamount = parseFloat(control._formValues.totalAmountPaid)\n    const totalPaidamount = parseFloat(control._formValues.totalAmountPaid)\n\n    if (parseFloat(data.dueamount) < (payamount)) {\n      setAmountErr(true)\n      return false\n    }\n\n    formData['paymentDate'] = moment(formData['paymentDate']).valueOf()\n    await dispatch(addInvoicePayments(formData))\n    const due = parseFloat(data.dueamount) - parseFloat(totalPaidamount)\n    const datatemp = {\n      updatedBy: userId,\n      id,\n      dueamount: due,\n      status: parseFloat(data.dueamount) === (payamount) ? 7 : 6\n    }\n    await dispatch(updateInvoicePayment(datatemp))\n\n    toggleSidebar()\n\n  }\n\n  const getRow = (fieldLabel, fieldName, reqflag = false) => {\n    return (\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getSelectRow = (fieldLabel, fieldName, options, reqflag = false) => {\n    return (\n\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName} >\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            control={control}\n            name={fieldName}\n            id={fieldName}\n            render={({ field, ref }) => (\n              <Select\n                inputRef={ref}\n                className={classnames('react-select', { 'is-invalid': errors[fieldName] })}\n                {...field}\n                classNamePrefix='select'\n                options={options}\n                value={options.find(c => { return c.id === field.value })}\n                onChange={val => { return field.onChange(val.id) }}\n                getOptionLabel={(option) => option.accountHolderName}\n                getOptionValue={(option) => option.id}\n              />\n            )}\n\n          />\n          {errors[fieldName] && <FormFeedback className='text-danger'>{errors[fieldName]?.message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getBankAccounts = () => {\n    axios.post('/transactionaccounts/dropdown').then(response => {\n      const arr = response.data\n      setAccountOptions(arr.transactionaccounts)\n    })\n  }\n\n  useEffect(() => {\n    getBankAccounts()\n  }, [])\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Edit Payment'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      toggleSidebar={toggleSidebar}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n\n        <Row>\n          <span className='fw-bold ps-1'>Reimbursement Balance {data.billingcurrencysymbol} {data.dueamount}</span>\n        </Row>\n        {amountErr && <p className='text-danger'>Total Payment Amount should Lesserthan or Equal to Reimbursement Balance </p>}\n        {getRow('Payment Amount', 'totalAmountPaid', true)}\n\n        <Row >\n          <Label sm='12' size='lg' className={classnames(`form-label'required`)} for={`paymentDate`} >\n            Payment Date\n          </Label>\n          <Col sm='12'>\n            <Controller\n              control={control}\n              name={`paymentDate`}\n              id='paymentDate'\n              render={({ field }) => (\n                <Flatpickr\n                  value={field.value}\n                  onChange={(date, dateStr) => { field.onChange(dateStr) }}\n                  options={{ altInput: true }}\n                  className='form-control invoice-edit-input due-date-picker'\n                />\n              )}\n            />\n          </Col>\n        </Row>\n\n        {getSelectRow('Payment Account', \"transactionAccountId\", accountOptions, true)}\n\n        {getRow('Reference Number', 'referenceNo', true)}\n\n        {getRow('Payment Notes', 'notes', false)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='paymentConfirmation' className='form-check-label'>\n            Sent Payment Confirmation\n          </Label>\n          <Controller\n            control={control}\n            id='paymentConfirmation'\n            name='paymentConfirmation'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        <div className='d-flex flex-wrap mb-0'>\n          <Button className='me-1' color='primary' type='submit'>\n            Submit\n          </Button>\n          <Button color='secondary' outline onClick={toggleSidebar}>\n            Cancel\n          </Button>\n        </div>\n      </Form>\n    </Sidebar>\n  )\n}\n\nexport default AddPayment\n","// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\n// ** Third Party Components\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Row, Col, Alert, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'\n\n// ** Reimbursement Preview Components\nimport PreviewCard from './PreviewCard'\nimport PreviewActions from './PreviewActions'\nimport InvoicePayments from './InvoicePayment/index'\nimport AddPayment from './InvoicePayment/AddPayment'\nimport SendInvoiceSidebar from '../shared-sidebar/SidebarSendInvoice'\n\n// ** Styles\nimport '@styles/base/pages/app-invoice.scss'\nimport { User, Lock } from 'react-feather'\n\nconst InvoicePreview = () => {\n  // ** HooksVars\n  const { id } = useParams()\n\n  // ** States\n  const [sendSidebarOpen, setSendSidebarOpen] = useState(false)\n\n  const [addPaymentOpen, setAddPaymentOpen] = useState(false)\n  const [data, setData] = useState(null)\n  const [active, setActive] = useState('1')\n  // ** Functions to toggle add & send sidebar\n\n  const getInvoice = async () => {\n    axios.post('/reimbursementinvoice/get', { id }).then((res) => {\n      setData(res.data.reimbursementinvoice)\n    }).catch((err) => { console.log(err) })\n\n  }\n\n  const toggleSendSidebar = () => setSendSidebarOpen(!sendSidebarOpen)\n  const toggleAddSidebar = () => {\n    setAddPaymentOpen(!addPaymentOpen)\n    getInvoice()\n  }\n\n  const refreshFlag = (val) => {\n    if (val) {\n      getInvoice()\n    }\n  }\n\n  useEffect(() => {\n    getInvoice()\n  }, [])\n\n  const toggleTab = tab => {\n    if (active !== tab) {\n      setActive(tab)\n    }\n  }\n\n  // ** Get invoice on mount based on id\n\n  return data !== null && data !== undefined ? (\n    <div className='invoice-preview-wrapper'>\n      <Row className='invoice-preview'>\n        <Col xl={10} md={8} sm={12}>\n\n          <Nav pills className='mb-2'>\n            <NavItem>\n              <NavLink active={active === '1'} onClick={() => toggleTab('1')}>\n                <User className='font-medium-3 me-50' />\n                <span className='fw-bold'>Reimbursement</span>\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink active={active === '2'} onClick={() => toggleTab('2')}>\n                <Lock className='font-medium-3 me-50' />\n                <span className='fw-bold'>Payments</span>\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <TabContent activeTab={active}>\n            <TabPane tabId='1'>\n              <PreviewCard data={data} tabId={active} />\n            </TabPane>\n            <TabPane tabId='2'>\n              <InvoicePayments data={data} tabId={active} refreshFlag={refreshFlag} />\n            </TabPane>\n          </TabContent>\n\n        </Col>\n        <Col xl={2} md={4} sm={12}>\n          <PreviewActions id={id} setSendSidebarOpen={setSendSidebarOpen} setAddPaymentOpen={setAddPaymentOpen} invoice={data} />\n        </Col>\n      </Row>\n      {sendSidebarOpen &&\n\n        <SendInvoiceSidebar toggleSidebar={toggleSendSidebar} open={sendSidebarOpen} invoice={data} />\n\n      }\n      <AddPayment toggleSidebar={toggleAddSidebar} open={addPaymentOpen} data={data} />\n    </div>\n  ) : (\n    <Alert color='danger'>\n      <h4 className='alert-heading'>Reimbursement not found</h4>\n      <div className='alert-body'>\n        Reimbursement with id: {id} doesn't exist. Check list of all invoices:{' '}\n        <Link to='/invoice/list'>Reimbursement List</Link>\n      </div>\n    </Alert>\n  )\n}\n\nexport default InvoicePreview\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.draftjsToHtml = factory());\n}(this, (function () { 'use strict';\n\n  /**\n  * Utility function to execute callback for eack key->value pair.\n  */\n  function forEach(obj, callback) {\n    if (obj) {\n      for (var key in obj) {\n        // eslint-disable-line no-restricted-syntax\n        if ({}.hasOwnProperty.call(obj, key)) {\n          callback(key, obj[key]);\n        }\n      }\n    }\n  }\n  /**\n  * The function returns true if the string passed to it has no content.\n  */\n\n  function isEmptyString(str) {\n    if (str === undefined || str === null || str.length === 0 || str.trim().length === 0) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n  * Mapping block-type to corresponding html tag.\n  */\n\n  var blockTypesMapping = {\n    unstyled: 'p',\n    'header-one': 'h1',\n    'header-two': 'h2',\n    'header-three': 'h3',\n    'header-four': 'h4',\n    'header-five': 'h5',\n    'header-six': 'h6',\n    'unordered-list-item': 'ul',\n    'ordered-list-item': 'ol',\n    blockquote: 'blockquote',\n    code: 'pre'\n  };\n  /**\n  * Function will return HTML tag for a block.\n  */\n\n  function getBlockTag(type) {\n    return type && blockTypesMapping[type];\n  }\n  /**\n  * Function will return style string for a block.\n  */\n\n  function getBlockStyle(data) {\n    var styles = '';\n    forEach(data, function (key, value) {\n      if (value) {\n        styles += \"\".concat(key, \":\").concat(value, \";\");\n      }\n    });\n    return styles;\n  }\n  /**\n  * The function returns an array of hashtag-sections in blocks.\n  * These will be areas in block which have hashtags applicable to them.\n  */\n\n  function getHashtagRanges(blockText, hashtagConfig) {\n    var sections = [];\n\n    if (hashtagConfig) {\n      var counter = 0;\n      var startIndex = 0;\n      var text = blockText;\n      var trigger = hashtagConfig.trigger || '#';\n      var separator = hashtagConfig.separator || ' ';\n\n      for (; text.length > 0 && startIndex >= 0;) {\n        if (text[0] === trigger) {\n          startIndex = 0;\n          counter = 0;\n          text = text.substr(trigger.length);\n        } else {\n          startIndex = text.indexOf(separator + trigger);\n\n          if (startIndex >= 0) {\n            text = text.substr(startIndex + (separator + trigger).length);\n            counter += startIndex + separator.length;\n          }\n        }\n\n        if (startIndex >= 0) {\n          var endIndex = text.indexOf(separator) >= 0 ? text.indexOf(separator) : text.length;\n          var hashtag = text.substr(0, endIndex);\n\n          if (hashtag && hashtag.length > 0) {\n            sections.push({\n              offset: counter,\n              length: hashtag.length + trigger.length,\n              type: 'HASHTAG'\n            });\n          }\n\n          counter += trigger.length;\n        }\n      }\n    }\n\n    return sections;\n  }\n  /**\n  * The function returns an array of entity-sections in blocks.\n  * These will be areas in block which have same entity or no entity applicable to them.\n  */\n\n\n  function getSections(block, hashtagConfig) {\n    var sections = [];\n    var lastOffset = 0;\n    var sectionRanges = block.entityRanges.map(function (range) {\n      var offset = range.offset,\n          length = range.length,\n          key = range.key;\n      return {\n        offset: offset,\n        length: length,\n        key: key,\n        type: 'ENTITY'\n      };\n    });\n    sectionRanges = sectionRanges.concat(getHashtagRanges(block.text, hashtagConfig));\n    sectionRanges = sectionRanges.sort(function (s1, s2) {\n      return s1.offset - s2.offset;\n    });\n    sectionRanges.forEach(function (r) {\n      if (r.offset > lastOffset) {\n        sections.push({\n          start: lastOffset,\n          end: r.offset\n        });\n      }\n\n      sections.push({\n        start: r.offset,\n        end: r.offset + r.length,\n        entityKey: r.key,\n        type: r.type\n      });\n      lastOffset = r.offset + r.length;\n    });\n\n    if (lastOffset < block.text.length) {\n      sections.push({\n        start: lastOffset,\n        end: block.text.length\n      });\n    }\n\n    return sections;\n  }\n  /**\n  * Function to check if the block is an atomic entity block.\n  */\n\n\n  function isAtomicEntityBlock(block) {\n    if (block.entityRanges.length > 0 && (isEmptyString(block.text) || block.type === 'atomic')) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n  * The function will return array of inline styles applicable to the block.\n  */\n\n\n  function getStyleArrayForBlock(block) {\n    var text = block.text,\n        inlineStyleRanges = block.inlineStyleRanges;\n    var inlineStyles = {\n      BOLD: new Array(text.length),\n      ITALIC: new Array(text.length),\n      UNDERLINE: new Array(text.length),\n      STRIKETHROUGH: new Array(text.length),\n      CODE: new Array(text.length),\n      SUPERSCRIPT: new Array(text.length),\n      SUBSCRIPT: new Array(text.length),\n      COLOR: new Array(text.length),\n      BGCOLOR: new Array(text.length),\n      FONTSIZE: new Array(text.length),\n      FONTFAMILY: new Array(text.length),\n      length: text.length\n    };\n\n    if (inlineStyleRanges && inlineStyleRanges.length > 0) {\n      inlineStyleRanges.forEach(function (range) {\n        var offset = range.offset;\n        var length = offset + range.length;\n\n        for (var i = offset; i < length; i += 1) {\n          if (range.style.indexOf('color-') === 0) {\n            inlineStyles.COLOR[i] = range.style.substring(6);\n          } else if (range.style.indexOf('bgcolor-') === 0) {\n            inlineStyles.BGCOLOR[i] = range.style.substring(8);\n          } else if (range.style.indexOf('fontsize-') === 0) {\n            inlineStyles.FONTSIZE[i] = range.style.substring(9);\n          } else if (range.style.indexOf('fontfamily-') === 0) {\n            inlineStyles.FONTFAMILY[i] = range.style.substring(11);\n          } else if (inlineStyles[range.style]) {\n            inlineStyles[range.style][i] = true;\n          }\n        }\n      });\n    }\n\n    return inlineStyles;\n  }\n  /**\n  * The function will return inline style applicable at some offset within a block.\n  */\n\n\n  function getStylesAtOffset(inlineStyles, offset) {\n    var styles = {};\n\n    if (inlineStyles.COLOR[offset]) {\n      styles.COLOR = inlineStyles.COLOR[offset];\n    }\n\n    if (inlineStyles.BGCOLOR[offset]) {\n      styles.BGCOLOR = inlineStyles.BGCOLOR[offset];\n    }\n\n    if (inlineStyles.FONTSIZE[offset]) {\n      styles.FONTSIZE = inlineStyles.FONTSIZE[offset];\n    }\n\n    if (inlineStyles.FONTFAMILY[offset]) {\n      styles.FONTFAMILY = inlineStyles.FONTFAMILY[offset];\n    }\n\n    if (inlineStyles.UNDERLINE[offset]) {\n      styles.UNDERLINE = true;\n    }\n\n    if (inlineStyles.ITALIC[offset]) {\n      styles.ITALIC = true;\n    }\n\n    if (inlineStyles.BOLD[offset]) {\n      styles.BOLD = true;\n    }\n\n    if (inlineStyles.STRIKETHROUGH[offset]) {\n      styles.STRIKETHROUGH = true;\n    }\n\n    if (inlineStyles.CODE[offset]) {\n      styles.CODE = true;\n    }\n\n    if (inlineStyles.SUBSCRIPT[offset]) {\n      styles.SUBSCRIPT = true;\n    }\n\n    if (inlineStyles.SUPERSCRIPT[offset]) {\n      styles.SUPERSCRIPT = true;\n    }\n\n    return styles;\n  }\n  /**\n  * Function returns true for a set of styles if the value of these styles at an offset\n  * are same as that on the previous offset.\n  */\n\n  function sameStyleAsPrevious(inlineStyles, styles, index) {\n    var sameStyled = true;\n\n    if (index > 0 && index < inlineStyles.length) {\n      styles.forEach(function (style) {\n        sameStyled = sameStyled && inlineStyles[style][index] === inlineStyles[style][index - 1];\n      });\n    } else {\n      sameStyled = false;\n    }\n\n    return sameStyled;\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n  function addInlineStyleMarkup(style, content) {\n    if (style === 'BOLD') {\n      return \"<strong>\".concat(content, \"</strong>\");\n    }\n\n    if (style === 'ITALIC') {\n      return \"<em>\".concat(content, \"</em>\");\n    }\n\n    if (style === 'UNDERLINE') {\n      return \"<ins>\".concat(content, \"</ins>\");\n    }\n\n    if (style === 'STRIKETHROUGH') {\n      return \"<del>\".concat(content, \"</del>\");\n    }\n\n    if (style === 'CODE') {\n      return \"<code>\".concat(content, \"</code>\");\n    }\n\n    if (style === 'SUPERSCRIPT') {\n      return \"<sup>\".concat(content, \"</sup>\");\n    }\n\n    if (style === 'SUBSCRIPT') {\n      return \"<sub>\".concat(content, \"</sub>\");\n    }\n\n    return content;\n  }\n  /**\n  * The function returns text for given section of block after doing required character replacements.\n  */\n\n  function getSectionText(text) {\n    if (text && text.length > 0) {\n      var chars = text.map(function (ch) {\n        switch (ch) {\n          case '\\n':\n            return '<br>';\n\n          case '&':\n            return '&amp;';\n\n          case '<':\n            return '&lt;';\n\n          case '>':\n            return '&gt;';\n\n          default:\n            return ch;\n        }\n      });\n      return chars.join('');\n    }\n\n    return '';\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n\n  function addStylePropertyMarkup(styles, text) {\n    if (styles && (styles.COLOR || styles.BGCOLOR || styles.FONTSIZE || styles.FONTFAMILY)) {\n      var styleString = 'style=\"';\n\n      if (styles.COLOR) {\n        styleString += \"color: \".concat(styles.COLOR, \";\");\n      }\n\n      if (styles.BGCOLOR) {\n        styleString += \"background-color: \".concat(styles.BGCOLOR, \";\");\n      }\n\n      if (styles.FONTSIZE) {\n        styleString += \"font-size: \".concat(styles.FONTSIZE).concat(/^\\d+$/.test(styles.FONTSIZE) ? 'px' : '', \";\");\n      }\n\n      if (styles.FONTFAMILY) {\n        styleString += \"font-family: \".concat(styles.FONTFAMILY, \";\");\n      }\n\n      styleString += '\"';\n      return \"<span \".concat(styleString, \">\").concat(text, \"</span>\");\n    }\n\n    return text;\n  }\n  /**\n  * Function will return markup for Entity.\n  */\n\n  function getEntityMarkup(entityMap, entityKey, text, customEntityTransform) {\n    var entity = entityMap[entityKey];\n\n    if (typeof customEntityTransform === 'function') {\n      var html = customEntityTransform(entity, text);\n\n      if (html) {\n        return html;\n      }\n    }\n\n    if (entity.type === 'MENTION') {\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" class=\\\"wysiwyg-mention\\\" data-mention data-value=\\\"\").concat(entity.data.value, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'LINK') {\n      var targetOption = entity.data.targetOption || '_self';\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" target=\\\"\").concat(targetOption, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'IMAGE') {\n      var alignment = entity.data.alignment;\n\n      if (alignment && alignment.length) {\n        return \"<div style=\\\"text-align:\".concat(alignment, \";\\\"><img src=\\\"\").concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/></div>\");\n      }\n\n      return \"<img src=\\\"\".concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/>\");\n    }\n\n    if (entity.type === 'EMBEDDED_LINK') {\n      return \"<iframe width=\\\"\".concat(entity.data.width, \"\\\" height=\\\"\").concat(entity.data.height, \"\\\" src=\\\"\").concat(entity.data.src, \"\\\" frameBorder=\\\"0\\\"></iframe>\");\n    }\n\n    return text;\n  }\n  /**\n  * For a given section in a block the function will return a further list of sections,\n  * with similar inline styles applicable to them.\n  */\n\n\n  function getInlineStyleSections(block, styles, start, end) {\n    var styleSections = [];\n    var text = Array.from(block.text);\n\n    if (text.length > 0) {\n      var inlineStyles = getStyleArrayForBlock(block);\n      var section;\n\n      for (var i = start; i < end; i += 1) {\n        if (i !== start && sameStyleAsPrevious(inlineStyles, styles, i)) {\n          section.text.push(text[i]);\n          section.end = i + 1;\n        } else {\n          section = {\n            styles: getStylesAtOffset(inlineStyles, i),\n            text: [text[i]],\n            start: i,\n            end: i + 1\n          };\n          styleSections.push(section);\n        }\n      }\n    }\n\n    return styleSections;\n  }\n  /**\n  * Replace leading blank spaces by &nbsp;\n  */\n\n\n  function trimLeadingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = 0; i < replacedText.length; i += 1) {\n        if (sectionText[i] === ' ') {\n          replacedText = replacedText.replace(' ', '&nbsp;');\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * Replace trailing blank spaces by &nbsp;\n  */\n\n  function trimTrailingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = replacedText.length - 1; i >= 0; i -= 1) {\n        if (replacedText[i] === ' ') {\n          replacedText = \"\".concat(replacedText.substring(0, i), \"&nbsp;\").concat(replacedText.substring(i + 1));\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  * like BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE, SUPERSCRIPT, SUBSCRIPT are applicable.\n  */\n\n  function getStyleTagSectionMarkup(styleSection) {\n    var styles = styleSection.styles,\n        text = styleSection.text;\n    var content = getSectionText(text);\n    forEach(styles, function (style, value) {\n      content = addInlineStyleMarkup(style, content);\n    });\n    return content;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  like color, background-color, font-size are applicable.\n  */\n\n\n  function getInlineStyleSectionMarkup(block, styleSection) {\n    var styleTagSections = getInlineStyleSections(block, ['BOLD', 'ITALIC', 'UNDERLINE', 'STRIKETHROUGH', 'CODE', 'SUPERSCRIPT', 'SUBSCRIPT'], styleSection.start, styleSection.end);\n    var styleSectionText = '';\n    styleTagSections.forEach(function (stylePropertySection) {\n      styleSectionText += getStyleTagSectionMarkup(stylePropertySection);\n    });\n    styleSectionText = addStylePropertyMarkup(styleSection.styles, styleSectionText);\n    return styleSectionText;\n  }\n  /*\n  * The method returns markup for an entity section.\n  * An entity section is a continuous section in a block\n  * to which same entity or no entity is applicable.\n  */\n\n\n  function getSectionMarkup(block, entityMap, section, customEntityTransform) {\n    var entityInlineMarkup = [];\n    var inlineStyleSections = getInlineStyleSections(block, ['COLOR', 'BGCOLOR', 'FONTSIZE', 'FONTFAMILY'], section.start, section.end);\n    inlineStyleSections.forEach(function (styleSection) {\n      entityInlineMarkup.push(getInlineStyleSectionMarkup(block, styleSection));\n    });\n    var sectionText = entityInlineMarkup.join('');\n\n    if (section.type === 'ENTITY') {\n      if (section.entityKey !== undefined && section.entityKey !== null) {\n        sectionText = getEntityMarkup(entityMap, section.entityKey, sectionText, customEntityTransform); // eslint-disable-line max-len\n      }\n    } else if (section.type === 'HASHTAG') {\n      sectionText = \"<a href=\\\"\".concat(sectionText, \"\\\" class=\\\"wysiwyg-hashtag\\\">\").concat(sectionText, \"</a>\");\n    }\n\n    return sectionText;\n  }\n  /**\n  * Function will return the markup for block preserving the inline styles and\n  * special characters like newlines or blank spaces.\n  */\n\n\n  function getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform) {\n    var blockMarkup = [];\n    var sections = getSections(block, hashtagConfig);\n    sections.forEach(function (section, index) {\n      var sectionText = getSectionMarkup(block, entityMap, section, customEntityTransform);\n\n      if (index === 0) {\n        sectionText = trimLeadingZeros(sectionText);\n      }\n\n      if (index === sections.length - 1) {\n        sectionText = trimTrailingZeros(sectionText);\n      }\n\n      blockMarkup.push(sectionText);\n    });\n    return blockMarkup.join('');\n  }\n  /**\n  * Function will return html for the block.\n  */\n\n  function getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var blockHtml = [];\n\n    if (isAtomicEntityBlock(block)) {\n      blockHtml.push(getEntityMarkup(entityMap, block.entityRanges[0].key, undefined, customEntityTransform));\n    } else {\n      var blockTag = getBlockTag(block.type);\n\n      if (blockTag) {\n        blockHtml.push(\"<\".concat(blockTag));\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          blockHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          blockHtml.push(' dir = \"auto\"');\n        }\n\n        blockHtml.push('>');\n        blockHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        blockHtml.push(\"</\".concat(blockTag, \">\"));\n      }\n    }\n\n    blockHtml.push('\\n');\n    return blockHtml.join('');\n  }\n\n  /**\n  * Function to check if a block is of type list.\n  */\n\n  function isList(blockType) {\n    return blockType === 'unordered-list-item' || blockType === 'ordered-list-item';\n  }\n  /**\n  * Function will return html markup for a list block.\n  */\n\n  function getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var listHtml = [];\n    var nestedListBlock = [];\n    var previousBlock;\n    listBlocks.forEach(function (block) {\n      var nestedBlock = false;\n\n      if (!previousBlock) {\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.type !== block.type) {\n        listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.depth === block.depth) {\n        if (nestedListBlock && nestedListBlock.length > 0) {\n          listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n          nestedListBlock = [];\n        }\n      } else {\n        nestedBlock = true;\n        nestedListBlock.push(block);\n      }\n\n      if (!nestedBlock) {\n        listHtml.push('<li');\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          listHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          listHtml.push(' dir = \"auto\"');\n        }\n\n        listHtml.push('>');\n        listHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        listHtml.push('</li>\\n');\n        previousBlock = block;\n      }\n    });\n\n    if (nestedListBlock && nestedListBlock.length > 0) {\n      listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n    }\n\n    listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n    return listHtml.join('');\n  }\n\n  /**\n  * The function will generate html markup for given draftjs editorContent.\n  */\n\n  function draftToHtml(editorContent, hashtagConfig, directional, customEntityTransform) {\n    var html = [];\n\n    if (editorContent) {\n      var blocks = editorContent.blocks,\n          entityMap = editorContent.entityMap;\n\n      if (blocks && blocks.length > 0) {\n        var listBlocks = [];\n        blocks.forEach(function (block) {\n          if (isList(block.type)) {\n            listBlocks.push(block);\n          } else {\n            if (listBlocks.length > 0) {\n              var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, customEntityTransform); // eslint-disable-line max-len\n\n              html.push(listHtml);\n              listBlocks = [];\n            }\n\n            var blockHtml = getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform);\n            html.push(blockHtml);\n          }\n        });\n\n        if (listBlocks.length > 0) {\n          var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform); // eslint-disable-line max-len\n\n          html.push(listHtml);\n          listBlocks = [];\n        }\n      }\n    }\n\n    return html.join('');\n  }\n\n  return draftToHtml;\n\n})));\n","import { I as cleanValue, D as valueTernary, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { g as getOptionValue, a as getOptionLabel } from './Select-09b3775e.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\n\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\n\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n      allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n      _ref$createOptionPosi = _ref.createOptionPosition,\n      createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n      _ref$formatCreateLabe = _ref.formatCreateLabel,\n      formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n      _ref$isValidNewOption = _ref.isValidNewOption,\n      isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n      _ref$getNewOptionData = _ref.getNewOptionData,\n      getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n      onCreateOption = _ref.onCreateOption,\n      _ref$options = _ref.options,\n      propsOptions = _ref$options === void 0 ? [] : _ref$options,\n      propsOnChange = _ref.onChange,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n      getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n      _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n      getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n      inputValue = restSelectProps.inputValue,\n      isLoading = restSelectProps.isLoading,\n      isMulti = restSelectProps.isMulti,\n      value = restSelectProps.value,\n      name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport React from 'react';\nimport { S as Select } from '../../dist/Select-09b3775e.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-783b07d5.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-00a6568c.esm.js';\nimport '../../dist/index-c7a4d7ce.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\nimport '@babel/runtime/helpers/slicedToArray';\n\nvar CreatableSelect = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var creatableProps = useStateManager(props);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\n\nexport default CreatableSelect;\n","// ** Third Party Components\nimport { X } from 'react-feather'\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\n\nconst Sidebar = props => {\n  // ** Props\n  const {\n    open,\n    size,\n    title,\n    width,\n    children,\n    closeBtn,\n    className,\n    toggleSidebar,\n    bodyClassName,\n    contentClassName,\n    wrapperClassName,\n    headerClassName,\n    ...rest\n  } = props\n\n  // ** If user passes custom close btn render that else default close btn\n  const renderCloseBtn = closeBtn ? closeBtn : <X className='cursor-pointer' size={15} onClick={toggleSidebar} />\n\n  return (\n    <Modal\n      isOpen={open}\n      toggle={toggleSidebar}\n      contentClassName={classnames('overflow-hidden', {\n        [contentClassName]: contentClassName\n      })}\n      modalClassName={classnames('modal-slide-in', {\n        [wrapperClassName]: wrapperClassName\n      })}\n      className={classnames({\n        [className]: className,\n        'sidebar-lg': size === 'lg',\n        'sidebar-sm': size === 'sm'\n      })}\n      /*eslint-disable */\n      {...(width !== undefined\n        ? {\n            style: { width: String(width) + 'px' }\n          }\n        : {})}\n      /*eslint-enable */\n      {...rest}\n    >\n      <ModalHeader\n        className={classnames({\n          [headerClassName]: headerClassName\n        })}\n        toggle={toggleSidebar}\n        close={renderCloseBtn}\n        tag='div'\n      >\n        <h5 className='modal-title'>\n          <span className='align-middle'>{title}</span>\n        </h5>\n      </ModalHeader>\n      <PerfectScrollbar options={{ wheelPropagation: false }}>\n        <ModalBody\n          className={classnames('flex-grow-1', {\n            [bodyClassName]: bodyClassName\n          })}\n        >\n          {children}\n        </ModalBody>\n      </PerfectScrollbar>\n    </Modal>\n  )\n}\n\nexport default Sidebar\n\n// ** PropTypes\nSidebar.propTypes = {\n  className: Proptypes.string,\n  bodyClassName: Proptypes.string,\n  open: Proptypes.bool.isRequired,\n  title: Proptypes.string.isRequired,\n  contentClassName: Proptypes.string,\n  wrapperClassName: Proptypes.string,\n  children: Proptypes.any.isRequired,\n  size: Proptypes.oneOf(['sm', 'lg']),\n  toggleSidebar: Proptypes.func.isRequired,\n  width: Proptypes.oneOfType([Proptypes.number, Proptypes.string])\n}\n"],"sourceRoot":""}